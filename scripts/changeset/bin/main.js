#!/usr/bin/env bun
// @bun
var tu=Object.create;var{getPrototypeOf:su,defineProperty:Tt,getOwnPropertyNames:hu}=Object;var fu=Object.prototype.hasOwnProperty;var Gi=(i,r,t)=>{t=i!=null?tu(su(i)):{};let s=r||!i||!i.__esModule?Tt(t,"default",{value:i,enumerable:!0}):t;for(let h of hu(i))if(!fu.call(s,h))Tt(s,h,{get:()=>i[h],enumerable:!0});return s};var _=(i,r)=>()=>(r||i((r={exports:{}}).exports,r),r.exports);var J=import.meta.require;var zr=_((CS,Wr)=>{var ai=process||{},pt=ai.argv||[],Ri=ai.env||{},$u=!(!!Ri.NO_COLOR||pt.includes("--no-color"))&&(!!Ri.FORCE_COLOR||pt.includes("--color")||ai.platform==="win32"||(ai.stdout||{}).isTTY&&Ri.TERM!=="dumb"||!!Ri.CI),Cu=(i,r,t=i)=>(s)=>{let h=""+s,f=h.indexOf(r,i.length);return~f?i+qu(h,r,t,f)+r:i+h+r},qu=(i,r,t,s)=>{let h="",f=0;do h+=i.substring(f,s)+t,f=s+r.length,s=i.indexOf(r,f);while(~s);return h+i.substring(f)},is=(i=$u)=>{let r=i?Cu:()=>String;return{isColorSupported:i,reset:r("\x1B[0m","\x1B[0m"),bold:r("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"),dim:r("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"),italic:r("\x1B[3m","\x1B[23m"),underline:r("\x1B[4m","\x1B[24m"),inverse:r("\x1B[7m","\x1B[27m"),hidden:r("\x1B[8m","\x1B[28m"),strikethrough:r("\x1B[9m","\x1B[29m"),black:r("\x1B[30m","\x1B[39m"),red:r("\x1B[31m","\x1B[39m"),green:r("\x1B[32m","\x1B[39m"),yellow:r("\x1B[33m","\x1B[39m"),blue:r("\x1B[34m","\x1B[39m"),magenta:r("\x1B[35m","\x1B[39m"),cyan:r("\x1B[36m","\x1B[39m"),white:r("\x1B[37m","\x1B[39m"),gray:r("\x1B[90m","\x1B[39m"),bgBlack:r("\x1B[40m","\x1B[49m"),bgRed:r("\x1B[41m","\x1B[49m"),bgGreen:r("\x1B[42m","\x1B[49m"),bgYellow:r("\x1B[43m","\x1B[49m"),bgBlue:r("\x1B[44m","\x1B[49m"),bgMagenta:r("\x1B[45m","\x1B[49m"),bgCyan:r("\x1B[46m","\x1B[49m"),bgWhite:r("\x1B[47m","\x1B[49m"),blackBright:r("\x1B[90m","\x1B[39m"),redBright:r("\x1B[91m","\x1B[39m"),greenBright:r("\x1B[92m","\x1B[39m"),yellowBright:r("\x1B[93m","\x1B[39m"),blueBright:r("\x1B[94m","\x1B[39m"),magentaBright:r("\x1B[95m","\x1B[39m"),cyanBright:r("\x1B[96m","\x1B[39m"),whiteBright:r("\x1B[97m","\x1B[39m"),bgBlackBright:r("\x1B[100m","\x1B[49m"),bgRedBright:r("\x1B[101m","\x1B[49m"),bgGreenBright:r("\x1B[102m","\x1B[49m"),bgYellowBright:r("\x1B[103m","\x1B[49m"),bgBlueBright:r("\x1B[104m","\x1B[49m"),bgMagentaBright:r("\x1B[105m","\x1B[49m"),bgCyanBright:r("\x1B[106m","\x1B[49m"),bgWhiteBright:r("\x1B[107m","\x1B[49m")}};Wr.exports=is();Wr.exports.createColors=is});var es=_((hs)=>{Object.defineProperty(hs,"__esModule",{value:!0});hs.splitWhen=hs.flatten=void 0;function Bu(i){return i.reduce((r,t)=>[].concat(r,t),[])}hs.flatten=Bu;function Vu(i,r){let t=[[]],s=0;for(let h of i)if(r(h))s++,t[s]=[];else t[s].push(h);return t}hs.splitWhen=Vu});var ds=_((ns)=>{Object.defineProperty(ns,"__esModule",{value:!0});ns.isEnoentCodeError=void 0;function Lu(i){return i.code==="ENOENT"}ns.isEnoentCodeError=Lu});var ms=_((gs)=>{Object.defineProperty(gs,"__esModule",{value:!0});gs.createDirentFromStats=void 0;class us{constructor(i,r){this.name=i,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}}function Wu(i,r){return new us(i,r)}gs.createDirentFromStats=Wu});var qs=_(($s)=>{Object.defineProperty($s,"__esModule",{value:!0});$s.convertPosixPathToPattern=$s.convertWindowsPathToPattern=$s.convertPathToPattern=$s.escapePosixPath=$s.escapeWindowsPath=$s.escape=$s.removeLeadingDotSegment=$s.makeAbsolute=$s.unixify=void 0;var zu=J("os"),Du=J("path"),_s=zu.platform()==="win32",Ou=2,Yu=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\()|\\(?![!()*+?@[\]{|}]))/g,Pu=/(\\?)([()[\]{}]|^!|[!+@](?=\())/g,Zu=/^\\\\([.?])/,Ju=/\\(?![!()+@[\]{}])/g;function Iu(i){return i.replace(/\\/g,"/")}$s.unixify=Iu;function Uu(i,r){return Du.resolve(i,r)}$s.makeAbsolute=Uu;function Qu(i){if(i.charAt(0)==="."){let r=i.charAt(1);if(r==="/"||r==="\\")return i.slice(Ou)}return i}$s.removeLeadingDotSegment=Qu;$s.escape=_s?Or:Yr;function Or(i){return i.replace(Pu,"\\$2")}$s.escapeWindowsPath=Or;function Yr(i){return i.replace(Yu,"\\$2")}$s.escapePosixPath=Yr;$s.convertPathToPattern=_s?ys:Ss;function ys(i){return Or(i).replace(Zu,"//$1").replace(Ju,"/")}$s.convertWindowsPathToPattern=ys;function Ss(i){return Yr(i)}$s.convertPosixPathToPattern=Ss});var xs=_((WS,Fs)=>{/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */Fs.exports=function i(r){if(typeof r!=="string"||r==="")return!1;var t;while(t=/(\\).|([@?!+*]\(.*\))/g.exec(r)){if(t[2])return!0;r=r.slice(t.index+t[0].length)}return!1}});var Bs=_((zS,js)=>{/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Ru=xs(),Ms={"{":"}","(":")","[":"]"},au=function(i){if(i[0]==="!")return!0;var r=0,t=-2,s=-2,h=-2,f=-2,e=-2;while(r<i.length){if(i[r]==="*")return!0;if(i[r+1]==="?"&&/[\].+)]/.test(i[r]))return!0;if(s!==-1&&i[r]==="["&&i[r+1]!=="]"){if(s<r)s=i.indexOf("]",r);if(s>r){if(e===-1||e>s)return!0;if(e=i.indexOf("\\",r),e===-1||e>s)return!0}}if(h!==-1&&i[r]==="{"&&i[r+1]!=="}"){if(h=i.indexOf("}",r),h>r){if(e=i.indexOf("\\",r),e===-1||e>h)return!0}}if(f!==-1&&i[r]==="("&&i[r+1]==="?"&&/[:!=]/.test(i[r+2])&&i[r+3]!==")"){if(f=i.indexOf(")",r),f>r){if(e=i.indexOf("\\",r),e===-1||e>f)return!0}}if(t!==-1&&i[r]==="("&&i[r+1]!=="|"){if(t<r)t=i.indexOf("|",r);if(t!==-1&&i[t+1]!==")"){if(f=i.indexOf(")",t),f>t){if(e=i.indexOf("\\",t),e===-1||e>f)return!0}}}if(i[r]==="\\"){var n=i[r+1];r+=2;var l=Ms[n];if(l){var d=i.indexOf(l,r);if(d!==-1)r=d+1}if(i[r]==="!")return!0}else r++}return!1},cu=function(i){if(i[0]==="!")return!0;var r=0;while(r<i.length){if(/[*?{}()[\]]/.test(i[r]))return!0;if(i[r]==="\\"){var t=i[r+1];r+=2;var s=Ms[t];if(s){var h=i.indexOf(s,r);if(h!==-1)r=h+1}if(i[r]==="!")return!0}else r++}return!1};js.exports=function i(r,t){if(typeof r!=="string"||r==="")return!1;if(Ru(r))return!0;var s=au;if(t&&t.strict===!1)s=cu;return s(r)}});var Es=_((DS,Vs)=>{var ku=Bs(),vu=J("path").posix.dirname,ou=J("os").platform()==="win32",Pr="/",pu=/\\/g,ig=/[\{\[].*[\}\]]$/,rg=/(^|[^\\])([\{\[]|\([^\)]+$)/,tg=/\\([\!\*\?\|\[\]\(\)\{\}])/g;Vs.exports=function i(r,t){var s=Object.assign({flipBackslashes:!0},t);if(s.flipBackslashes&&ou&&r.indexOf(Pr)<0)r=r.replace(pu,Pr);if(ig.test(r))r+=Pr;r+="a";do r=vu(r);while(ku(r)||rg.test(r));return r.replace(tg,"$1")}});var ci=_((sg)=>{sg.isInteger=(i)=>{if(typeof i==="number")return Number.isInteger(i);if(typeof i==="string"&&i.trim()!=="")return Number.isInteger(Number(i));return!1};sg.find=(i,r)=>i.nodes.find((t)=>t.type===r);sg.exceedsLimit=(i,r,t=1,s)=>{if(s===!1)return!1;if(!sg.isInteger(i)||!sg.isInteger(r))return!1;return(Number(r)-Number(i))/Number(t)>=s};sg.escapeNode=(i,r=0,t)=>{let s=i.nodes[r];if(!s)return;if(t&&s.type===t||s.type==="open"||s.type==="close"){if(s.escaped!==!0)s.value="\\"+s.value,s.escaped=!0}};sg.encloseBrace=(i)=>{if(i.type!=="brace")return!1;if(i.commas>>0+i.ranges>>0===0)return i.invalid=!0,!0;return!1};sg.isInvalidBrace=(i)=>{if(i.type!=="brace")return!1;if(i.invalid===!0||i.dollar)return!0;if(i.commas>>0+i.ranges>>0===0)return i.invalid=!0,!0;if(i.open!==!0||i.close!==!0)return i.invalid=!0,!0;return!1};sg.isOpenOrClose=(i)=>{if(i.type==="open"||i.type==="close")return!0;return i.open===!0||i.close===!0};sg.reduce=(i)=>i.reduce((r,t)=>{if(t.type==="text")r.push(t.value);if(t.type==="range")t.type="text";return r},[]);sg.flatten=(...i)=>{let r=[],t=(s)=>{for(let h=0;h<s.length;h++){let f=s[h];if(Array.isArray(f)){t(f);continue}if(f!==void 0)r.push(f)}return r};return t(i),r}});var ki=_((YS,Ws)=>{var Ls=ci();Ws.exports=(i,r={})=>{let t=(s,h={})=>{let f=r.escapeInvalid&&Ls.isInvalidBrace(h),e=s.invalid===!0&&r.escapeInvalid===!0,n="";if(s.value){if((f||e)&&Ls.isOpenOrClose(s))return"\\"+s.value;return s.value}if(s.value)return s.value;if(s.nodes)for(let l of s.nodes)n+=t(l);return n};return t(i)}});var Ds=_((PS,zs)=>{/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */zs.exports=function(i){if(typeof i==="number")return i-i===0;if(typeof i==="string"&&i.trim()!=="")return Number.isFinite?Number.isFinite(+i):isFinite(+i);return!1}});var Ns=_((ZS,Qs)=>{/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */var Os=Ds(),Ci=(i,r,t)=>{if(Os(i)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(r===void 0||i===r)return String(i);if(Os(r)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let s={relaxZeros:!0,...t};if(typeof s.strictZeros==="boolean")s.relaxZeros=s.strictZeros===!1;let h=String(s.relaxZeros),f=String(s.shorthand),e=String(s.capture),n=String(s.wrap),l=i+":"+r+"="+h+f+e+n;if(Ci.cache.hasOwnProperty(l))return Ci.cache[l].result;let d=Math.min(i,r),u=Math.max(i,r);if(Math.abs(d-u)===1){let C=i+"|"+r;if(s.capture)return`(${C})`;if(s.wrap===!1)return C;return`(?:${C})`}let g=Us(i)||Us(r),w={min:i,max:r,a:d,b:u},F=[],m=[];if(g)w.isPadded=g,w.maxLen=String(w.max).length;if(d<0){let C=u<0?Math.abs(u):1;m=Ys(C,Math.abs(d),w,s),d=w.a=0}if(u>=0)F=Ys(d,u,w,s);if(w.negatives=m,w.positives=F,w.result=wg(m,F,s),s.capture===!0)w.result=`(${w.result})`;else if(s.wrap!==!1&&F.length+m.length>1)w.result=`(?:${w.result})`;return Ci.cache[l]=w,w.result};function wg(i,r,t){let s=Jr(i,r,"-",!1,t)||[],h=Jr(r,i,"",!1,t)||[],f=Jr(i,r,"-?",!0,t)||[];return s.concat(f).concat(h).join("|")}function mg(i,r){let t=1,s=1,h=Zs(i,t),f=new Set([r]);while(i<=h&&h<=r)f.add(h),t+=1,h=Zs(i,t);h=Js(r+1,s)-1;while(i<h&&h<=r)f.add(h),s+=1,h=Js(r+1,s)-1;return f=[...f],f.sort(Sg),f}function _g(i,r,t){if(i===r)return{pattern:i,count:[],digits:0};let s=yg(i,r),h=s.length,f="",e=0;for(let n=0;n<h;n++){let[l,d]=s[n];if(l===d)f+=l;else if(l!=="0"||d!=="9")f+=$g(l,d,t);else e++}if(e)f+=t.shorthand===!0?"\\d":"[0-9]";return{pattern:f,count:[e],digits:h}}function Ys(i,r,t,s){let h=mg(i,r),f=[],e=i,n;for(let l=0;l<h.length;l++){let d=h[l],u=_g(String(e),String(d),s),g="";if(!t.isPadded&&n&&n.pattern===u.pattern){if(n.count.length>1)n.count.pop();n.count.push(u.count[0]),n.string=n.pattern+Is(n.count),e=d+1;continue}if(t.isPadded)g=Cg(d,t,s);u.string=g+u.pattern+Is(u.count),f.push(u),e=d+1,n=u}return f}function Jr(i,r,t,s,h){let f=[];for(let e of i){let{string:n}=e;if(!s&&!Ps(r,"string",n))f.push(t+n);if(s&&Ps(r,"string",n))f.push(t+n)}return f}function yg(i,r){let t=[];for(let s=0;s<i.length;s++)t.push([i[s],r[s]]);return t}function Sg(i,r){return i>r?1:r>i?-1:0}function Ps(i,r,t){return i.some((s)=>s[r]===t)}function Zs(i,r){return Number(String(i).slice(0,-r)+"9".repeat(r))}function Js(i,r){return i-i%Math.pow(10,r)}function Is(i){let[r=0,t=""]=i;if(t||r>1)return`{${r+(t?","+t:"")}}`;return""}function $g(i,r,t){return`[${i}${r-i===1?"":"-"}${r}]`}function Us(i){return/^-?(0+)\d/.test(i)}function Cg(i,r,t){if(!r.isPadded)return i;let s=Math.abs(r.maxLen-String(i).length),h=t.relaxZeros!==!1;switch(s){case 0:return"";case 1:return h?"0?":"0";case 2:return h?"0{0,2}":"00";default:return h?`0{0,${s}}`:`0{${s}}`}}Ci.cache={};Ci.clearCache=()=>Ci.cache={};Qs.exports=Ci});var Qr=_((JS,Hs)=>{/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */var qg=J("util"),Ks=Ns(),Xs=(i)=>i!==null&&typeof i==="object"&&!Array.isArray(i),Fg=(i)=>{return(r)=>i===!0?Number(r):String(r)},Ir=(i)=>{return typeof i==="number"||typeof i==="string"&&i!==""},Oi=(i)=>Number.isInteger(+i),Ur=(i)=>{let r=`${i}`,t=-1;if(r[0]==="-")r=r.slice(1);if(r==="0")return!1;while(r[++t]==="0");return t>0},xg=(i,r,t)=>{if(typeof i==="string"||typeof r==="string")return!0;return t.stringify===!0},Mg=(i,r,t)=>{if(r>0){let s=i[0]==="-"?"-":"";if(s)i=i.slice(1);i=s+i.padStart(s?r-1:r,"0")}if(t===!1)return String(i);return i},oi=(i,r)=>{let t=i[0]==="-"?"-":"";if(t)i=i.slice(1),r--;while(i.length<r)i="0"+i;return t?"-"+i:i},jg=(i,r,t)=>{i.negatives.sort((n,l)=>n<l?-1:n>l?1:0),i.positives.sort((n,l)=>n<l?-1:n>l?1:0);let s=r.capture?"":"?:",h="",f="",e;if(i.positives.length)h=i.positives.map((n)=>oi(String(n),t)).join("|");if(i.negatives.length)f=`-(${s}${i.negatives.map((n)=>oi(String(n),t)).join("|")})`;if(h&&f)e=`${h}|${f}`;else e=h||f;if(r.wrap)return`(${s}${e})`;return e},bs=(i,r,t,s)=>{if(t)return Ks(i,r,{wrap:!1,...s});let h=String.fromCharCode(i);if(i===r)return h;let f=String.fromCharCode(r);return`[${h}-${f}]`},As=(i,r,t)=>{if(Array.isArray(i)){let s=t.wrap===!0,h=t.capture?"":"?:";return s?`(${h}${i.join("|")})`:i.join("|")}return Ks(i,r,t)},Gs=(...i)=>{return new RangeError("Invalid range arguments: "+qg.inspect(...i))},Ts=(i,r,t)=>{if(t.strictRanges===!0)throw Gs([i,r]);return[]},Bg=(i,r)=>{if(r.strictRanges===!0)throw new TypeError(`Expected step "${i}" to be a number`);return[]},Vg=(i,r,t=1,s={})=>{let h=Number(i),f=Number(r);if(!Number.isInteger(h)||!Number.isInteger(f)){if(s.strictRanges===!0)throw Gs([i,r]);return[]}if(h===0)h=0;if(f===0)f=0;let e=h>f,n=String(i),l=String(r),d=String(t);t=Math.max(Math.abs(t),1);let u=Ur(n)||Ur(l)||Ur(d),g=u?Math.max(n.length,l.length,d.length):0,w=u===!1&&xg(i,r,s)===!1,F=s.transform||Fg(w);if(s.toRegex&&t===1)return bs(oi(i,g),oi(r,g),!0,s);let m={negatives:[],positives:[]},C=(E)=>m[E<0?"negatives":"positives"].push(Math.abs(E)),L=[],M=0;while(e?h>=f:h<=f){if(s.toRegex===!0&&t>1)C(h);else L.push(Mg(F(h,M),g,w));h=e?h-t:h+t,M++}if(s.toRegex===!0)return t>1?jg(m,s,g):As(L,null,{wrap:!1,...s});return L},Eg=(i,r,t=1,s={})=>{if(!Oi(i)&&i.length>1||!Oi(r)&&r.length>1)return Ts(i,r,s);let h=s.transform||((w)=>String.fromCharCode(w)),f=`${i}`.charCodeAt(0),e=`${r}`.charCodeAt(0),n=f>e,l=Math.min(f,e),d=Math.max(f,e);if(s.toRegex&&t===1)return bs(l,d,!1,s);let u=[],g=0;while(n?f>=e:f<=e)u.push(h(f,g)),f=n?f-t:f+t,g++;if(s.toRegex===!0)return As(u,null,{wrap:!1,options:s});return u},vi=(i,r,t,s={})=>{if(r==null&&Ir(i))return[i];if(!Ir(i)||!Ir(r))return Ts(i,r,s);if(typeof t==="function")return vi(i,r,1,{transform:t});if(Xs(t))return vi(i,r,0,t);let h={...s};if(h.capture===!0)h.wrap=!0;if(t=t||h.step||1,!Oi(t)){if(t!=null&&!Xs(t))return Bg(t,h);return vi(i,r,1,t)}if(Oi(i)&&Oi(r))return Vg(i,r,t,h);return Eg(i,r,Math.max(Math.abs(t),1),h)};Hs.exports=vi});var cs=_((IS,as)=>{var Lg=Qr(),Rs=ci(),Wg=(i,r={})=>{let t=(s,h={})=>{let f=Rs.isInvalidBrace(h),e=s.invalid===!0&&r.escapeInvalid===!0,n=f===!0||e===!0,l=r.escapeInvalid===!0?"\\":"",d="";if(s.isOpen===!0)return l+s.value;if(s.isClose===!0)return console.log("node.isClose",l,s.value),l+s.value;if(s.type==="open")return n?l+s.value:"(";if(s.type==="close")return n?l+s.value:")";if(s.type==="comma")return s.prev.type==="comma"?"":n?s.value:"|";if(s.value)return s.value;if(s.nodes&&s.ranges>0){let u=Rs.reduce(s.nodes),g=Lg(...u,{...r,wrap:!1,toRegex:!0,strictZeros:!0});if(g.length!==0)return u.length>1&&g.length>1?`(${g})`:g}if(s.nodes)for(let u of s.nodes)d+=t(u,s);return d};return t(i)};as.exports=Wg});var os=_((US,vs)=>{var zg=Qr(),ks=ki(),Vi=ci(),qi=(i="",r="",t=!1)=>{let s=[];if(i=[].concat(i),r=[].concat(r),!r.length)return i;if(!i.length)return t?Vi.flatten(r).map((h)=>`{${h}}`):r;for(let h of i)if(Array.isArray(h))for(let f of h)s.push(qi(f,r,t));else for(let f of r){if(t===!0&&typeof f==="string")f=`{${f}}`;s.push(Array.isArray(f)?qi(h,f,t):h+f)}return Vi.flatten(s)},Dg=(i,r={})=>{let t=r.rangeLimit===void 0?1000:r.rangeLimit,s=(h,f={})=>{h.queue=[];let e=f,n=f.queue;while(e.type!=="brace"&&e.type!=="root"&&e.parent)e=e.parent,n=e.queue;if(h.invalid||h.dollar){n.push(qi(n.pop(),ks(h,r)));return}if(h.type==="brace"&&h.invalid!==!0&&h.nodes.length===2){n.push(qi(n.pop(),["{}"]));return}if(h.nodes&&h.ranges>0){let g=Vi.reduce(h.nodes);if(Vi.exceedsLimit(...g,r.step,t))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let w=zg(...g,r);if(w.length===0)w=ks(h,r);n.push(qi(n.pop(),w)),h.nodes=[];return}let l=Vi.encloseBrace(h),d=h.queue,u=h;while(u.type!=="brace"&&u.type!=="root"&&u.parent)u=u.parent,d=u.queue;for(let g=0;g<h.nodes.length;g++){let w=h.nodes[g];if(w.type==="comma"&&h.type==="brace"){if(g===1)d.push("");d.push("");continue}if(w.type==="close"){n.push(qi(n.pop(),d,l));continue}if(w.value&&w.type!=="open"){d.push(qi(d.pop(),w.value));continue}if(w.nodes)s(w,h)}return d};return Vi.flatten(s(i))};vs.exports=Dg});var ih=_((QS,ps)=>{ps.exports={MAX_LENGTH:1e4,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var fh=_((NS,hh)=>{var Og=ki(),{MAX_LENGTH:rh,CHAR_BACKSLASH:Nr,CHAR_BACKTICK:Yg,CHAR_COMMA:Pg,CHAR_DOT:Zg,CHAR_LEFT_PARENTHESES:Jg,CHAR_RIGHT_PARENTHESES:Ig,CHAR_LEFT_CURLY_BRACE:Ug,CHAR_RIGHT_CURLY_BRACE:Qg,CHAR_LEFT_SQUARE_BRACKET:th,CHAR_RIGHT_SQUARE_BRACKET:sh,CHAR_DOUBLE_QUOTE:Ng,CHAR_SINGLE_QUOTE:Xg,CHAR_NO_BREAK_SPACE:Kg,CHAR_ZERO_WIDTH_NOBREAK_SPACE:bg}=ih(),Ag=(i,r={})=>{if(typeof i!=="string")throw new TypeError("Expected a string");let t=r||{},s=typeof t.maxLength==="number"?Math.min(rh,t.maxLength):rh;if(i.length>s)throw new SyntaxError(`Input length (${i.length}), exceeds max characters (${s})`);let h={type:"root",input:i,nodes:[]},f=[h],e=h,n=h,l=0,d=i.length,u=0,g=0,w,F=()=>i[u++],m=(C)=>{if(C.type==="text"&&n.type==="dot")n.type="text";if(n&&n.type==="text"&&C.type==="text"){n.value+=C.value;return}return e.nodes.push(C),C.parent=e,C.prev=n,n=C,C};m({type:"bos"});while(u<d){if(e=f[f.length-1],w=F(),w===bg||w===Kg)continue;if(w===Nr){m({type:"text",value:(r.keepEscaping?w:"")+F()});continue}if(w===sh){m({type:"text",value:"\\"+w});continue}if(w===th){l++;let C;while(u<d&&(C=F())){if(w+=C,C===th){l++;continue}if(C===Nr){w+=F();continue}if(C===sh){if(l--,l===0)break}}m({type:"text",value:w});continue}if(w===Jg){e=m({type:"paren",nodes:[]}),f.push(e),m({type:"text",value:w});continue}if(w===Ig){if(e.type!=="paren"){m({type:"text",value:w});continue}e=f.pop(),m({type:"text",value:w}),e=f[f.length-1];continue}if(w===Ng||w===Xg||w===Yg){let C=w,L;if(r.keepQuotes!==!0)w="";while(u<d&&(L=F())){if(L===Nr){w+=L+F();continue}if(L===C){if(r.keepQuotes===!0)w+=L;break}w+=L}m({type:"text",value:w});continue}if(w===Ug){g++;let L={type:"brace",open:!0,close:!1,dollar:n.value&&n.value.slice(-1)==="$"||e.dollar===!0,depth:g,commas:0,ranges:0,nodes:[]};e=m(L),f.push(e),m({type:"open",value:w});continue}if(w===Qg){if(e.type!=="brace"){m({type:"text",value:w});continue}let C="close";e=f.pop(),e.close=!0,m({type:C,value:w}),g--,e=f[f.length-1];continue}if(w===Pg&&g>0){if(e.ranges>0){e.ranges=0;let C=e.nodes.shift();e.nodes=[C,{type:"text",value:Og(e)}]}m({type:"comma",value:w}),e.commas++;continue}if(w===Zg&&g>0&&e.commas===0){let C=e.nodes;if(g===0||C.length===0){m({type:"text",value:w});continue}if(n.type==="dot"){if(e.range=[],n.value+=w,n.type="range",e.nodes.length!==3&&e.nodes.length!==5){e.invalid=!0,e.ranges=0,n.type="text";continue}e.ranges++,e.args=[];continue}if(n.type==="range"){C.pop();let L=C[C.length-1];L.value+=n.value+w,n=L,e.ranges--;continue}m({type:"dot",value:w});continue}m({type:"text",value:w})}do if(e=f.pop(),e.type!=="root"){e.nodes.forEach((M)=>{if(!M.nodes){if(M.type==="open")M.isOpen=!0;if(M.type==="close")M.isClose=!0;if(!M.nodes)M.type="text";M.invalid=!0}});let C=f[f.length-1],L=C.nodes.indexOf(e);C.nodes.splice(L,1,...e.nodes)}while(f.length>0);return m({type:"eos"}),h};hh.exports=Ag});var lh=_((XS,nh)=>{var eh=ki(),Gg=cs(),Tg=os(),Hg=fh(),o=(i,r={})=>{let t=[];if(Array.isArray(i))for(let s of i){let h=o.create(s,r);if(Array.isArray(h))t.push(...h);else t.push(h)}else t=[].concat(o.create(i,r));if(r&&r.expand===!0&&r.nodupes===!0)t=[...new Set(t)];return t};o.parse=(i,r={})=>Hg(i,r);o.stringify=(i,r={})=>{if(typeof i==="string")return eh(o.parse(i,r),r);return eh(i,r)};o.compile=(i,r={})=>{if(typeof i==="string")i=o.parse(i,r);return Gg(i,r)};o.expand=(i,r={})=>{if(typeof i==="string")i=o.parse(i,r);let t=Tg(i,r);if(r.noempty===!0)t=t.filter(Boolean);if(r.nodupes===!0)t=[...new Set(t)];return t};o.create=(i,r={})=>{if(i===""||i.length<3)return[i];return r.expand!==!0?o.compile(i,r):o.expand(i,r)};nh.exports=o});var Yi=_((KS,uh)=>{var Rg=J("path"),dh={DOT_LITERAL:"\\.",PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:"\\/",ONE_CHAR:"(?=.)",QMARK:"[^/]",END_ANCHOR:"(?:\\/|$)",DOTS_SLASH:"\\.{1,2}(?:\\/|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|\\/)\\.{1,2}(?:\\/|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:\\/|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:\\/|$))",QMARK_NO_DOT:"[^.\\/]",STAR:"[^/]*?",START_ANCHOR:"(?:^|\\/)"},ag={...dh,SLASH_LITERAL:"[\\\\/]",QMARK:"[^\\\\/]",STAR:"[^\\\\/]*?",DOTS_SLASH:"\\.{1,2}(?:[\\\\/]|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|[\\\\/])\\.{1,2}(?:[\\\\/]|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:[\\\\/]|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:[\\\\/]|$))",QMARK_NO_DOT:"[^.\\\\/]",START_ANCHOR:"(?:^|[\\\\/])",END_ANCHOR:"(?:[\\\\/]|$)"},cg={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};uh.exports={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:cg,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:Rg.sep,extglobChars(i){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${i.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(i){return i===!0?ag:dh}}});var Pi=_((tw)=>{var kg=J("path"),vg=process.platform==="win32",{REGEX_BACKSLASH:og,REGEX_REMOVE_BACKSLASH:pg,REGEX_SPECIAL_CHARS:iw,REGEX_SPECIAL_CHARS_GLOBAL:rw}=Yi();tw.isObject=(i)=>i!==null&&typeof i==="object"&&!Array.isArray(i);tw.hasRegexChars=(i)=>iw.test(i);tw.isRegexChar=(i)=>i.length===1&&tw.hasRegexChars(i);tw.escapeRegex=(i)=>i.replace(rw,"\\$1");tw.toPosixSlashes=(i)=>i.replace(og,"/");tw.removeBackslashes=(i)=>{return i.replace(pg,(r)=>{return r==="\\"?"":r})};tw.supportsLookbehinds=()=>{let i=process.version.slice(1).split(".").map(Number);if(i.length===3&&i[0]>=9||i[0]===8&&i[1]>=10)return!0;return!1};tw.isWindows=(i)=>{if(i&&typeof i.windows==="boolean")return i.windows;return vg===!0||kg.sep==="\\"};tw.escapeLast=(i,r,t)=>{let s=i.lastIndexOf(r,t);if(s===-1)return i;if(i[s-1]==="\\")return tw.escapeLast(i,r,s-1);return`${i.slice(0,s)}\\${i.slice(s)}`};tw.removePrefix=(i,r={})=>{let t=i;if(t.startsWith("./"))t=t.slice(2),r.prefix="./";return t};tw.wrapOutput=(i,r={},t={})=>{let s=t.contains?"":"^",h=t.contains?"":"$",f=`${s}(?:${i})${h}`;if(r.negated===!0)f=`(?:^(?!${f}).*$)`;return f}});var Fh=_((AS,qh)=>{var mh=Pi(),{CHAR_ASTERISK:Xr,CHAR_AT:ww,CHAR_BACKWARD_SLASH:Zi,CHAR_COMMA:mw,CHAR_DOT:Kr,CHAR_EXCLAMATION_MARK:br,CHAR_FORWARD_SLASH:Ch,CHAR_LEFT_CURLY_BRACE:Ar,CHAR_LEFT_PARENTHESES:Gr,CHAR_LEFT_SQUARE_BRACKET:_w,CHAR_PLUS:yw,CHAR_QUESTION_MARK:_h,CHAR_RIGHT_CURLY_BRACE:Sw,CHAR_RIGHT_PARENTHESES:yh,CHAR_RIGHT_SQUARE_BRACKET:$w}=Yi(),Sh=(i)=>{return i===Ch||i===Zi},$h=(i)=>{if(i.isPrefix!==!0)i.depth=i.isGlobstar?1/0:1},Cw=(i,r)=>{let t=r||{},s=i.length-1,h=t.parts===!0||t.scanToEnd===!0,f=[],e=[],n=[],l=i,d=-1,u=0,g=0,w=!1,F=!1,m=!1,C=!1,L=!1,M=!1,E=!1,B=!1,Z=!1,O=!1,V=0,D,x,Y={value:"",depth:0,isGlob:!1},I=()=>d>=s,$=()=>l.charCodeAt(d+1),X=()=>{return D=x,l.charCodeAt(++d)};while(d<s){x=X();let R;if(x===Zi){if(E=Y.backslashes=!0,x=X(),x===Ar)M=!0;continue}if(M===!0||x===Ar){V++;while(I()!==!0&&(x=X())){if(x===Zi){E=Y.backslashes=!0,X();continue}if(x===Ar){V++;continue}if(M!==!0&&x===Kr&&(x=X())===Kr){if(w=Y.isBrace=!0,m=Y.isGlob=!0,O=!0,h===!0)continue;break}if(M!==!0&&x===mw){if(w=Y.isBrace=!0,m=Y.isGlob=!0,O=!0,h===!0)continue;break}if(x===Sw){if(V--,V===0){M=!1,w=Y.isBrace=!0,O=!0;break}}}if(h===!0)continue;break}if(x===Ch){if(f.push(d),e.push(Y),Y={value:"",depth:0,isGlob:!1},O===!0)continue;if(D===Kr&&d===u+1){u+=2;continue}g=d+1;continue}if(t.noext!==!0){if((x===yw||x===ww||x===Xr||x===_h||x===br)===!0&&$()===Gr){if(m=Y.isGlob=!0,C=Y.isExtglob=!0,O=!0,x===br&&d===u)Z=!0;if(h===!0){while(I()!==!0&&(x=X())){if(x===Zi){E=Y.backslashes=!0,x=X();continue}if(x===yh){m=Y.isGlob=!0,O=!0;break}}continue}break}}if(x===Xr){if(D===Xr)L=Y.isGlobstar=!0;if(m=Y.isGlob=!0,O=!0,h===!0)continue;break}if(x===_h){if(m=Y.isGlob=!0,O=!0,h===!0)continue;break}if(x===_w){while(I()!==!0&&(R=X())){if(R===Zi){E=Y.backslashes=!0,X();continue}if(R===$w){F=Y.isBracket=!0,m=Y.isGlob=!0,O=!0;break}}if(h===!0)continue;break}if(t.nonegate!==!0&&x===br&&d===u){B=Y.negated=!0,u++;continue}if(t.noparen!==!0&&x===Gr){if(m=Y.isGlob=!0,h===!0){while(I()!==!0&&(x=X())){if(x===Gr){E=Y.backslashes=!0,x=X();continue}if(x===yh){O=!0;break}}continue}break}if(m===!0){if(O=!0,h===!0)continue;break}}if(t.noext===!0)C=!1,m=!1;let U=l,gi="",y="";if(u>0)gi=l.slice(0,u),l=l.slice(u),g-=u;if(U&&m===!0&&g>0)U=l.slice(0,g),y=l.slice(g);else if(m===!0)U="",y=l;else U=l;if(U&&U!==""&&U!=="/"&&U!==l){if(Sh(U.charCodeAt(U.length-1)))U=U.slice(0,-1)}if(t.unescape===!0){if(y)y=mh.removeBackslashes(y);if(U&&E===!0)U=mh.removeBackslashes(U)}let S={prefix:gi,input:i,start:u,base:U,glob:y,isBrace:w,isBracket:F,isGlob:m,isExtglob:C,isGlobstar:L,negated:B,negatedExtglob:Z};if(t.tokens===!0){if(S.maxDepth=0,!Sh(x))e.push(Y);S.tokens=e}if(t.parts===!0||t.tokens===!0){let R;for(let P=0;P<f.length;P++){let fi=R?R+1:u,ei=f[P],v=i.slice(fi,ei);if(t.tokens){if(P===0&&u!==0)e[P].isPrefix=!0,e[P].value=gi;else e[P].value=v;$h(e[P]),S.maxDepth+=e[P].depth}if(P!==0||v!=="")n.push(v);R=ei}if(R&&R+1<i.length){let P=i.slice(R+1);if(n.push(P),t.tokens)e[e.length-1].value=P,$h(e[e.length-1]),S.maxDepth+=e[e.length-1].depth}S.slashes=f,S.parts=n}return S};qh.exports=Cw});var jh=_((GS,Mh)=>{var pi=Yi(),p=Pi(),{MAX_LENGTH:ir,POSIX_REGEX_SOURCE:qw,REGEX_NON_SPECIAL_CHARS:Fw,REGEX_SPECIAL_CHARS_BACKREF:xw,REPLACEMENTS:xh}=pi,Mw=(i,r)=>{if(typeof r.expandRange==="function")return r.expandRange(...i,r);i.sort();let t=`[${i.join("-")}]`;try{new RegExp(t)}catch(s){return i.map((h)=>p.escapeRegex(h)).join("..")}return t},Ei=(i,r)=>{return`Missing ${i}: "${r}" - use "\\\\${r}" to match literal characters`},Tr=(i,r)=>{if(typeof i!=="string")throw new TypeError("Expected a string");i=xh[i]||i;let t={...r},s=typeof t.maxLength==="number"?Math.min(ir,t.maxLength):ir,h=i.length;if(h>s)throw new SyntaxError(`Input length: ${h}, exceeds maximum allowed length: ${s}`);let f={type:"bos",value:"",output:t.prepend||""},e=[f],n=t.capture?"":"?:",l=p.isWindows(r),d=pi.globChars(l),u=pi.extglobChars(d),{DOT_LITERAL:g,PLUS_LITERAL:w,SLASH_LITERAL:F,ONE_CHAR:m,DOTS_SLASH:C,NO_DOT:L,NO_DOT_SLASH:M,NO_DOTS_SLASH:E,QMARK:B,QMARK_NO_DOT:Z,STAR:O,START_ANCHOR:V}=d,D=(j)=>{return`(${n}(?:(?!${V}${j.dot?C:g}).)*?)`},x=t.dot?"":L,Y=t.dot?B:Z,I=t.bash===!0?D(t):O;if(t.capture)I=`(${I})`;if(typeof t.noext==="boolean")t.noextglob=t.noext;let $={input:i,index:-1,start:0,dot:t.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:e};i=p.removePrefix(i,$),h=i.length;let X=[],U=[],gi=[],y=f,S,R=()=>$.index===h-1,P=$.peek=(j=1)=>i[$.index+j],fi=$.advance=()=>i[++$.index]||"",ei=()=>i.slice($.index+1),v=(j="",Q=0)=>{$.consumed+=j,$.index+=Q},Xi=(j)=>{$.output+=j.output!=null?j.output:j.value,v(j.value)},iu=()=>{let j=1;while(P()==="!"&&(P(2)!=="("||P(3)==="?"))fi(),$.start++,j++;if(j%2===0)return!1;return $.negated=!0,$.start++,!0},Ki=(j)=>{$[j]++,gi.push(j)},$i=(j)=>{$[j]--,gi.pop()},z=(j)=>{if(y.type==="globstar"){let Q=$.braces>0&&(j.type==="comma"||j.type==="brace"),q=j.extglob===!0||X.length&&(j.type==="pipe"||j.type==="paren");if(j.type!=="slash"&&j.type!=="paren"&&!Q&&!q)$.output=$.output.slice(0,-y.output.length),y.type="star",y.value="*",y.output=I,$.output+=y.output}if(X.length&&j.type!=="paren")X[X.length-1].inner+=j.value;if(j.value||j.output)Xi(j);if(y&&y.type==="text"&&j.type==="text"){y.value+=j.value,y.output=(y.output||"")+j.value;return}j.prev=y,e.push(j),y=j},bi=(j,Q)=>{let q={...u[Q],conditions:1,inner:""};q.prev=y,q.parens=$.parens,q.output=$.output;let W=(t.capture?"(":"")+q.open;Ki("parens"),z({type:j,value:Q,output:$.output?"":m}),z({type:"paren",extglob:!0,value:fi(),output:W}),X.push(q)},ru=(j)=>{let Q=j.close+(t.capture?")":""),q;if(j.type==="negate"){let W=I;if(j.inner&&j.inner.length>1&&j.inner.includes("/"))W=D(t);if(W!==I||R()||/^\)+$/.test(ei()))Q=j.close=`)$))${W}`;if(j.inner.includes("*")&&(q=ei())&&/^\.[^\\/.]+$/.test(q)){let K=Tr(q,{...r,fastpaths:!1}).output;Q=j.close=`)${K})${W})`}if(j.prev.type==="bos")$.negatedExtglob=!0}z({type:"paren",extglob:!0,value:S,output:Q}),$i("parens")};if(t.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(i)){let j=!1,Q=i.replace(xw,(q,W,K,a,A,Br)=>{if(a==="\\")return j=!0,q;if(a==="?"){if(W)return W+a+(A?B.repeat(A.length):"");if(Br===0)return Y+(A?B.repeat(A.length):"");return B.repeat(K.length)}if(a===".")return g.repeat(K.length);if(a==="*"){if(W)return W+a+(A?I:"");return I}return W?q:`\\${q}`});if(j===!0)if(t.unescape===!0)Q=Q.replace(/\\/g,"");else Q=Q.replace(/\\+/g,(q)=>{return q.length%2===0?"\\\\":q?"\\":""});if(Q===i&&t.contains===!0)return $.output=i,$;return $.output=p.wrapOutput(Q,$,r),$}while(!R()){if(S=fi(),S==="\x00")continue;if(S==="\\"){let q=P();if(q==="/"&&t.bash!==!0)continue;if(q==="."||q===";")continue;if(!q){S+="\\",z({type:"text",value:S});continue}let W=/^\\+/.exec(ei()),K=0;if(W&&W[0].length>2){if(K=W[0].length,$.index+=K,K%2!==0)S+="\\"}if(t.unescape===!0)S=fi();else S+=fi();if($.brackets===0){z({type:"text",value:S});continue}}if($.brackets>0&&(S!=="]"||y.value==="["||y.value==="[^")){if(t.posix!==!1&&S===":"){let q=y.value.slice(1);if(q.includes("[")){if(y.posix=!0,q.includes(":")){let W=y.value.lastIndexOf("["),K=y.value.slice(0,W),a=y.value.slice(W+2),A=qw[a];if(A){if(y.value=K+A,$.backtrack=!0,fi(),!f.output&&e.indexOf(y)===1)f.output=m;continue}}}}if(S==="["&&P()!==":"||S==="-"&&P()==="]")S=`\\${S}`;if(S==="]"&&(y.value==="["||y.value==="[^"))S=`\\${S}`;if(t.posix===!0&&S==="!"&&y.value==="[")S="^";y.value+=S,Xi({value:S});continue}if($.quotes===1&&S!=='"'){S=p.escapeRegex(S),y.value+=S,Xi({value:S});continue}if(S==='"'){if($.quotes=$.quotes===1?0:1,t.keepQuotes===!0)z({type:"text",value:S});continue}if(S==="("){Ki("parens"),z({type:"paren",value:S});continue}if(S===")"){if($.parens===0&&t.strictBrackets===!0)throw new SyntaxError(Ei("opening","("));let q=X[X.length-1];if(q&&$.parens===q.parens+1){ru(X.pop());continue}z({type:"paren",value:S,output:$.parens?")":"\\)"}),$i("parens");continue}if(S==="["){if(t.nobracket===!0||!ei().includes("]")){if(t.nobracket!==!0&&t.strictBrackets===!0)throw new SyntaxError(Ei("closing","]"));S=`\\${S}`}else Ki("brackets");z({type:"bracket",value:S});continue}if(S==="]"){if(t.nobracket===!0||y&&y.type==="bracket"&&y.value.length===1){z({type:"text",value:S,output:`\\${S}`});continue}if($.brackets===0){if(t.strictBrackets===!0)throw new SyntaxError(Ei("opening","["));z({type:"text",value:S,output:`\\${S}`});continue}$i("brackets");let q=y.value.slice(1);if(y.posix!==!0&&q[0]==="^"&&!q.includes("/"))S=`/${S}`;if(y.value+=S,Xi({value:S}),t.literalBrackets===!1||p.hasRegexChars(q))continue;let W=p.escapeRegex(y.value);if($.output=$.output.slice(0,-y.value.length),t.literalBrackets===!0){$.output+=W,y.value=W;continue}y.value=`(${n}${W}|${y.value})`,$.output+=y.value;continue}if(S==="{"&&t.nobrace!==!0){Ki("braces");let q={type:"brace",value:S,output:"(",outputIndex:$.output.length,tokensIndex:$.tokens.length};U.push(q),z(q);continue}if(S==="}"){let q=U[U.length-1];if(t.nobrace===!0||!q){z({type:"text",value:S,output:S});continue}let W=")";if(q.dots===!0){let K=e.slice(),a=[];for(let A=K.length-1;A>=0;A--){if(e.pop(),K[A].type==="brace")break;if(K[A].type!=="dots")a.unshift(K[A].value)}W=Mw(a,t),$.backtrack=!0}if(q.comma!==!0&&q.dots!==!0){let K=$.output.slice(0,q.outputIndex),a=$.tokens.slice(q.tokensIndex);q.value=q.output="\\{",S=W="\\}",$.output=K;for(let A of a)$.output+=A.output||A.value}z({type:"brace",value:S,output:W}),$i("braces"),U.pop();continue}if(S==="|"){if(X.length>0)X[X.length-1].conditions++;z({type:"text",value:S});continue}if(S===","){let q=S,W=U[U.length-1];if(W&&gi[gi.length-1]==="braces")W.comma=!0,q="|";z({type:"comma",value:S,output:q});continue}if(S==="/"){if(y.type==="dot"&&$.index===$.start+1){$.start=$.index+1,$.consumed="",$.output="",e.pop(),y=f;continue}z({type:"slash",value:S,output:F});continue}if(S==="."){if($.braces>0&&y.type==="dot"){if(y.value===".")y.output=g;let q=U[U.length-1];y.type="dots",y.output+=S,y.value+=S,q.dots=!0;continue}if($.braces+$.parens===0&&y.type!=="bos"&&y.type!=="slash"){z({type:"text",value:S,output:g});continue}z({type:"dot",value:S,output:g});continue}if(S==="?"){if(!(y&&y.value==="(")&&t.noextglob!==!0&&P()==="("&&P(2)!=="?"){bi("qmark",S);continue}if(y&&y.type==="paren"){let W=P(),K=S;if(W==="<"&&!p.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");if(y.value==="("&&!/[!=<:]/.test(W)||W==="<"&&!/<([!=]|\w+>)/.test(ei()))K=`\\${S}`;z({type:"text",value:S,output:K});continue}if(t.dot!==!0&&(y.type==="slash"||y.type==="bos")){z({type:"qmark",value:S,output:Z});continue}z({type:"qmark",value:S,output:B});continue}if(S==="!"){if(t.noextglob!==!0&&P()==="("){if(P(2)!=="?"||!/[!=<:]/.test(P(3))){bi("negate",S);continue}}if(t.nonegate!==!0&&$.index===0){iu();continue}}if(S==="+"){if(t.noextglob!==!0&&P()==="("&&P(2)!=="?"){bi("plus",S);continue}if(y&&y.value==="("||t.regex===!1){z({type:"plus",value:S,output:w});continue}if(y&&(y.type==="bracket"||y.type==="paren"||y.type==="brace")||$.parens>0){z({type:"plus",value:S});continue}z({type:"plus",value:w});continue}if(S==="@"){if(t.noextglob!==!0&&P()==="("&&P(2)!=="?"){z({type:"at",extglob:!0,value:S,output:""});continue}z({type:"text",value:S});continue}if(S!=="*"){if(S==="$"||S==="^")S=`\\${S}`;let q=Fw.exec(ei());if(q)S+=q[0],$.index+=q[0].length;z({type:"text",value:S});continue}if(y&&(y.type==="globstar"||y.star===!0)){y.type="star",y.star=!0,y.value+=S,y.output=I,$.backtrack=!0,$.globstar=!0,v(S);continue}let j=ei();if(t.noextglob!==!0&&/^\([^?]/.test(j)){bi("star",S);continue}if(y.type==="star"){if(t.noglobstar===!0){v(S);continue}let q=y.prev,W=q.prev,K=q.type==="slash"||q.type==="bos",a=W&&(W.type==="star"||W.type==="globstar");if(t.bash===!0&&(!K||j[0]&&j[0]!=="/")){z({type:"star",value:S,output:""});continue}let A=$.braces>0&&(q.type==="comma"||q.type==="brace"),Br=X.length&&(q.type==="pipe"||q.type==="paren");if(!K&&q.type!=="paren"&&!A&&!Br){z({type:"star",value:S,output:""});continue}while(j.slice(0,3)==="/**"){let Ai=i[$.index+4];if(Ai&&Ai!=="/")break;j=j.slice(3),v("/**",3)}if(q.type==="bos"&&R()){y.type="globstar",y.value+=S,y.output=D(t),$.output=y.output,$.globstar=!0,v(S);continue}if(q.type==="slash"&&q.prev.type!=="bos"&&!a&&R()){$.output=$.output.slice(0,-(q.output+y.output).length),q.output=`(?:${q.output}`,y.type="globstar",y.output=D(t)+(t.strictSlashes?")":"|$)"),y.value+=S,$.globstar=!0,$.output+=q.output+y.output,v(S);continue}if(q.type==="slash"&&q.prev.type!=="bos"&&j[0]==="/"){let Ai=j[1]!==void 0?"|$":"";$.output=$.output.slice(0,-(q.output+y.output).length),q.output=`(?:${q.output}`,y.type="globstar",y.output=`${D(t)}${F}|${F}${Ai})`,y.value+=S,$.output+=q.output+y.output,$.globstar=!0,v(S+fi()),z({type:"slash",value:"/",output:""});continue}if(q.type==="bos"&&j[0]==="/"){y.type="globstar",y.value+=S,y.output=`(?:^|${F}|${D(t)}${F})`,$.output=y.output,$.globstar=!0,v(S+fi()),z({type:"slash",value:"/",output:""});continue}$.output=$.output.slice(0,-y.output.length),y.type="globstar",y.output=D(t),y.value+=S,$.output+=y.output,$.globstar=!0,v(S);continue}let Q={type:"star",value:S,output:I};if(t.bash===!0){if(Q.output=".*?",y.type==="bos"||y.type==="slash")Q.output=x+Q.output;z(Q);continue}if(y&&(y.type==="bracket"||y.type==="paren")&&t.regex===!0){Q.output=S,z(Q);continue}if($.index===$.start||y.type==="slash"||y.type==="dot"){if(y.type==="dot")$.output+=M,y.output+=M;else if(t.dot===!0)$.output+=E,y.output+=E;else $.output+=x,y.output+=x;if(P()!=="*")$.output+=m,y.output+=m}z(Q)}while($.brackets>0){if(t.strictBrackets===!0)throw new SyntaxError(Ei("closing","]"));$.output=p.escapeLast($.output,"["),$i("brackets")}while($.parens>0){if(t.strictBrackets===!0)throw new SyntaxError(Ei("closing",")"));$.output=p.escapeLast($.output,"("),$i("parens")}while($.braces>0){if(t.strictBrackets===!0)throw new SyntaxError(Ei("closing","}"));$.output=p.escapeLast($.output,"{"),$i("braces")}if(t.strictSlashes!==!0&&(y.type==="star"||y.type==="bracket"))z({type:"maybe_slash",value:"",output:`${F}?`});if($.backtrack===!0){$.output="";for(let j of $.tokens)if($.output+=j.output!=null?j.output:j.value,j.suffix)$.output+=j.suffix}return $};Tr.fastpaths=(i,r)=>{let t={...r},s=typeof t.maxLength==="number"?Math.min(ir,t.maxLength):ir,h=i.length;if(h>s)throw new SyntaxError(`Input length: ${h}, exceeds maximum allowed length: ${s}`);i=xh[i]||i;let f=p.isWindows(r),{DOT_LITERAL:e,SLASH_LITERAL:n,ONE_CHAR:l,DOTS_SLASH:d,NO_DOT:u,NO_DOTS:g,NO_DOTS_SLASH:w,STAR:F,START_ANCHOR:m}=pi.globChars(f),C=t.dot?g:u,L=t.dot?w:u,M=t.capture?"":"?:",E={negated:!1,prefix:""},B=t.bash===!0?".*?":F;if(t.capture)B=`(${B})`;let Z=(x)=>{if(x.noglobstar===!0)return B;return`(${M}(?:(?!${m}${x.dot?d:e}).)*?)`},O=(x)=>{switch(x){case"*":return`${C}${l}${B}`;case".*":return`${e}${l}${B}`;case"*.*":return`${C}${B}${e}${l}${B}`;case"*/*":return`${C}${B}${n}${l}${L}${B}`;case"**":return C+Z(t);case"**/*":return`(?:${C}${Z(t)}${n})?${L}${l}${B}`;case"**/*.*":return`(?:${C}${Z(t)}${n})?${L}${B}${e}${l}${B}`;case"**/.*":return`(?:${C}${Z(t)}${n})?${e}${l}${B}`;default:{let Y=/^(.*?)\.(\w+)$/.exec(x);if(!Y)return;let I=O(Y[1]);if(!I)return;return I+e+Y[2]}}},V=p.removePrefix(i,E),D=O(V);if(D&&t.strictSlashes!==!0)D+=`${n}?`;return D};Mh.exports=Tr});var Vh=_((TS,Bh)=>{var jw=J("path"),Bw=Fh(),Hr=jh(),Rr=Pi(),Vw=Yi(),Ew=(i)=>i&&typeof i==="object"&&!Array.isArray(i),b=(i,r,t=!1)=>{if(Array.isArray(i)){let u=i.map((w)=>b(w,r,t));return(w)=>{for(let F of u){let m=F(w);if(m)return m}return!1}}let s=Ew(i)&&i.tokens&&i.input;if(i===""||typeof i!=="string"&&!s)throw new TypeError("Expected pattern to be a non-empty string");let h=r||{},f=Rr.isWindows(r),e=s?b.compileRe(i,r):b.makeRe(i,r,!1,!0),n=e.state;delete e.state;let l=()=>!1;if(h.ignore){let u={...r,ignore:null,onMatch:null,onResult:null};l=b(h.ignore,u,t)}let d=(u,g=!1)=>{let{isMatch:w,match:F,output:m}=b.test(u,e,r,{glob:i,posix:f}),C={glob:i,state:n,regex:e,posix:f,input:u,output:m,match:F,isMatch:w};if(typeof h.onResult==="function")h.onResult(C);if(w===!1)return C.isMatch=!1,g?C:!1;if(l(u)){if(typeof h.onIgnore==="function")h.onIgnore(C);return C.isMatch=!1,g?C:!1}if(typeof h.onMatch==="function")h.onMatch(C);return g?C:!0};if(t)d.state=n;return d};b.test=(i,r,t,{glob:s,posix:h}={})=>{if(typeof i!=="string")throw new TypeError("Expected input to be a string");if(i==="")return{isMatch:!1,output:""};let f=t||{},e=f.format||(h?Rr.toPosixSlashes:null),n=i===s,l=n&&e?e(i):i;if(n===!1)l=e?e(i):i,n=l===s;if(n===!1||f.capture===!0)if(f.matchBase===!0||f.basename===!0)n=b.matchBase(i,r,t,h);else n=r.exec(l);return{isMatch:Boolean(n),match:n,output:l}};b.matchBase=(i,r,t,s=Rr.isWindows(t))=>{return(r instanceof RegExp?r:b.makeRe(r,t)).test(jw.basename(i))};b.isMatch=(i,r,t)=>b(r,t)(i);b.parse=(i,r)=>{if(Array.isArray(i))return i.map((t)=>b.parse(t,r));return Hr(i,{...r,fastpaths:!1})};b.scan=(i,r)=>Bw(i,r);b.compileRe=(i,r,t=!1,s=!1)=>{if(t===!0)return i.output;let h=r||{},f=h.contains?"":"^",e=h.contains?"":"$",n=`${f}(?:${i.output})${e}`;if(i&&i.negated===!0)n=`^(?!${n}).*$`;let l=b.toRegex(n,r);if(s===!0)l.state=i;return l};b.makeRe=(i,r={},t=!1,s=!1)=>{if(!i||typeof i!=="string")throw new TypeError("Expected a non-empty string");let h={negated:!1,fastpaths:!0};if(r.fastpaths!==!1&&(i[0]==="."||i[0]==="*"))h.output=Hr.fastpaths(i,r);if(!h.output)h=Hr(i,r);return b.compileRe(h,r,t,s)};b.toRegex=(i,r)=>{try{let t=r||{};return new RegExp(i,t.flags||(t.nocase?"i":""))}catch(t){if(r&&r.debug===!0)throw t;return/$^/}};b.constants=Vw;Bh.exports=b});var Oh=_((HS,Dh)=>{var Lh=J("util"),Wh=lh(),ni=Vh(),ar=Pi(),Eh=(i)=>i===""||i==="./",zh=(i)=>{let r=i.indexOf("{");return r>-1&&i.indexOf("}",r)>-1},N=(i,r,t)=>{r=[].concat(r),i=[].concat(i);let s=new Set,h=new Set,f=new Set,e=0,n=(u)=>{if(f.add(u.output),t&&t.onResult)t.onResult(u)};for(let u=0;u<r.length;u++){let g=ni(String(r[u]),{...t,onResult:n},!0),w=g.state.negated||g.state.negatedExtglob;if(w)e++;for(let F of i){let m=g(F,!0);if(!(w?!m.isMatch:m.isMatch))continue;if(w)s.add(m.output);else s.delete(m.output),h.add(m.output)}}let d=(e===r.length?[...f]:[...h]).filter((u)=>!s.has(u));if(t&&d.length===0){if(t.failglob===!0)throw new Error(`No matches found for "${r.join(", ")}"`);if(t.nonull===!0||t.nullglob===!0)return t.unescape?r.map((u)=>u.replace(/\\/g,"")):r}return d};N.match=N;N.matcher=(i,r)=>ni(i,r);N.isMatch=(i,r,t)=>ni(r,t)(i);N.any=N.isMatch;N.not=(i,r,t={})=>{r=[].concat(r).map(String);let s=new Set,h=[],e=new Set(N(i,r,{...t,onResult:(n)=>{if(t.onResult)t.onResult(n);h.push(n.output)}}));for(let n of h)if(!e.has(n))s.add(n);return[...s]};N.contains=(i,r,t)=>{if(typeof i!=="string")throw new TypeError(`Expected a string: "${Lh.inspect(i)}"`);if(Array.isArray(r))return r.some((s)=>N.contains(i,s,t));if(typeof r==="string"){if(Eh(i)||Eh(r))return!1;if(i.includes(r)||i.startsWith("./")&&i.slice(2).includes(r))return!0}return N.isMatch(i,r,{...t,contains:!0})};N.matchKeys=(i,r,t)=>{if(!ar.isObject(i))throw new TypeError("Expected the first argument to be an object");let s=N(Object.keys(i),r,t),h={};for(let f of s)h[f]=i[f];return h};N.some=(i,r,t)=>{let s=[].concat(i);for(let h of[].concat(r)){let f=ni(String(h),t);if(s.some((e)=>f(e)))return!0}return!1};N.every=(i,r,t)=>{let s=[].concat(i);for(let h of[].concat(r)){let f=ni(String(h),t);if(!s.every((e)=>f(e)))return!1}return!0};N.all=(i,r,t)=>{if(typeof i!=="string")throw new TypeError(`Expected a string: "${Lh.inspect(i)}"`);return[].concat(r).every((s)=>ni(s,t)(i))};N.capture=(i,r,t)=>{let s=ar.isWindows(t),f=ni.makeRe(String(i),{...t,capture:!0}).exec(s?ar.toPosixSlashes(r):r);if(f)return f.slice(1).map((e)=>e===void 0?"":e)};N.makeRe=(...i)=>ni.makeRe(...i);N.scan=(...i)=>ni.scan(...i);N.parse=(i,r)=>{let t=[];for(let s of[].concat(i||[]))for(let h of Wh(String(s),r))t.push(ni.parse(h,r));return t};N.braces=(i,r)=>{if(typeof i!=="string")throw new TypeError("Expected a string");if(r&&r.nobrace===!0||!zh(i))return[i];return Wh(i,r)};N.braceExpand=(i,r)=>{if(typeof i!=="string")throw new TypeError("Expected a string");return N.braces(i,{...r,expand:!0})};N.hasBraces=zh;Dh.exports=N});var Ah=_((Kh)=>{Object.defineProperty(Kh,"__esModule",{value:!0});Kh.isAbsolute=Kh.partitionAbsoluteAndRelative=Kh.removeDuplicateSlashes=Kh.matchAny=Kh.convertPatternsToRe=Kh.makeRe=Kh.getPatternParts=Kh.expandBraceExpansion=Kh.expandPatternsWithBraceExpansion=Kh.isAffectDepthOfReadingPattern=Kh.endsWithSlashGlobStar=Kh.hasGlobStar=Kh.getBaseDirectory=Kh.isPatternRelatedToParentDirectory=Kh.getPatternsOutsideCurrentDirectory=Kh.getPatternsInsideCurrentDirectory=Kh.getPositivePatterns=Kh.getNegativePatterns=Kh.isPositivePattern=Kh.isNegativePattern=Kh.convertToNegativePattern=Kh.convertToPositivePattern=Kh.isDynamicPattern=Kh.isStaticPattern=void 0;var Yh=J("path"),Lw=Es(),cr=Oh(),Ph="**",Ww="\\",zw=/[*?]|^!/,Dw=/\[[^[]*]/,Ow=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,Yw=/[!*+?@]\([^(]*\)/,Pw=/,|\.\./,Zw=/(?!^)\/{2,}/g;function Zh(i,r={}){return!Jh(i,r)}Kh.isStaticPattern=Zh;function Jh(i,r={}){if(i==="")return!1;if(r.caseSensitiveMatch===!1||i.includes(Ww))return!0;if(zw.test(i)||Dw.test(i)||Ow.test(i))return!0;if(r.extglob!==!1&&Yw.test(i))return!0;if(r.braceExpansion!==!1&&Jw(i))return!0;return!1}Kh.isDynamicPattern=Jh;function Jw(i){let r=i.indexOf("{");if(r===-1)return!1;let t=i.indexOf("}",r+1);if(t===-1)return!1;let s=i.slice(r,t);return Pw.test(s)}function Iw(i){return rr(i)?i.slice(1):i}Kh.convertToPositivePattern=Iw;function Uw(i){return"!"+i}Kh.convertToNegativePattern=Uw;function rr(i){return i.startsWith("!")&&i[1]!=="("}Kh.isNegativePattern=rr;function Ih(i){return!rr(i)}Kh.isPositivePattern=Ih;function Qw(i){return i.filter(rr)}Kh.getNegativePatterns=Qw;function Nw(i){return i.filter(Ih)}Kh.getPositivePatterns=Nw;function Xw(i){return i.filter((r)=>!kr(r))}Kh.getPatternsInsideCurrentDirectory=Xw;function Kw(i){return i.filter(kr)}Kh.getPatternsOutsideCurrentDirectory=Kw;function kr(i){return i.startsWith("..")||i.startsWith("./..")}Kh.isPatternRelatedToParentDirectory=kr;function bw(i){return Lw(i,{flipBackslashes:!1})}Kh.getBaseDirectory=bw;function Aw(i){return i.includes(Ph)}Kh.hasGlobStar=Aw;function Uh(i){return i.endsWith("/"+Ph)}Kh.endsWithSlashGlobStar=Uh;function Gw(i){let r=Yh.basename(i);return Uh(i)||Zh(r)}Kh.isAffectDepthOfReadingPattern=Gw;function Tw(i){return i.reduce((r,t)=>{return r.concat(Qh(t))},[])}Kh.expandPatternsWithBraceExpansion=Tw;function Qh(i){let r=cr.braces(i,{expand:!0,nodupes:!0,keepEscaping:!0});return r.sort((t,s)=>t.length-s.length),r.filter((t)=>t!=="")}Kh.expandBraceExpansion=Qh;function Hw(i,r){let{parts:t}=cr.scan(i,Object.assign(Object.assign({},r),{parts:!0}));if(t.length===0)t=[i];if(t[0].startsWith("/"))t[0]=t[0].slice(1),t.unshift("");return t}Kh.getPatternParts=Hw;function Nh(i,r){return cr.makeRe(i,r)}Kh.makeRe=Nh;function Rw(i,r){return i.map((t)=>Nh(t,r))}Kh.convertPatternsToRe=Rw;function aw(i,r){return r.some((t)=>t.test(i))}Kh.matchAny=aw;function cw(i){return i.replace(Zw,"/")}Kh.removeDuplicateSlashes=cw;function kw(i){let r=[],t=[];for(let s of i)if(Xh(s))r.push(s);else t.push(s);return[r,t]}Kh.partitionAbsoluteAndRelative=kw;function Xh(i){return Yh.isAbsolute(i)}Kh.isAbsolute=Xh});var Rh=_((aS,Hh)=>{var F1=J("stream"),Gh=F1.PassThrough,x1=Array.prototype.slice;Hh.exports=M1;function M1(){let i=[],r=x1.call(arguments),t=!1,s=r[r.length-1];if(s&&!Array.isArray(s)&&s.pipe==null)r.pop();else s={};let h=s.end!==!1,f=s.pipeError===!0;if(s.objectMode==null)s.objectMode=!0;if(s.highWaterMark==null)s.highWaterMark=65536;let e=Gh(s);function n(){for(let u=0,g=arguments.length;u<g;u++)i.push(Th(arguments[u],s));return l(),this}function l(){if(t)return;t=!0;let u=i.shift();if(!u){process.nextTick(d);return}if(!Array.isArray(u))u=[u];let g=u.length+1;function w(){if(--g>0)return;t=!1,l()}function F(m){function C(){if(m.removeListener("merge2UnpipeEnd",C),m.removeListener("end",C),f)m.removeListener("error",L);w()}function L(M){e.emit("error",M)}if(m._readableState.endEmitted)return w();if(m.on("merge2UnpipeEnd",C),m.on("end",C),f)m.on("error",L);m.pipe(e,{end:!1}),m.resume()}for(let m=0;m<u.length;m++)F(u[m]);w()}function d(){if(t=!1,e.emit("queueDrain"),h)e.end()}if(e.setMaxListeners(0),e.add=n,e.on("unpipe",function(u){u.emit("merge2UnpipeEnd")}),r.length)n.apply(null,r);return e}function Th(i,r){if(!Array.isArray(i)){if(!i._readableState&&i.pipe)i=i.pipe(Gh(r));if(!i._readableState||!i.pause||!i.pipe)throw new Error("Only readable stream can be merged.");i.pause()}else for(let t=0,s=i.length;t<s;t++)i[t]=Th(i[t],r);return i}});var vh=_((ch)=>{Object.defineProperty(ch,"__esModule",{value:!0});ch.merge=void 0;var j1=Rh();function B1(i){let r=j1(i);return i.forEach((t)=>{t.once("error",(s)=>r.emit("error",s))}),r.once("close",()=>ah(i)),r.once("end",()=>ah(i)),r}ch.merge=B1;function ah(i){i.forEach((r)=>r.emit("close"))}});var rf=_((oh)=>{Object.defineProperty(oh,"__esModule",{value:!0});oh.isEmpty=oh.isString=void 0;function V1(i){return typeof i==="string"}oh.isString=V1;function E1(i){return i===""}oh.isEmpty=E1});var di=_((tf)=>{Object.defineProperty(tf,"__esModule",{value:!0});tf.string=tf.stream=tf.pattern=tf.path=tf.fs=tf.errno=tf.array=void 0;var W1=es();tf.array=W1;var z1=ds();tf.errno=z1;var D1=ms();tf.fs=D1;var O1=qs();tf.path=O1;var Y1=Ah();tf.pattern=Y1;var P1=vh();tf.stream=P1;var Z1=rf();tf.string=Z1});var df=_((nf)=>{Object.defineProperty(nf,"__esModule",{value:!0});nf.convertPatternGroupToTask=nf.convertPatternGroupsToTasks=nf.groupPatternsByBaseDirectory=nf.getNegativePatternsAsPositive=nf.getPositivePatterns=nf.convertPatternsToTasks=nf.generate=void 0;var ti=di();function K1(i,r){let t=hf(i,r),s=hf(r.ignore,r),h=ff(t),f=ef(t,s),e=h.filter((u)=>ti.pattern.isStaticPattern(u,r)),n=h.filter((u)=>ti.pattern.isDynamicPattern(u,r)),l=vr(e,f,!1),d=vr(n,f,!0);return l.concat(d)}nf.generate=K1;function hf(i,r){let t=i;if(r.braceExpansion)t=ti.pattern.expandPatternsWithBraceExpansion(t);if(r.baseNameMatch)t=t.map((s)=>s.includes("/")?s:`**/${s}`);return t.map((s)=>ti.pattern.removeDuplicateSlashes(s))}function vr(i,r,t){let s=[],h=ti.pattern.getPatternsOutsideCurrentDirectory(i),f=ti.pattern.getPatternsInsideCurrentDirectory(i),e=or(h),n=or(f);if(s.push(...pr(e,r,t)),"."in n)s.push(it(".",f,r,t));else s.push(...pr(n,r,t));return s}nf.convertPatternsToTasks=vr;function ff(i){return ti.pattern.getPositivePatterns(i)}nf.getPositivePatterns=ff;function ef(i,r){return ti.pattern.getNegativePatterns(i).concat(r).map(ti.pattern.convertToPositivePattern)}nf.getNegativePatternsAsPositive=ef;function or(i){let r={};return i.reduce((t,s)=>{let h=ti.pattern.getBaseDirectory(s);if(h in t)t[h].push(s);else t[h]=[s];return t},r)}nf.groupPatternsByBaseDirectory=or;function pr(i,r,t){return Object.keys(i).map((s)=>{return it(s,i[s],r,t)})}nf.convertPatternGroupsToTasks=pr;function it(i,r,t,s){return{dynamic:s,positive:r,negative:t,base:i,patterns:[].concat(r,t.map(ti.pattern.convertToNegativePattern))}}nf.convertPatternGroupToTask=it});var mf=_((gf)=>{Object.defineProperty(gf,"__esModule",{value:!0});gf.read=void 0;function a1(i,r,t){r.fs.lstat(i,(s,h)=>{if(s!==null){uf(t,s);return}if(!h.isSymbolicLink()||!r.followSymbolicLink){rt(t,h);return}r.fs.stat(i,(f,e)=>{if(f!==null){if(r.throwErrorOnBrokenSymbolicLink){uf(t,f);return}rt(t,h);return}if(r.markSymbolicLink)e.isSymbolicLink=()=>!0;rt(t,e)})})}gf.read=a1;function uf(i,r){i(r)}function rt(i,r){i(null,r)}});var Sf=_((_f)=>{Object.defineProperty(_f,"__esModule",{value:!0});_f.read=void 0;function c1(i,r){let t=r.fs.lstatSync(i);if(!t.isSymbolicLink()||!r.followSymbolicLink)return t;try{let s=r.fs.statSync(i);if(r.markSymbolicLink)s.isSymbolicLink=()=>!0;return s}catch(s){if(!r.throwErrorOnBrokenSymbolicLink)return t;throw s}}_f.read=c1});var qf=_(($f)=>{Object.defineProperty($f,"__esModule",{value:!0});$f.createFileSystemAdapter=$f.FILE_SYSTEM_ADAPTER=void 0;var tr=J("fs");$f.FILE_SYSTEM_ADAPTER={lstat:tr.lstat,stat:tr.stat,lstatSync:tr.lstatSync,statSync:tr.statSync};function k1(i){if(i===void 0)return $f.FILE_SYSTEM_ADAPTER;return Object.assign(Object.assign({},$f.FILE_SYSTEM_ADAPTER),i)}$f.createFileSystemAdapter=k1});var Mf=_((xf)=>{Object.defineProperty(xf,"__esModule",{value:!0});var v1=qf();class Ff{constructor(i={}){this._options=i,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=v1.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(i,r){return i!==null&&i!==void 0?i:r}}xf.default=Ff});var Fi=_((Bf)=>{Object.defineProperty(Bf,"__esModule",{value:!0});Bf.statSync=Bf.stat=Bf.Settings=void 0;var jf=mf(),p1=Sf(),st=Mf();Bf.Settings=st.default;function im(i,r,t){if(typeof r==="function"){jf.read(i,ht(),r);return}jf.read(i,ht(r),t)}Bf.stat=im;function rm(i,r){let t=ht(r);return p1.read(i,t)}Bf.statSync=rm;function ht(i={}){if(i instanceof st.default)return i;return new st.default(i)}});var Wf=_((h$,Lf)=>{/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Ef;Lf.exports=typeof queueMicrotask==="function"?queueMicrotask.bind(typeof window!=="undefined"?window:global):(i)=>(Ef||(Ef=Promise.resolve())).then(i).catch((r)=>setTimeout(()=>{throw r},0))});var Df=_((f$,zf)=>{/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */zf.exports=fm;var hm=Wf();function fm(i,r){let t,s,h,f=!0;if(Array.isArray(i))t=[],s=i.length;else h=Object.keys(i),t={},s=h.length;function e(l){function d(){if(r)r(l,t);r=null}if(f)hm(d);else d()}function n(l,d,u){if(t[l]=u,--s===0||d)e(d)}if(!s)e(null);else if(h)h.forEach(function(l){i[l](function(d,u){n(l,d,u)})});else i.forEach(function(l,d){l(function(u,g){n(d,u,g)})});f=!1}});var ft=_((Pf)=>{Object.defineProperty(Pf,"__esModule",{value:!0});Pf.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var sr=process.versions.node.split(".");if(sr[0]===void 0||sr[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var Of=Number.parseInt(sr[0],10),em=Number.parseInt(sr[1],10),Yf=10,nm=10,lm=Of>Yf,dm=Of===Yf&&em>=nm;Pf.IS_SUPPORT_READDIR_WITH_FILE_TYPES=lm||dm});var Qf=_((If)=>{Object.defineProperty(If,"__esModule",{value:!0});If.createDirentFromStats=void 0;class Jf{constructor(i,r){this.name=i,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}}function um(i,r){return new Jf(i,r)}If.createDirentFromStats=um});var et=_((Nf)=>{Object.defineProperty(Nf,"__esModule",{value:!0});Nf.fs=void 0;var gm=Qf();Nf.fs=gm});var nt=_((Kf)=>{Object.defineProperty(Kf,"__esModule",{value:!0});Kf.joinPathSegments=void 0;function wm(i,r,t){if(i.endsWith(t))return i+r;return i+t+r}Kf.joinPathSegments=wm});var kf=_((af)=>{Object.defineProperty(af,"__esModule",{value:!0});af.readdir=af.readdirWithFileTypes=af.read=void 0;var mm=Fi(),Af=Df(),_m=ft(),Gf=et(),Tf=nt();function ym(i,r,t){if(!r.stats&&_m.IS_SUPPORT_READDIR_WITH_FILE_TYPES){Hf(i,r,t);return}Rf(i,r,t)}af.read=ym;function Hf(i,r,t){r.fs.readdir(i,{withFileTypes:!0},(s,h)=>{if(s!==null){hr(t,s);return}let f=h.map((n)=>({dirent:n,name:n.name,path:Tf.joinPathSegments(i,n.name,r.pathSegmentSeparator)}));if(!r.followSymbolicLinks){lt(t,f);return}let e=f.map((n)=>Sm(n,r));Af(e,(n,l)=>{if(n!==null){hr(t,n);return}lt(t,l)})})}af.readdirWithFileTypes=Hf;function Sm(i,r){return(t)=>{if(!i.dirent.isSymbolicLink()){t(null,i);return}r.fs.stat(i.path,(s,h)=>{if(s!==null){if(r.throwErrorOnBrokenSymbolicLink){t(s);return}t(null,i);return}i.dirent=Gf.fs.createDirentFromStats(i.name,h),t(null,i)})}}function Rf(i,r,t){r.fs.readdir(i,(s,h)=>{if(s!==null){hr(t,s);return}let f=h.map((e)=>{let n=Tf.joinPathSegments(i,e,r.pathSegmentSeparator);return(l)=>{mm.stat(n,r.fsStatSettings,(d,u)=>{if(d!==null){l(d);return}let g={name:e,path:n,dirent:Gf.fs.createDirentFromStats(e,u)};if(r.stats)g.stats=u;l(null,g)})}});Af(f,(e,n)=>{if(e!==null){hr(t,e);return}lt(t,n)})})}af.readdir=Rf;function hr(i,r){i(r)}function lt(i,r){i(null,r)}});var se=_((re)=>{Object.defineProperty(re,"__esModule",{value:!0});re.readdir=re.readdirWithFileTypes=re.read=void 0;var qm=Fi(),Fm=ft(),vf=et(),of=nt();function xm(i,r){if(!r.stats&&Fm.IS_SUPPORT_READDIR_WITH_FILE_TYPES)return pf(i,r);return ie(i,r)}re.read=xm;function pf(i,r){return r.fs.readdirSync(i,{withFileTypes:!0}).map((s)=>{let h={dirent:s,name:s.name,path:of.joinPathSegments(i,s.name,r.pathSegmentSeparator)};if(h.dirent.isSymbolicLink()&&r.followSymbolicLinks)try{let f=r.fs.statSync(h.path);h.dirent=vf.fs.createDirentFromStats(h.name,f)}catch(f){if(r.throwErrorOnBrokenSymbolicLink)throw f}return h})}re.readdirWithFileTypes=pf;function ie(i,r){return r.fs.readdirSync(i).map((s)=>{let h=of.joinPathSegments(i,s,r.pathSegmentSeparator),f=qm.statSync(h,r.fsStatSettings),e={name:s,path:h,dirent:vf.fs.createDirentFromStats(s,f)};if(r.stats)e.stats=f;return e})}re.readdir=ie});var ee=_((he)=>{Object.defineProperty(he,"__esModule",{value:!0});he.createFileSystemAdapter=he.FILE_SYSTEM_ADAPTER=void 0;var Li=J("fs");he.FILE_SYSTEM_ADAPTER={lstat:Li.lstat,stat:Li.stat,lstatSync:Li.lstatSync,statSync:Li.statSync,readdir:Li.readdir,readdirSync:Li.readdirSync};function Bm(i){if(i===void 0)return he.FILE_SYSTEM_ADAPTER;return Object.assign(Object.assign({},he.FILE_SYSTEM_ADAPTER),i)}he.createFileSystemAdapter=Bm});var de=_((le)=>{Object.defineProperty(le,"__esModule",{value:!0});var Vm=J("path"),Em=Fi(),Lm=ee();class ne{constructor(i={}){this._options=i,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=Lm.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,Vm.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new Em.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(i,r){return i!==null&&i!==void 0?i:r}}le.default=ne});var fr=_((ge)=>{Object.defineProperty(ge,"__esModule",{value:!0});ge.Settings=ge.scandirSync=ge.scandir=void 0;var ue=kf(),zm=se(),ut=de();ge.Settings=ut.default;function Dm(i,r,t){if(typeof r==="function"){ue.read(i,gt(),r);return}ue.read(i,gt(r),t)}ge.scandir=Dm;function Om(i,r){let t=gt(r);return zm.read(i,t)}ge.scandirSync=Om;function gt(i={}){if(i instanceof ut.default)return i;return new ut.default(i)}});var _e=_((y$,me)=>{function Zm(i){var r=new i,t=r;function s(){var f=r;if(f.next)r=f.next;else r=new i,t=r;return f.next=null,f}function h(f){t.next=f,t=f}return{get:s,release:h}}me.exports=Zm});var Se=_((S$,wt)=>{var Jm=_e();function ye(i,r,t){if(typeof i==="function")t=r,r=i,i=null;if(!(t>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");var s=Jm(Im),h=null,f=null,e=0,n=null,l={push:C,drain:c,saturated:c,pause:u,paused:!1,get concurrency(){return t},set concurrency(V){if(!(V>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");if(t=V,l.paused)return;for(;h&&e<t;)e++,M()},running:d,resume:F,idle:m,length:g,getQueue:w,unshift:L,empty:c,kill:E,killAndDrain:B,error:O,abort:Z};return l;function d(){return e}function u(){l.paused=!0}function g(){var V=h,D=0;while(V)V=V.next,D++;return D}function w(){var V=h,D=[];while(V)D.push(V.value),V=V.next;return D}function F(){if(!l.paused)return;if(l.paused=!1,h===null){e++,M();return}for(;h&&e<t;)e++,M()}function m(){return e===0&&l.length()===0}function C(V,D){var x=s.get();if(x.context=i,x.release=M,x.value=V,x.callback=D||c,x.errorHandler=n,e>=t||l.paused)if(f)f.next=x,f=x;else h=x,f=x,l.saturated();else e++,r.call(i,x.value,x.worked)}function L(V,D){var x=s.get();if(x.context=i,x.release=M,x.value=V,x.callback=D||c,x.errorHandler=n,e>=t||l.paused)if(h)x.next=h,h=x;else h=x,f=x,l.saturated();else e++,r.call(i,x.value,x.worked)}function M(V){if(V)s.release(V);var D=h;if(D&&e<=t)if(!l.paused){if(f===h)f=null;if(h=D.next,D.next=null,r.call(i,D.value,D.worked),f===null)l.empty()}else e--;else if(--e===0)l.drain()}function E(){h=null,f=null,l.drain=c}function B(){h=null,f=null,l.drain(),l.drain=c}function Z(){var V=h;h=null,f=null;while(V){var{next:D,callback:x,errorHandler:Y,value:I,context:$}=V;if(V.value=null,V.callback=c,V.errorHandler=null,Y)Y(new Error("abort"),I);x.call($,new Error("abort")),V.release(V),V=D}l.drain=c}function O(V){n=V}}function c(){}function Im(){this.value=null,this.callback=c,this.next=null,this.release=c,this.context=null,this.errorHandler=null;var i=this;this.worked=function r(t,s){var{callback:h,errorHandler:f,value:e}=i;if(i.value=null,i.callback=c,i.errorHandler)f(t,e);h.call(i.context,t,s),i.release(i)}}function Um(i,r,t){if(typeof i==="function")t=r,r=i,i=null;function s(u,g){r.call(this,u).then(function(w){g(null,w)},g)}var h=ye(i,s,t),f=h.push,e=h.unshift;return h.push=n,h.unshift=l,h.drained=d,h;function n(u){var g=new Promise(function(w,F){f(u,function(m,C){if(m){F(m);return}w(C)})});return g.catch(c),g}function l(u){var g=new Promise(function(w,F){e(u,function(m,C){if(m){F(m);return}w(C)})});return g.catch(c),g}function d(){var u=new Promise(function(g){process.nextTick(function(){if(h.idle())g();else{var w=h.drain;h.drain=function(){if(typeof w==="function")w();g(),h.drain=w}}})});return u}}wt.exports=ye;wt.exports.promise=Um});var er=_(($e)=>{Object.defineProperty($e,"__esModule",{value:!0});$e.joinPathSegments=$e.replacePathSegmentSeparator=$e.isAppliedFilter=$e.isFatalError=void 0;function Qm(i,r){if(i.errorFilter===null)return!0;return!i.errorFilter(r)}$e.isFatalError=Qm;function Nm(i,r){return i===null||i(r)}$e.isAppliedFilter=Nm;function Xm(i,r){return i.split(/[/\\]/).join(r)}$e.replacePathSegmentSeparator=Xm;function Km(i,r,t){if(i==="")return r;if(i.endsWith(t))return i+r;return i+t+r}$e.joinPathSegments=Km});var mt=_((Fe)=>{Object.defineProperty(Fe,"__esModule",{value:!0});var Tm=er();class qe{constructor(i,r){this._root=i,this._settings=r,this._root=Tm.replacePathSegmentSeparator(i,r.pathSegmentSeparator)}}Fe.default=qe});var _t=_((Me)=>{Object.defineProperty(Me,"__esModule",{value:!0});var Rm=J("events"),am=fr(),cm=Se(),nr=er(),km=mt();class xe extends km.default{constructor(i,r){super(i,r);this._settings=r,this._scandir=am.scandir,this._emitter=new Rm.EventEmitter,this._queue=cm(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{if(!this._isFatalError)this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(i){this._emitter.on("entry",i)}onError(i){this._emitter.once("error",i)}onEnd(i){this._emitter.once("end",i)}_pushToQueue(i,r){let t={directory:i,base:r};this._queue.push(t,(s)=>{if(s!==null)this._handleError(s)})}_worker(i,r){this._scandir(i.directory,this._settings.fsScandirSettings,(t,s)=>{if(t!==null){r(t,void 0);return}for(let h of s)this._handleEntry(h,i.base);r(null,void 0)})}_handleError(i){if(this._isDestroyed||!nr.isFatalError(this._settings,i))return;this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",i)}_handleEntry(i,r){if(this._isDestroyed||this._isFatalError)return;let t=i.path;if(r!==void 0)i.path=nr.joinPathSegments(r,i.name,this._settings.pathSegmentSeparator);if(nr.isAppliedFilter(this._settings.entryFilter,i))this._emitEntry(i);if(i.dirent.isDirectory()&&nr.isAppliedFilter(this._settings.deepFilter,i))this._pushToQueue(t,r===void 0?void 0:i.path)}_emitEntry(i){this._emitter.emit("entry",i)}}Me.default=xe});var Ve=_((Be)=>{Object.defineProperty(Be,"__esModule",{value:!0});var om=_t();class je{constructor(i,r){this._root=i,this._settings=r,this._reader=new om.default(this._root,this._settings),this._storage=[]}read(i){this._reader.onError((r)=>{pm(i,r)}),this._reader.onEntry((r)=>{this._storage.push(r)}),this._reader.onEnd(()=>{i_(i,this._storage)}),this._reader.read()}}Be.default=je;function pm(i,r){i(r)}function i_(i,r){i(null,r)}});var We=_((Le)=>{Object.defineProperty(Le,"__esModule",{value:!0});var t_=J("stream"),s_=_t();class Ee{constructor(i,r){this._root=i,this._settings=r,this._reader=new s_.default(this._root,this._settings),this._stream=new t_.Readable({objectMode:!0,read:()=>{},destroy:()=>{if(!this._reader.isDestroyed)this._reader.destroy()}})}read(){return this._reader.onError((i)=>{this._stream.emit("error",i)}),this._reader.onEntry((i)=>{this._stream.push(i)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}}Le.default=Ee});var Oe=_((De)=>{Object.defineProperty(De,"__esModule",{value:!0});var f_=fr(),lr=er(),e_=mt();class ze extends e_.default{constructor(){super(...arguments);this._scandir=f_.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(i,r){this._queue.add({directory:i,base:r})}_handleQueue(){for(let i of this._queue.values())this._handleDirectory(i.directory,i.base)}_handleDirectory(i,r){try{let t=this._scandir(i,this._settings.fsScandirSettings);for(let s of t)this._handleEntry(s,r)}catch(t){this._handleError(t)}}_handleError(i){if(!lr.isFatalError(this._settings,i))return;throw i}_handleEntry(i,r){let t=i.path;if(r!==void 0)i.path=lr.joinPathSegments(r,i.name,this._settings.pathSegmentSeparator);if(lr.isAppliedFilter(this._settings.entryFilter,i))this._pushToStorage(i);if(i.dirent.isDirectory()&&lr.isAppliedFilter(this._settings.deepFilter,i))this._pushToQueue(t,r===void 0?void 0:i.path)}_pushToStorage(i){this._storage.push(i)}}De.default=ze});var Ze=_((Pe)=>{Object.defineProperty(Pe,"__esModule",{value:!0});var l_=Oe();class Ye{constructor(i,r){this._root=i,this._settings=r,this._reader=new l_.default(this._root,this._settings)}read(){return this._reader.read()}}Pe.default=Ye});var Ue=_((Ie)=>{Object.defineProperty(Ie,"__esModule",{value:!0});var u_=J("path"),g_=fr();class Je{constructor(i={}){this._options=i,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,u_.sep),this.fsScandirSettings=new g_.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(i,r){return i!==null&&i!==void 0?i:r}}Ie.default=Je});var ur=_((Ne)=>{Object.defineProperty(Ne,"__esModule",{value:!0});Ne.Settings=Ne.walkStream=Ne.walkSync=Ne.walk=void 0;var Qe=Ve(),m_=We(),__=Ze(),yt=Ue();Ne.Settings=yt.default;function y_(i,r,t){if(typeof r==="function"){new Qe.default(i,dr()).read(r);return}new Qe.default(i,dr(r)).read(t)}Ne.walk=y_;function S_(i,r){let t=dr(r);return new __.default(i,t).read()}Ne.walkSync=S_;function $_(i,r){let t=dr(r);return new m_.default(i,t).read()}Ne.walkStream=$_;function dr(i={}){if(i instanceof yt.default)return i;return new yt.default(i)}});var gr=_((Ae)=>{Object.defineProperty(Ae,"__esModule",{value:!0});var x_=J("path"),M_=Fi(),Ke=di();class be{constructor(i){this._settings=i,this._fsStatSettings=new M_.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(i){return x_.resolve(this._settings.cwd,i)}_makeEntry(i,r){let t={name:r,path:r,dirent:Ke.fs.createDirentFromStats(r,i)};if(this._settings.stats)t.stats=i;return t}_isFatalError(i){return!Ke.errno.isEnoentCodeError(i)&&!this._settings.suppressErrors}}Ae.default=be});var St=_((Te)=>{Object.defineProperty(Te,"__esModule",{value:!0});var B_=J("stream"),V_=Fi(),E_=ur(),L_=gr();class Ge extends L_.default{constructor(){super(...arguments);this._walkStream=E_.walkStream,this._stat=V_.stat}dynamic(i,r){return this._walkStream(i,r)}static(i,r){let t=i.map(this._getFullEntryPath,this),s=new B_.PassThrough({objectMode:!0});s._write=(h,f,e)=>{return this._getEntry(t[h],i[h],r).then((n)=>{if(n!==null&&r.entryFilter(n))s.push(n);if(h===t.length-1)s.end();e()}).catch(e)};for(let h=0;h<t.length;h++)s.write(h);return s}_getEntry(i,r,t){return this._getStat(i).then((s)=>this._makeEntry(s,r)).catch((s)=>{if(t.errorFilter(s))return null;throw s})}_getStat(i){return new Promise((r,t)=>{this._stat(i,this._fsStatSettings,(s,h)=>{return s===null?r(h):t(s)})})}}Te.default=Ge});var ae=_((Re)=>{Object.defineProperty(Re,"__esModule",{value:!0});var z_=ur(),D_=gr(),O_=St();class He extends D_.default{constructor(){super(...arguments);this._walkAsync=z_.walk,this._readerStream=new O_.default(this._settings)}dynamic(i,r){return new Promise((t,s)=>{this._walkAsync(i,r,(h,f)=>{if(h===null)t(f);else s(h)})})}async static(i,r){let t=[],s=this._readerStream.static(i,r);return new Promise((h,f)=>{s.once("error",f),s.on("data",(e)=>t.push(e)),s.once("end",()=>h(t))})}}Re.default=He});var ve=_((ke)=>{Object.defineProperty(ke,"__esModule",{value:!0});var Ji=di();class ce{constructor(i,r,t){this._patterns=i,this._settings=r,this._micromatchOptions=t,this._storage=[],this._fillStorage()}_fillStorage(){for(let i of this._patterns){let r=this._getPatternSegments(i),t=this._splitSegmentsIntoSections(r);this._storage.push({complete:t.length<=1,pattern:i,segments:r,sections:t})}}_getPatternSegments(i){return Ji.pattern.getPatternParts(i,this._micromatchOptions).map((t)=>{if(!Ji.pattern.isDynamicPattern(t,this._settings))return{dynamic:!1,pattern:t};return{dynamic:!0,pattern:t,patternRe:Ji.pattern.makeRe(t,this._micromatchOptions)}})}_splitSegmentsIntoSections(i){return Ji.array.splitWhen(i,(r)=>r.dynamic&&Ji.pattern.hasGlobStar(r.pattern))}}ke.default=ce});var rn=_((pe)=>{Object.defineProperty(pe,"__esModule",{value:!0});var Z_=ve();class oe extends Z_.default{match(i){let r=i.split("/"),t=r.length,s=this._storage.filter((h)=>!h.complete||h.segments.length>t);for(let h of s){let f=h.sections[0];if(!h.complete&&t>f.length)return!0;if(r.every((n,l)=>{let d=h.segments[l];if(d.dynamic&&d.patternRe.test(n))return!0;if(!d.dynamic&&d.pattern===n)return!0;return!1}))return!0}return!1}}pe.default=oe});var hn=_((sn)=>{Object.defineProperty(sn,"__esModule",{value:!0});var wr=di(),I_=rn();class tn{constructor(i,r){this._settings=i,this._micromatchOptions=r}getFilter(i,r,t){let s=this._getMatcher(r),h=this._getNegativePatternsRe(t);return(f)=>this._filter(i,f,s,h)}_getMatcher(i){return new I_.default(i,this._settings,this._micromatchOptions)}_getNegativePatternsRe(i){let r=i.filter(wr.pattern.isAffectDepthOfReadingPattern);return wr.pattern.convertPatternsToRe(r,this._micromatchOptions)}_filter(i,r,t,s){if(this._isSkippedByDeep(i,r.path))return!1;if(this._isSkippedSymbolicLink(r))return!1;let h=wr.path.removeLeadingDotSegment(r.path);if(this._isSkippedByPositivePatterns(h,t))return!1;return this._isSkippedByNegativePatterns(h,s)}_isSkippedByDeep(i,r){if(this._settings.deep===1/0)return!1;return this._getEntryLevel(i,r)>=this._settings.deep}_getEntryLevel(i,r){let t=r.split("/").length;if(i==="")return t;let s=i.split("/").length;return t-s}_isSkippedSymbolicLink(i){return!this._settings.followSymbolicLinks&&i.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(i,r){return!this._settings.baseNameMatch&&!r.match(i)}_isSkippedByNegativePatterns(i,r){return!wr.pattern.matchAny(i,r)}}sn.default=tn});var nn=_((en)=>{Object.defineProperty(en,"__esModule",{value:!0});var wi=di();class fn{constructor(i,r){this._settings=i,this._micromatchOptions=r,this.index=new Map}getFilter(i,r){let[t,s]=wi.pattern.partitionAbsoluteAndRelative(r),h={positive:{all:wi.pattern.convertPatternsToRe(i,this._micromatchOptions)},negative:{absolute:wi.pattern.convertPatternsToRe(t,Object.assign(Object.assign({},this._micromatchOptions),{dot:!0})),relative:wi.pattern.convertPatternsToRe(s,Object.assign(Object.assign({},this._micromatchOptions),{dot:!0}))}};return(f)=>this._filter(f,h)}_filter(i,r){let t=wi.path.removeLeadingDotSegment(i.path);if(this._settings.unique&&this._isDuplicateEntry(t))return!1;if(this._onlyFileFilter(i)||this._onlyDirectoryFilter(i))return!1;let s=this._isMatchToPatternsSet(t,r,i.dirent.isDirectory());if(this._settings.unique&&s)this._createIndexRecord(t);return s}_isDuplicateEntry(i){return this.index.has(i)}_createIndexRecord(i){this.index.set(i,void 0)}_onlyFileFilter(i){return this._settings.onlyFiles&&!i.dirent.isFile()}_onlyDirectoryFilter(i){return this._settings.onlyDirectories&&!i.dirent.isDirectory()}_isMatchToPatternsSet(i,r,t){if(!this._isMatchToPatterns(i,r.positive.all,t))return!1;if(this._isMatchToPatterns(i,r.negative.relative,t))return!1;if(this._isMatchToAbsoluteNegative(i,r.negative.absolute,t))return!1;return!0}_isMatchToAbsoluteNegative(i,r,t){if(r.length===0)return!1;let s=wi.path.makeAbsolute(this._settings.cwd,i);return this._isMatchToPatterns(s,r,t)}_isMatchToPatterns(i,r,t){if(r.length===0)return!1;let s=wi.pattern.matchAny(i,r);if(!s&&t)return wi.pattern.matchAny(i+"/",r);return s}}en.default=fn});var un=_((dn)=>{Object.defineProperty(dn,"__esModule",{value:!0});var N_=di();class ln{constructor(i){this._settings=i}getFilter(){return(i)=>this._isNonFatalError(i)}_isNonFatalError(i){return N_.errno.isEnoentCodeError(i)||this._settings.suppressErrors}}dn.default=ln});var _n=_((mn)=>{Object.defineProperty(mn,"__esModule",{value:!0});var gn=di();class wn{constructor(i){this._settings=i}getTransformer(){return(i)=>this._transform(i)}_transform(i){let r=i.path;if(this._settings.absolute)r=gn.path.makeAbsolute(this._settings.cwd,r),r=gn.path.unixify(r);if(this._settings.markDirectories&&i.dirent.isDirectory())r+="/";if(!this._settings.objectMode)return r;return Object.assign(Object.assign({},i),{path:r})}}mn.default=wn});var mr=_((Sn)=>{Object.defineProperty(Sn,"__esModule",{value:!0});var b_=J("path"),A_=hn(),G_=nn(),T_=un(),H_=_n();class yn{constructor(i){this._settings=i,this.errorFilter=new T_.default(this._settings),this.entryFilter=new G_.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new A_.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new H_.default(this._settings)}_getRootDirectory(i){return b_.resolve(this._settings.cwd,i.base)}_getReaderOptions(i){let r=i.base==="."?"":i.base;return{basePath:r,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(r,i.positive,i.negative),entryFilter:this.entryFilter.getFilter(i.positive,i.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}}Sn.default=yn});var qn=_((Cn)=>{Object.defineProperty(Cn,"__esModule",{value:!0});var a_=ae(),c_=mr();class $n extends c_.default{constructor(){super(...arguments);this._reader=new a_.default(this._settings)}async read(i){let r=this._getRootDirectory(i),t=this._getReaderOptions(i);return(await this.api(r,i,t)).map((h)=>t.transform(h))}api(i,r,t){if(r.dynamic)return this._reader.dynamic(i,t);return this._reader.static(r.patterns,t)}}Cn.default=$n});var Mn=_((xn)=>{Object.defineProperty(xn,"__esModule",{value:!0});var v_=J("stream"),o_=St(),p_=mr();class Fn extends p_.default{constructor(){super(...arguments);this._reader=new o_.default(this._settings)}read(i){let r=this._getRootDirectory(i),t=this._getReaderOptions(i),s=this.api(r,i,t),h=new v_.Readable({objectMode:!0,read:()=>{}});return s.once("error",(f)=>h.emit("error",f)).on("data",(f)=>h.emit("data",t.transform(f))).once("end",()=>h.emit("end")),h.once("close",()=>s.destroy()),h}api(i,r,t){if(r.dynamic)return this._reader.dynamic(i,t);return this._reader.static(r.patterns,t)}}xn.default=Fn});var Vn=_((Bn)=>{Object.defineProperty(Bn,"__esModule",{value:!0});var r0=Fi(),t0=ur(),s0=gr();class jn extends s0.default{constructor(){super(...arguments);this._walkSync=t0.walkSync,this._statSync=r0.statSync}dynamic(i,r){return this._walkSync(i,r)}static(i,r){let t=[];for(let s of i){let h=this._getFullEntryPath(s),f=this._getEntry(h,s,r);if(f===null||!r.entryFilter(f))continue;t.push(f)}return t}_getEntry(i,r,t){try{let s=this._getStat(i);return this._makeEntry(s,r)}catch(s){if(t.errorFilter(s))return null;throw s}}_getStat(i){return this._statSync(i,this._fsStatSettings)}}Bn.default=jn});var Wn=_((Ln)=>{Object.defineProperty(Ln,"__esModule",{value:!0});var f0=Vn(),e0=mr();class En extends e0.default{constructor(){super(...arguments);this._reader=new f0.default(this._settings)}read(i){let r=this._getRootDirectory(i),t=this._getReaderOptions(i);return this.api(r,i,t).map(t.transform)}api(i,r,t){if(r.dynamic)return this._reader.dynamic(i,t);return this._reader.static(r.patterns,t)}}Ln.default=En});var On=_((Dn)=>{Object.defineProperty(Dn,"__esModule",{value:!0});Dn.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var Wi=J("fs"),l0=J("os"),d0=Math.max(l0.cpus().length,1);Dn.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:Wi.lstat,lstatSync:Wi.lstatSync,stat:Wi.stat,statSync:Wi.statSync,readdir:Wi.readdir,readdirSync:Wi.readdirSync};class zn{constructor(i={}){if(this._options=i,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,d0),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories)this.onlyFiles=!1;if(this.stats)this.objectMode=!0;this.ignore=[].concat(this.ignore)}_getValue(i,r){return i===void 0?r:i}_getFileSystemMethods(i={}){return Object.assign(Object.assign({},Dn.DEFAULT_FILE_SYSTEM_ADAPTER),i)}}Dn.default=zn});var Zn=_((K$,Pn)=>{var Yn=df(),g0=qn(),w0=Mn(),m0=Wn(),Ct=On(),ii=di();async function qt(i,r){si(i);let t=Ft(i,g0.default,r),s=await Promise.all(t);return ii.array.flatten(s)}(function(i){i.glob=i,i.globSync=r,i.globStream=t,i.async=i;function r(d,u){si(d);let g=Ft(d,m0.default,u);return ii.array.flatten(g)}i.sync=r;function t(d,u){si(d);let g=Ft(d,w0.default,u);return ii.stream.merge(g)}i.stream=t;function s(d,u){si(d);let g=[].concat(d),w=new Ct.default(u);return Yn.generate(g,w)}i.generateTasks=s;function h(d,u){si(d);let g=new Ct.default(u);return ii.pattern.isDynamicPattern(d,g)}i.isDynamicPattern=h;function f(d){return si(d),ii.path.escape(d)}i.escapePath=f;function e(d){return si(d),ii.path.convertPathToPattern(d)}i.convertPathToPattern=e;let n;(function(d){function u(w){return si(w),ii.path.escapePosixPath(w)}d.escapePath=u;function g(w){return si(w),ii.path.convertPosixPathToPattern(w)}d.convertPathToPattern=g})(n=i.posix||(i.posix={}));let l;(function(d){function u(w){return si(w),ii.path.escapeWindowsPath(w)}d.escapePath=u;function g(w){return si(w),ii.path.convertWindowsPathToPattern(w)}d.convertPathToPattern=g})(l=i.win32||(i.win32={}))})(qt||(qt={}));function Ft(i,r,t){let s=[].concat(i),h=new Ct.default(t),f=Yn.generate(s,h),e=new r(h);return f.map(e.read,e)}function si(i){if(![].concat(i).every((s)=>ii.string.isString(s)&&!ii.string.isEmpty(s)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}Pn.exports=qt});var Kn=_((T$,Ii)=>{var S0=typeof process!=="undefined"&&process.env.TERM_PROGRAM==="Hyper",$0=typeof process!=="undefined"&&process.platform==="win32",Qn=typeof process!=="undefined"&&process.platform==="linux",xt={ballotDisabled:"\u2612",ballotOff:"\u2610",ballotOn:"\u2611",bullet:"\u2022",bulletWhite:"\u25E6",fullBlock:"\u2588",heart:"\u2764",identicalTo:"\u2261",line:"\u2500",mark:"\u203B",middot:"\xB7",minus:"\uFF0D",multiplication:"\xD7",obelus:"\xF7",pencilDownRight:"\u270E",pencilRight:"\u270F",pencilUpRight:"\u2710",percent:"%",pilcrow2:"\u2761",pilcrow:"\xB6",plusMinus:"\xB1",question:"?",section:"\xA7",starsOff:"\u2606",starsOn:"\u2605",upDownArrow:"\u2195"},Nn=Object.assign({},xt,{check:"\u221A",cross:"\xD7",ellipsisLarge:"...",ellipsis:"...",info:"i",questionSmall:"?",pointer:">",pointerSmall:"\xBB",radioOff:"( )",radioOn:"(*)",warning:"\u203C"}),Xn=Object.assign({},xt,{ballotCross:"\u2718",check:"\u2714",cross:"\u2716",ellipsisLarge:"\u22EF",ellipsis:"\u2026",info:"\u2139",questionFull:"\uFF1F",questionSmall:"\uFE56",pointer:Qn?"\u25B8":"\u276F",pointerSmall:Qn?"\u2023":"\u203A",radioOff:"\u25EF",radioOn:"\u25C9",warning:"\u26A0"});Ii.exports=$0&&!S0?Nn:Xn;Reflect.defineProperty(Ii.exports,"common",{enumerable:!1,value:xt});Reflect.defineProperty(Ii.exports,"windows",{enumerable:!1,value:Nn});Reflect.defineProperty(Ii.exports,"other",{enumerable:!1,value:Xn})});var _r=_((H$,Mt)=>{var C0=(i)=>i!==null&&typeof i==="object"&&!Array.isArray(i),q0=/[\u001b\u009b][[\]#;?()]*(?:(?:(?:[^\W_]*;?[^\W_]*)\u0007)|(?:(?:[0-9]{1,4}(;[0-9]{0,4})*)?[~0-9=<>cf-nqrtyA-PRZ]))/g,F0=()=>{if(typeof process!=="undefined")return process.env.FORCE_COLOR!=="0";return!1},bn=()=>{let i={enabled:F0(),visible:!0,styles:{},keys:{}},r=(f)=>{let e=f.open=`\x1B[${f.codes[0]}m`,n=f.close=`\x1B[${f.codes[1]}m`,l=f.regex=new RegExp(`\\u001b\\[${f.codes[1]}m`,"g");return f.wrap=(d,u)=>{if(d.includes(n))d=d.replace(l,n+e);let g=e+d+n;return u?g.replace(/\r*\n/g,`${n}$&${e}`):g},f},t=(f,e,n)=>{return typeof f==="function"?f(e):f.wrap(e,n)},s=(f,e)=>{if(f===""||f==null)return"";if(i.enabled===!1)return f;if(i.visible===!1)return"";let n=""+f,l=n.includes(`
`),d=e.length;if(d>0&&e.includes("unstyle"))e=[...new Set(["unstyle",...e])].reverse();while(d-- >0)n=t(i.styles[e[d]],n,l);return n},h=(f,e,n)=>{i.styles[f]=r({name:f,codes:e}),(i.keys[n]||(i.keys[n]=[])).push(f),Reflect.defineProperty(i,f,{configurable:!0,enumerable:!0,set(d){i.alias(f,d)},get(){let d=(u)=>s(u,d.stack);return Reflect.setPrototypeOf(d,i),d.stack=this.stack?this.stack.concat(f):[f],d}})};return h("reset",[0,0],"modifier"),h("bold",[1,22],"modifier"),h("dim",[2,22],"modifier"),h("italic",[3,23],"modifier"),h("underline",[4,24],"modifier"),h("inverse",[7,27],"modifier"),h("hidden",[8,28],"modifier"),h("strikethrough",[9,29],"modifier"),h("black",[30,39],"color"),h("red",[31,39],"color"),h("green",[32,39],"color"),h("yellow",[33,39],"color"),h("blue",[34,39],"color"),h("magenta",[35,39],"color"),h("cyan",[36,39],"color"),h("white",[37,39],"color"),h("gray",[90,39],"color"),h("grey",[90,39],"color"),h("bgBlack",[40,49],"bg"),h("bgRed",[41,49],"bg"),h("bgGreen",[42,49],"bg"),h("bgYellow",[43,49],"bg"),h("bgBlue",[44,49],"bg"),h("bgMagenta",[45,49],"bg"),h("bgCyan",[46,49],"bg"),h("bgWhite",[47,49],"bg"),h("blackBright",[90,39],"bright"),h("redBright",[91,39],"bright"),h("greenBright",[92,39],"bright"),h("yellowBright",[93,39],"bright"),h("blueBright",[94,39],"bright"),h("magentaBright",[95,39],"bright"),h("cyanBright",[96,39],"bright"),h("whiteBright",[97,39],"bright"),h("bgBlackBright",[100,49],"bgBright"),h("bgRedBright",[101,49],"bgBright"),h("bgGreenBright",[102,49],"bgBright"),h("bgYellowBright",[103,49],"bgBright"),h("bgBlueBright",[104,49],"bgBright"),h("bgMagentaBright",[105,49],"bgBright"),h("bgCyanBright",[106,49],"bgBright"),h("bgWhiteBright",[107,49],"bgBright"),i.ansiRegex=q0,i.hasColor=i.hasAnsi=(f)=>{return i.ansiRegex.lastIndex=0,typeof f==="string"&&f!==""&&i.ansiRegex.test(f)},i.alias=(f,e)=>{let n=typeof e==="string"?i[e]:e;if(typeof n!=="function")throw new TypeError("Expected alias to be the name of an existing color (string) or a function");if(!n.stack)Reflect.defineProperty(n,"name",{value:f}),i.styles[f]=n,n.stack=[f];Reflect.defineProperty(i,f,{configurable:!0,enumerable:!0,set(l){i.alias(f,l)},get(){let l=(d)=>s(d,l.stack);return Reflect.setPrototypeOf(l,i),l.stack=this.stack?this.stack.concat(n.stack):n.stack,l}})},i.theme=(f)=>{if(!C0(f))throw new TypeError("Expected theme to be an object");for(let e of Object.keys(f))i.alias(e,f[e]);return i},i.alias("unstyle",(f)=>{if(typeof f==="string"&&f!=="")return i.ansiRegex.lastIndex=0,f.replace(i.ansiRegex,"");return""}),i.alias("noop",(f)=>f),i.none=i.clear=i.noop,i.stripColor=i.unstyle,i.symbols=Kn(),i.define=h,i};Mt.exports=bn();Mt.exports.create=bn});var H=_((M0)=>{var x0=Object.prototype.toString,ri=_r(),An=!1,Ui=new Set,Gn={yellow:"blue",cyan:"red",green:"magenta",black:"white",blue:"yellow",red:"cyan",magenta:"green",white:"black"};M0.longest=(i,r)=>{return i.reduce((t,s)=>Math.max(t,r?s[r].length:s.length),0)};M0.hasColor=(i)=>!!i&&ri.hasColor(i);var yr=M0.isObject=(i)=>{return i!==null&&typeof i==="object"&&!Array.isArray(i)};M0.nativeType=(i)=>{return x0.call(i).slice(8,-1).toLowerCase().replace(/\s/g,"")};M0.isAsyncFn=(i)=>{return M0.nativeType(i)==="asyncfunction"};M0.isPrimitive=(i)=>{return i!=null&&typeof i!=="object"&&typeof i!=="function"};M0.resolve=(i,r,...t)=>{if(typeof r==="function")return r.call(i,...t);return r};M0.scrollDown=(i=[])=>[...i.slice(1),i[0]];M0.scrollUp=(i=[])=>[i.pop(),...i];M0.reorder=(i=[])=>{let r=i.slice();return r.sort((t,s)=>{if(t.index>s.index)return 1;if(t.index<s.index)return-1;return 0}),r};M0.swap=(i,r,t)=>{let s=i.length,h=t===s?0:t<0?s-1:t,f=i[r];i[r]=i[h],i[h]=f};M0.width=(i,r=80)=>{let t=i&&i.columns?i.columns:r;if(i&&typeof i.getWindowSize==="function")t=i.getWindowSize()[0];if(process.platform==="win32")return t-1;return t};M0.height=(i,r=20)=>{let t=i&&i.rows?i.rows:r;if(i&&typeof i.getWindowSize==="function")t=i.getWindowSize()[1];return t};M0.wordWrap=(i,r={})=>{if(!i)return i;if(typeof r==="number")r={width:r};let{indent:t="",newline:s=`
`+t,width:h=80}=r,f=(s+t).match(/[^\S\n]/g)||[];h-=f.length;let e=`.{1,${h}}([\\s\\u200B]+|$)|[^\\s\\u200B]+?([\\s\\u200B]+|$)`,n=i.trim(),l=new RegExp(e,"g"),d=n.match(l)||[];if(d=d.map((u)=>u.replace(/\n$/,"")),r.padEnd)d=d.map((u)=>u.padEnd(h," "));if(r.padStart)d=d.map((u)=>u.padStart(h," "));return t+d.join(s)};M0.unmute=(i)=>{let r=i.stack.find((s)=>ri.keys.color.includes(s));if(r)return ri[r];if(i.stack.find((s)=>s.slice(2)==="bg"))return ri[r.slice(2)];return(s)=>s};M0.pascal=(i)=>i?i[0].toUpperCase()+i.slice(1):"";M0.inverse=(i)=>{if(!i||!i.stack)return i;let r=i.stack.find((s)=>ri.keys.color.includes(s));if(r){let s=ri["bg"+M0.pascal(r)];return s?s.black:i}let t=i.stack.find((s)=>s.slice(0,2)==="bg");if(t)return ri[t.slice(2).toLowerCase()]||i;return ri.none};M0.complement=(i)=>{if(!i||!i.stack)return i;let r=i.stack.find((s)=>ri.keys.color.includes(s)),t=i.stack.find((s)=>s.slice(0,2)==="bg");if(r&&!t)return ri[Gn[r]||r];if(t){let s=t.slice(2).toLowerCase(),h=Gn[s];if(!h)return i;return ri["bg"+M0.pascal(h)]||i}return ri.none};M0.meridiem=(i)=>{let r=i.getHours(),t=i.getMinutes(),s=r>=12?"pm":"am";r=r%12;let h=r===0?12:r,f=t<10?"0"+t:t;return h+":"+f+" "+s};M0.set=(i={},r="",t)=>{return r.split(".").reduce((s,h,f,e)=>{let n=e.length-1>f?s[h]||{}:t;if(!M0.isObject(n)&&f<e.length-1)n={};return s[h]=n},i)};M0.get=(i={},r="",t)=>{let s=i[r]==null?r.split(".").reduce((h,f)=>h&&h[f],i):i[r];return s==null?t:s};M0.mixin=(i,r)=>{if(!yr(i))return r;if(!yr(r))return i;for(let t of Object.keys(r)){let s=Object.getOwnPropertyDescriptor(r,t);if(hasOwnProperty.call(s,"value"))if(hasOwnProperty.call(i,t)&&yr(s.value)){let h=Object.getOwnPropertyDescriptor(i,t);if(yr(h.value)&&h.value!==s.value)i[t]=M0.merge({},i[t],r[t]);else Reflect.defineProperty(i,t,s)}else Reflect.defineProperty(i,t,s);else Reflect.defineProperty(i,t,s)}return i};M0.merge=(...i)=>{let r={};for(let t of i)M0.mixin(r,t);return r};M0.mixinEmitter=(i,r)=>{let t=r.constructor.prototype;for(let s of Object.keys(t)){let h=t[s];if(typeof h==="function")M0.define(i,s,h.bind(r));else M0.define(i,s,h)}};var Sr=(i,r)=>{if(An)return;if(An=!0,Ui.forEach((t)=>t()),i===!0)process.exit(128+r)},Tn=Sr.bind(null,!0,15),Hn=Sr.bind(null,!0,2);M0.onExit=(i)=>{if(Ui.size===0)process.once("SIGTERM",Tn),process.once("SIGINT",Hn),process.once("exit",Sr);return Ui.add(i),()=>{if(Ui.delete(i),Ui.size===0)process.off("SIGTERM",Tn),process.off("SIGINT",Hn),process.off("exit",Sr)}};M0.define=(i,r,t)=>{Reflect.defineProperty(i,r,{value:t})};M0.defineExport=(i,r,t)=>{let s;Reflect.defineProperty(i,r,{enumerable:!0,configurable:!0,set(h){s=h},get(){return s?s():t()}})}});var vn=_((a$,kn)=>{kn.exports=({onlyFirst:i=!1}={})=>{let r=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(r,i?void 0:"g")}});var mi=_((c$,on)=>{var H0=vn();on.exports=(i)=>typeof i==="string"?i.replace(H0(),""):i});var pn=_((R0)=>{R0.ctrl={a:"first",b:"backward",c:"cancel",d:"deleteForward",e:"last",f:"forward",g:"reset",i:"tab",k:"cutForward",l:"reset",n:"newItem",m:"cancel",j:"submit",p:"search",r:"remove",s:"save",u:"undo",w:"cutLeft",x:"toggleCursor",v:"paste"};R0.shift={up:"shiftUp",down:"shiftDown",left:"shiftLeft",right:"shiftRight",tab:"prev"};R0.fn={up:"pageUp",down:"pageDown",left:"pageLeft",right:"pageRight",delete:"deleteForward"};R0.option={b:"backward",f:"forward",d:"cutRight",left:"cutLeft",up:"altUp",down:"altDown"};R0.keys={pageup:"pageUp",pagedown:"pageDown",home:"home",end:"end",cancel:"cancel",delete:"deleteForward",backspace:"delete",down:"down",enter:"submit",escape:"cancel",left:"left",space:"space",number:"number",return:"submit",right:"right",tab:"next",up:"up"}});var rl=_((v$,il)=>{il.exports=class i{_queue=[];_executing=!1;_jobRunner=null;constructor(r){this._jobRunner=r}enqueue=(...r)=>{this._queue.push(r),this._dequeue()};destroy(){this._queue.length=0,this._jobRunner=null}_dequeue(){if(this._executing||!this._queue.length)return;this._executing=!0,this._jobRunner(...this._queue.shift()),setTimeout(()=>{this._executing=!1,this._dequeue()})}}});var Bt=_((o$,sl)=>{var tl=J("readline"),p0=pn(),iy=rl(),ry=/^(?:\x1b)([a-zA-Z0-9])$/,ty=/^(?:\x1b+)(O|N|\[|\[\[)(?:(\d+)(?:;(\d+))?([~^$])|(?:1;)?(\d+)?([a-zA-Z]))/,sy={OP:"f1",OQ:"f2",OR:"f3",OS:"f4","[11~":"f1","[12~":"f2","[13~":"f3","[14~":"f4","[[A":"f1","[[B":"f2","[[C":"f3","[[D":"f4","[[E":"f5","[15~":"f5","[17~":"f6","[18~":"f7","[19~":"f8","[20~":"f9","[21~":"f10","[23~":"f11","[24~":"f12","[A":"up","[B":"down","[C":"right","[D":"left","[E":"clear","[F":"end","[H":"home",OA:"up",OB:"down",OC:"right",OD:"left",OE:"clear",OF:"end",OH:"home","[1~":"home","[2~":"insert","[3~":"delete","[4~":"end","[5~":"pageup","[6~":"pagedown","[[5~":"pageup","[[6~":"pagedown","[7~":"home","[8~":"end","[a":"up","[b":"down","[c":"right","[d":"left","[e":"clear","[2$":"insert","[3$":"delete","[5$":"pageup","[6$":"pagedown","[7$":"home","[8$":"end",Oa:"up",Ob:"down",Oc:"right",Od:"left",Oe:"clear","[2^":"insert","[3^":"delete","[5^":"pageup","[6^":"pagedown","[7^":"home","[8^":"end","[Z":"tab"};function hy(i){return["[a","[b","[c","[d","[e","[2$","[3$","[5$","[6$","[7$","[8$","[Z"].includes(i)}function fy(i){return["Oa","Ob","Oc","Od","Oe","[2^","[3^","[5^","[6^","[7^","[8^"].includes(i)}var $r=(i="",r={})=>{let t,s={name:r.name,ctrl:!1,meta:!1,shift:!1,option:!1,sequence:i,raw:i,...r};if(Buffer.isBuffer(i))if(i[0]>127&&i[1]===void 0)i[0]-=128,i="\x1B"+String(i);else i=String(i);else if(i!==void 0&&typeof i!=="string")i=String(i);else if(!i)i=s.sequence||"";if(s.sequence=s.sequence||i||s.name,i==="\r")s.raw=void 0,s.name="return";else if(i===`
`)s.name="enter";else if(i==="\t")s.name="tab";else if(i==="\b"||i==="\x7F"||i==="\x1B\x7F"||i==="\x1B\b")s.name="backspace",s.meta=i.charAt(0)==="\x1B";else if(i==="\x1B"||i==="\x1B\x1B")s.name="escape",s.meta=i.length===2;else if(i===" "||i==="\x1B ")s.name="space",s.meta=i.length===2;else if(i<="\x1A")s.name=String.fromCharCode(i.charCodeAt(0)+97-1),s.ctrl=!0;else if(i.length===1&&i>="0"&&i<="9")s.name="number";else if(i.length===1&&i>="a"&&i<="z")s.name=i;else if(i.length===1&&i>="A"&&i<="Z")s.name=i.toLowerCase(),s.shift=!0;else if(t=ry.exec(i))s.meta=!0,s.shift=/^[A-Z]$/.test(t[1]);else if(t=ty.exec(i)){let h=[...i];if(h[0]==="\x1B"&&h[1]==="\x1B")s.option=!0;let f=[t[1],t[2],t[4],t[6]].filter(Boolean).join(""),e=(t[3]||t[5]||1)-1;s.ctrl=!!(e&4),s.meta=!!(e&10),s.shift=!!(e&1),s.code=f,s.name=sy[f],s.shift=hy(f)||s.shift,s.ctrl=fy(f)||s.ctrl}return s};$r.listen=(i={},r)=>{let{stdin:t}=i;if(!t||t!==process.stdin&&!t.isTTY)throw new Error("Invalid stream passed");let s=tl.createInterface({terminal:!0,input:t});tl.emitKeypressEvents(t,s);let h=new iy((n,l)=>r(n,$r(n,l),s)),f=t.isRaw;if(t.isTTY)t.setRawMode(!0);return t.on("keypress",h.enqueue),s.resume(),()=>{if(t.isTTY)t.setRawMode(f);t.removeListener("keypress",h.enqueue),h.destroy(),s.pause(),s.close()}};$r.action=(i,r,t)=>{let s={...p0,...t};if(r.ctrl)return r.action=s.ctrl[r.name],r;if(r.option&&s.option)return r.action=s.option[r.name],r;if(r.shift)return r.action=s.shift[r.name],r;return r.action=s.keys[r.name],r};sl.exports=$r});var fl=_((p$,hl)=>{hl.exports=(i)=>{i.timers=i.timers||{};let r=i.options.timers;if(!r)return;for(let t of Object.keys(r)){let s=r[t];if(typeof s==="number")s={interval:s};ey(i,t,s)}};function ey(i,r,t={}){let s=i.timers[r]={name:r,start:Date.now(),ms:0,tick:0},h=t.interval||120;s.frames=t.frames||[],s.loading=!0;let f=setInterval(()=>{s.ms=Date.now()-s.start,s.tick++,i.render()},h);return s.stop=()=>{s.loading=!1,clearInterval(f)},Reflect.defineProperty(s,"interval",{value:f}),i.once("close",()=>s.stop()),s.stop}});var ll=_((iC,nl)=>{var{define:ny,width:ly}=H();class el{constructor(i){let r=i.options;ny(this,"_prompt",i),this.type=i.type,this.name=i.name,this.message="",this.header="",this.footer="",this.error="",this.hint="",this.input="",this.cursor=0,this.index=0,this.lines=0,this.tick=0,this.prompt="",this.buffer="",this.width=ly(r.stdout||process.stdout),Object.assign(this,r),this.name=this.name||this.message,this.message=this.message||this.name,this.symbols=i.symbols,this.styles=i.styles,this.required=new Set,this.cancelled=!1,this.submitted=!1}clone(){let i={...this};return i.status=this.status,i.buffer=Buffer.from(i.buffer),delete i.clone,i}set color(i){this._color=i}get color(){let i=this.prompt.styles;if(this.cancelled)return i.cancelled;if(this.submitted)return i.submitted;let r=this._color||i[this.status];return typeof r==="function"?r:i.pending}set loading(i){this._loading=i}get loading(){if(typeof this._loading==="boolean")return this._loading;if(this.loadingChoices)return"choices";return!1}get status(){if(this.cancelled)return"cancelled";if(this.submitted)return"submitted";return"pending"}}nl.exports=el});var ul=_((rC,dl)=>{var Vt=H(),T=_r(),Et={default:T.noop,noop:T.noop,set inverse(i){this._inverse=i},get inverse(){return this._inverse||Vt.inverse(this.primary)},set complement(i){this._complement=i},get complement(){return this._complement||Vt.complement(this.primary)},primary:T.cyan,success:T.green,danger:T.magenta,strong:T.bold,warning:T.yellow,muted:T.dim,disabled:T.gray,dark:T.dim.gray,underline:T.underline,set info(i){this._info=i},get info(){return this._info||this.primary},set em(i){this._em=i},get em(){return this._em||this.primary.underline},set heading(i){this._heading=i},get heading(){return this._heading||this.muted.underline},set pending(i){this._pending=i},get pending(){return this._pending||this.primary},set submitted(i){this._submitted=i},get submitted(){return this._submitted||this.success},set cancelled(i){this._cancelled=i},get cancelled(){return this._cancelled||this.danger},set typing(i){this._typing=i},get typing(){return this._typing||this.dim},set placeholder(i){this._placeholder=i},get placeholder(){return this._placeholder||this.primary.dim},set highlight(i){this._highlight=i},get highlight(){return this._highlight||this.inverse}};Et.merge=(i={})=>{if(i.styles&&typeof i.styles.enabled==="boolean")T.enabled=i.styles.enabled;if(i.styles&&typeof i.styles.visible==="boolean")T.visible=i.styles.visible;let r=Vt.merge({},Et,i.styles);delete r.merge;for(let t of Object.keys(T))if(!hasOwnProperty.call(r,t))Reflect.defineProperty(r,t,{get:()=>T[t]});for(let t of Object.keys(T.styles))if(!hasOwnProperty.call(r,t))Reflect.defineProperty(r,t,{get:()=>T[t]});return r};dl.exports=Et});var wl=_((tC,gl)=>{var Lt=process.platform==="win32",ui=_r(),dy=H(),Wt={...ui.symbols,upDownDoubleArrow:"\u21D5",upDownDoubleArrow2:"\u2B0D",upDownArrow:"\u2195",asterisk:"*",asterism:"\u2042",bulletWhite:"\u25E6",electricArrow:"\u2301",ellipsisLarge:"\u22EF",ellipsisSmall:"\u2026",fullBlock:"\u2588",identicalTo:"\u2261",indicator:ui.symbols.check,leftAngle:"\u2039",mark:"\u203B",minus:"\u2212",multiplication:"\xD7",obelus:"\xF7",percent:"%",pilcrow:"\xB6",pilcrow2:"\u2761",pencilUpRight:"\u2710",pencilDownRight:"\u270E",pencilRight:"\u270F",plus:"+",plusMinus:"\xB1",pointRight:"\u261E",rightAngle:"\u203A",section:"\xA7",hexagon:{off:"\u2B21",on:"\u2B22",disabled:"\u2B22"},ballot:{on:"\u2611",off:"\u2610",disabled:"\u2612"},stars:{on:"\u2605",off:"\u2606",disabled:"\u2606"},folder:{on:"\u25BC",off:"\u25B6",disabled:"\u25B6"},prefix:{pending:ui.symbols.question,submitted:ui.symbols.check,cancelled:ui.symbols.cross},separator:{pending:ui.symbols.pointerSmall,submitted:ui.symbols.middot,cancelled:ui.symbols.middot},radio:{off:Lt?"( )":"\u25EF",on:Lt?"(*)":"\u25C9",disabled:Lt?"(|)":"\u24BE"},numbers:["\u24EA","\u2460","\u2461","\u2462","\u2463","\u2464","\u2465","\u2466","\u2467","\u2468","\u2469","\u246A","\u246B","\u246C","\u246D","\u246E","\u246F","\u2470","\u2471","\u2472","\u2473","\u3251","\u3252","\u3253","\u3254","\u3255","\u3256","\u3257","\u3258","\u3259","\u325A","\u325B","\u325C","\u325D","\u325E","\u325F","\u32B1","\u32B2","\u32B3","\u32B4","\u32B5","\u32B6","\u32B7","\u32B8","\u32B9","\u32BA","\u32BB","\u32BC","\u32BD","\u32BE","\u32BF"]};Wt.merge=(i)=>{let r=dy.merge({},ui.symbols,Wt,i.symbols);return delete r.merge,r};gl.exports=Wt});var _l=_((sC,ml)=>{var uy=ul(),gy=wl(),wy=H();ml.exports=(i)=>{i.options=wy.merge({},i.options.theme,i.options),i.symbols=gy.merge(i.options),i.styles=uy.merge(i.options)}});var Cl=_((Sl,$l)=>{var yl=process.env.TERM_PROGRAM==="Apple_Terminal",my=mi(),zt=H(),hi=$l.exports=Sl,Dt=!1,_i=hi.code={bell:"\x07",beep:"\x07",beginning:"\x1B[G",down:"\x1B[J",esc:"\x1B[",getPosition:"\x1B[6n",hide:"\x1B[?25l",line:"\x1B[2K",lineEnd:"\x1B[K",lineStart:"\x1B[1K",restorePosition:"\x1B["+(yl?"8":"u"),savePosition:"\x1B["+(yl?"7":"s"),screen:"\x1B[2J",show:"\x1B[?25h",up:"\x1B[1J"},xi=hi.cursor={get hidden(){return Dt},hide(){return Dt=!0,_i.hide},show(){return Dt=!1,_i.show},forward:(i=1)=>`\x1B[${i}C`,backward:(i=1)=>`\x1B[${i}D`,nextLine:(i=1)=>"\x1B[E".repeat(i),prevLine:(i=1)=>"\x1B[F".repeat(i),up:(i=1)=>i?`\x1B[${i}A`:"",down:(i=1)=>i?`\x1B[${i}B`:"",right:(i=1)=>i?`\x1B[${i}C`:"",left:(i=1)=>i?`\x1B[${i}D`:"",to(i,r){return r?`\x1B[${r+1};${i+1}H`:`\x1B[${i+1}G`},move(i=0,r=0){let t="";return t+=i<0?xi.left(-i):i>0?xi.right(i):"",t+=r<0?xi.up(-r):r>0?xi.down(r):"",t},strLen(i){var r=0,t=i.length,s=-1;for(var h=0;h<t;h++)if(s=i.charCodeAt(h),s>=0&&s<=128)r+=1;else r+=2;return r},restore(i={}){let{after:r,cursor:t,initial:s,input:h,prompt:f,size:e,value:n}=i;if(s=zt.isPrimitive(s)?String(s):"",h=zt.isPrimitive(h)?String(h):"",n=zt.isPrimitive(n)?String(n):"",e){let l=hi.cursor.up(e)+hi.cursor.to(this.strLen(f)),d=h.length-t;if(d>0)l+=hi.cursor.left(d);return l}if(n||r){let l=!h&&!!s?-this.strLen(s):-this.strLen(h)+t;if(r)l-=this.strLen(r);if(h===""&&s&&!f.includes(s))l+=this.strLen(s);return hi.cursor.move(l)}}},Ot=hi.erase={screen:_i.screen,up:_i.up,down:_i.down,line:_i.line,lineEnd:_i.lineEnd,lineStart:_i.lineStart,lines(i){let r="";for(let t=0;t<i;t++)r+=hi.erase.line+(t<i-1?hi.cursor.up(1):"");if(i)r+=hi.code.beginning;return r}};hi.clear=(i="",r=process.stdout.columns)=>{if(!r)return Ot.line+xi.to(0);let t=(f)=>[...my(f)].length,s=i.split(/\r?\n/),h=0;for(let f of s)h+=1+Math.floor(Math.max(t(f)-1,0)/r);return(Ot.line+xi.prevLine()).repeat(h-1)+Ot.line+xi.to(0)}});var zi=_((hC,Fl)=>{var _y=J("events"),ql=mi(),Yt=Bt(),yy=fl(),Sy=ll(),$y=_l(),k=H(),Mi=Cl();class Pt extends _y{constructor(i={}){super();this.name=i.name,this.type=i.type,this.options=i,$y(this),yy(this),this.state=new Sy(this),this.initial=[i.initial,i.default].find((r)=>r!=null),this.stdout=i.stdout||process.stdout,this.stdin=i.stdin||process.stdin,this.scale=i.scale||1,this.term=this.options.term||process.env.TERM_PROGRAM,this.margin=qy(this.options.margin),this.setMaxListeners(0),Cy(this)}async keypress(i,r={}){this.keypressed=!0;let t=Yt.action(i,Yt(i,r),this.options.actions);this.state.keypress=t,this.emit("keypress",i,t),this.emit("state",this.state.clone());let s=this.options[t.action]||this[t.action]||this.dispatch;if(typeof s==="function")return await s.call(this,i,t);this.alert()}alert(){if(delete this.state.alert,this.options.show===!1)this.emit("alert");else this.stdout.write(Mi.code.beep)}cursorHide(){this.stdout.write(Mi.cursor.hide());let i=k.onExit(()=>this.cursorShow());this.on("close",()=>{this.cursorShow(),i()})}cursorShow(){this.stdout.write(Mi.cursor.show())}write(i){if(!i)return;if(this.stdout&&this.state.show!==!1)this.stdout.write(i);this.state.buffer+=i}clear(i=0){let r=this.state.buffer;if(this.state.buffer="",!r&&!i||this.options.show===!1)return;this.stdout.write(Mi.cursor.down(i)+Mi.clear(r,this.width))}restore(){if(this.state.closed||this.options.show===!1)return;let{prompt:i,after:r,rest:t}=this.sections(),{cursor:s,initial:h="",input:f="",value:e=""}=this,n=this.state.size=t.length,l={after:r,cursor:s,initial:h,input:f,prompt:i,size:n,value:e},d=Mi.cursor.restore(l);if(d)this.stdout.write(d)}sections(){let{buffer:i,input:r,prompt:t}=this.state;t=ql(t);let s=ql(i),h=s.indexOf(t),f=s.slice(0,h),n=s.slice(h).split(`
`),l=n[0],d=n[n.length-1],g=(t+(r?" "+r:"")).length,w=g<l.length?l.slice(g+1):"";return{header:f,prompt:l,after:w,rest:n.slice(1),last:d}}async submit(){if(this.state.submitted=!0,this.state.validating=!0,this.options.onSubmit)await this.options.onSubmit.call(this,this.name,this.value,this);let i=this.state.error||await this.validate(this.value,this.state);if(i!==!0){let r=`
`+this.symbols.pointer+" ";if(typeof i==="string")r+=i.trim();else r+="Invalid input";this.state.error=`
`+this.styles.danger(r),this.state.submitted=!1,await this.render(),await this.alert(),this.state.validating=!1,this.state.error=void 0;return}this.state.validating=!1,await this.render(),await this.close(),this.value=await this.result(this.value),this.emit("submit",this.value)}async cancel(i){if(this.state.cancelled=this.state.submitted=!0,await this.render(),await this.close(),typeof this.options.onCancel==="function")await this.options.onCancel.call(this,this.name,this.value,this);this.emit("cancel",await this.error(i))}async close(){this.state.closed=!0;try{let i=this.sections(),r=Math.ceil(i.prompt.length/this.width);if(i.rest)this.write(Mi.cursor.down(i.rest.length));this.write(`
`.repeat(r))}catch(i){}this.emit("close")}start(){if(!this.stop&&this.options.show!==!1)this.stop=Yt.listen(this,this.keypress.bind(this)),this.once("close",this.stop),this.emit("start",this)}async skip(){if(this.skipped=this.options.skip===!0,typeof this.options.skip==="function")this.skipped=await this.options.skip.call(this,this.name,this.value);return this.skipped}async initialize(){let{format:i,options:r,result:t}=this;if(this.format=()=>i.call(this,this.value),this.result=()=>t.call(this,this.value),typeof r.initial==="function")this.initial=await r.initial.call(this,this);if(typeof r.onRun==="function")await r.onRun.call(this,this);if(typeof r.onSubmit==="function"){let s=r.onSubmit.bind(this),h=this.submit.bind(this);delete this.options.onSubmit,this.submit=async()=>{return await s(this.name,this.value,this),h()}}await this.start(),await this.render()}render(){throw new Error("expected prompt to have a custom render method")}run(){return new Promise(async(i,r)=>{if(this.once("submit",i),this.once("cancel",r),await this.skip())return this.render=()=>{},this.submit();await this.initialize(),this.emit("run")})}async element(i,r,t){let{options:s,state:h,symbols:f,timers:e}=this,n=e&&e[i];h.timer=n;let l=s[i]||h[i]||f[i],d=r&&r[i]!=null?r[i]:await l;if(d==="")return d;let u=await this.resolve(d,h,r,t);if(!u&&r&&r[i])return this.resolve(l,h,r,t);return u}async prefix(){let i=await this.element("prefix")||this.symbols,r=this.timers&&this.timers.prefix,t=this.state;if(t.timer=r,k.isObject(i))i=i[t.status]||i.pending;if(!k.hasColor(i))return(this.styles[t.status]||this.styles.pending)(i);return i}async message(){let i=await this.element("message");if(!k.hasColor(i))return this.styles.strong(i);return i}async separator(){let i=await this.element("separator")||this.symbols,r=this.timers&&this.timers.separator,t=this.state;t.timer=r;let s=i[t.status]||i.pending||t.separator,h=await this.resolve(s,t);if(k.isObject(h))h=h[t.status]||h.pending;if(!k.hasColor(h))return this.styles.muted(h);return h}async pointer(i,r){let t=await this.element("pointer",i,r);if(typeof t==="string"&&k.hasColor(t))return t;if(t){let s=this.styles,h=this.index===r,f=h?s.primary:(l)=>l,e=await this.resolve(t[h?"on":"off"]||t,this.state),n=!k.hasColor(e)?f(e):e;return h?n:" ".repeat(e.length)}}async indicator(i,r){let t=await this.element("indicator",i,r);if(typeof t==="string"&&k.hasColor(t))return t;if(t){let s=this.styles,h=i.enabled===!0,f=h?s.success:s.dark,e=t[h?"on":"off"]||t;return!k.hasColor(e)?f(e):e}return""}body(){return null}footer(){if(this.state.status==="pending")return this.element("footer")}header(){if(this.state.status==="pending")return this.element("header")}async hint(){if(this.state.status==="pending"&&!this.isValue(this.state.input)){let i=await this.element("hint");if(!k.hasColor(i))return this.styles.muted(i);return i}}error(i){return!this.state.submitted?i||this.state.error:""}format(i){return i}result(i){return i}validate(i){if(this.options.required===!0)return this.isValue(i);return!0}isValue(i){return i!=null&&i!==""}resolve(i,...r){return k.resolve(this,i,...r)}get base(){return Pt.prototype}get style(){return this.styles[this.state.status]}get height(){return this.options.rows||k.height(this.stdout,25)}get width(){return this.options.columns||k.width(this.stdout,80)}get size(){return{width:this.width,height:this.height}}set cursor(i){this.state.cursor=i}get cursor(){return this.state.cursor}set input(i){this.state.input=i}get input(){return this.state.input}set value(i){this.state.value=i}get value(){let{input:i,value:r}=this.state,t=[r,i].find(this.isValue.bind(this));return this.isValue(t)?t:this.initial}static get prompt(){return(i)=>new this(i).run()}}function Cy(i){let r=(h)=>{return i[h]===void 0||typeof i[h]==="function"},t=["actions","choices","initial","margin","roles","styles","symbols","theme","timers","value"],s=["body","footer","error","header","hint","indicator","message","prefix","separator","skip"];for(let h of Object.keys(i.options)){if(t.includes(h))continue;if(/^on[A-Z]/.test(h))continue;let f=i.options[h];if(typeof f==="function"&&r(h)){if(!s.includes(h))i[h]=f.bind(i)}else if(typeof i[h]!=="function")i[h]=f}}function qy(i){if(typeof i==="number")i=[i,i,i,i];let r=[].concat(i||[]),t=(h)=>h%2===0?`
`:" ",s=[];for(let h=0;h<4;h++){let f=t(h);if(r[h])s.push(f.repeat(r[h]));else s.push("")}return s}Fl.exports=Pt});var jl=_((fC,Ml)=>{var Fy=H(),xl={default(i,r){return r},checkbox(i,r){throw new Error("checkbox role is not implemented yet")},editable(i,r){throw new Error("editable role is not implemented yet")},expandable(i,r){throw new Error("expandable role is not implemented yet")},heading(i,r){return r.disabled="",r.indicator=[r.indicator," "].find((t)=>t!=null),r.message=r.message||"",r},input(i,r){throw new Error("input role is not implemented yet")},option(i,r){return xl.default(i,r)},radio(i,r){throw new Error("radio role is not implemented yet")},separator(i,r){return r.disabled="",r.indicator=[r.indicator," "].find((t)=>t!=null),r.message=r.message||i.symbols.line.repeat(5),r},spacer(i,r){return r}};Ml.exports=(i,r={})=>{let t=Fy.merge({},xl,r.roles);return t[i]||t.default}});var Qi=_((eC,Ll)=>{var xy=mi(),My=zi(),jy=jl(),Cr=H(),{reorder:Zt,scrollUp:By,scrollDown:Vy,isObject:Bl,swap:Ey}=Cr;class El extends My{constructor(i){super(i);this.cursorHide(),this.maxSelected=i.maxSelected||1/0,this.multiple=i.multiple||!1,this.initial=i.initial||0,this.delay=i.delay||0,this.longest=0,this.num=""}async initialize(){if(typeof this.options.initial==="function")this.initial=await this.options.initial.call(this);await this.reset(!0),await super.initialize()}async reset(){let{choices:i,initial:r,autofocus:t,suggest:s}=this.options;if(this.state._choices=[],this.state.choices=[],this.choices=await Promise.all(await this.toChoices(i)),this.choices.forEach((h)=>h.enabled=!1),typeof s!=="function"&&this.selectable.length===0)throw new Error("At least one choice must be selectable");if(Bl(r))r=Object.keys(r);if(Array.isArray(r)){if(t!=null)this.index=this.findIndex(t);r.forEach((h)=>this.enable(this.find(h))),await this.render()}else{if(t!=null)r=t;if(typeof r==="string")r=this.findIndex(r);if(typeof r==="number"&&r>-1)this.index=Math.max(0,Math.min(r,this.choices.length)),this.enable(this.find(this.index))}if(this.isDisabled(this.focused))await this.down()}async toChoices(i,r){this.state.loadingChoices=!0;let t=[],s=0,h=async(f,e)=>{if(typeof f==="function")f=await f.call(this);if(f instanceof Promise)f=await f;for(let n=0;n<f.length;n++){let l=f[n]=await this.toChoice(f[n],s++,e);if(t.push(l),l.choices)await h(l.choices,l)}return t};return h(i,r).then((f)=>{return this.state.loadingChoices=!1,f})}async toChoice(i,r,t){if(typeof i==="function")i=await i.call(this,this);if(i instanceof Promise)i=await i;if(typeof i==="string")i={name:i};if(i.normalized)return i;i.normalized=!0;let s=i.value;if(i=jy(i.role,this.options)(this,i),typeof i.disabled==="string"&&!i.hint)i.hint=i.disabled,i.disabled=!0;if(i.disabled===!0&&i.hint==null)i.hint="(disabled)";if(i.index!=null)return i;if(i.name=i.name||i.key||i.title||i.value||i.message,i.message=i.message||i.name||"",i.value=[i.value,i.name].find(this.isValue.bind(this)),i.input="",i.index=r,i.cursor=0,Cr.define(i,"parent",t),i.level=t?t.level+1:1,i.indent==null)i.indent=t?t.indent+"  ":i.indent||"";if(i.path=t?t.path+"."+i.name:i.name,i.enabled=!!(this.multiple&&!this.isDisabled(i)&&(i.enabled||this.isSelected(i))),!this.isDisabled(i))this.longest=Math.max(this.longest,xy(i.message).length);let f={...i};if(i.reset=(e=f.input,n=f.value)=>{for(let l of Object.keys(f))i[l]=f[l];i.input=e,i.value=n},s==null&&typeof i.initial==="function")i.input=await i.initial.call(this,this.state,i,r);return i}async onChoice(i,r){if(this.emit("choice",i,r,this),typeof i.onChoice==="function")await i.onChoice.call(this,this.state,i,r)}async addChoice(i,r,t){let s=await this.toChoice(i,r,t);return this.choices.push(s),this.index=this.choices.length-1,this.limit=this.choices.length,s}async newItem(i,r,t){let s={name:"New choice name?",editable:!0,newChoice:!0,...i},h=await this.addChoice(s,r,t);return h.updateChoice=()=>{delete h.newChoice,h.name=h.message=h.input,h.input="",h.cursor=0},this.render()}indent(i){if(i.indent==null)return i.level>1?"  ".repeat(i.level-1):"";return i.indent}dispatch(i,r){if(this.multiple&&this[r.name])return this[r.name]();this.alert()}focus(i,r){if(typeof r!=="boolean")r=i.enabled;if(r&&!i.enabled&&this.selected.length>=this.maxSelected)return this.alert();return this.index=i.index,i.enabled=r&&!this.isDisabled(i),i}space(){if(!this.multiple)return this.alert();if(!this.focused)return;return this.toggle(this.focused),this.render()}a(){if(this.maxSelected<this.choices.length)return this.alert();let i=this.selectable.every((r)=>r.enabled);return this.choices.forEach((r)=>r.enabled=!i),this.render()}i(){if(this.choices.length-this.selected.length>this.maxSelected)return this.alert();return this.choices.forEach((i)=>i.enabled=!i.enabled),this.render()}g(){if(!this.choices.some((r)=>!!r.parent))return this.a();let i=this.focused;return this.toggle(i.parent&&!i.choices?i.parent:i),this.render()}toggle(i,r){if(!i.enabled&&this.selected.length>=this.maxSelected)return this.alert();if(typeof r!=="boolean")r=!i.enabled;if(i.enabled=r,i.choices)i.choices.forEach((s)=>this.toggle(s,r));let t=i.parent;while(t){let s=t.choices.filter((h)=>this.isDisabled(h));t.enabled=s.every((h)=>h.enabled===!0),t=t.parent}return Vl(this,this.choices),this.emit("toggle",i,this),i}enable(i){if(this.selected.length>=this.maxSelected)return this.alert();return i.enabled=!this.isDisabled(i),i.choices&&i.choices.forEach(this.enable.bind(this)),i}disable(i){return i.enabled=!1,i.choices&&i.choices.forEach(this.disable.bind(this)),i}number(i){this.num+=i;let r=(t)=>{let s=Number(t);if(s>this.choices.length-1)return this.alert();let h=this.focused,f=this.choices.find((e)=>s===e.index);if(!f.enabled&&this.selected.length>=this.maxSelected)return this.alert();if(this.visible.indexOf(f)===-1){let e=Zt(this.choices),n=e.indexOf(f);if(h.index>n){let l=e.slice(n,n+this.limit),d=e.filter((u)=>!l.includes(u));this.choices=l.concat(d)}else{let l=n-this.limit+1;this.choices=e.slice(l).concat(e.slice(0,l))}}return this.index=this.choices.indexOf(f),this.toggle(this.focused),this.render()};return clearTimeout(this.numberTimeout),new Promise((t)=>{let s=this.choices.length,h=this.num,f=(e=!1,n)=>{if(clearTimeout(this.numberTimeout),e)n=r(h);this.num="",t(n)};if(h==="0"||h.length===1&&Number(h+"0")>s)return f(!0);if(Number(h)>s)return f(!1,this.alert());this.numberTimeout=setTimeout(()=>f(!0),this.delay)})}home(){return this.choices=Zt(this.choices),this.index=0,this.render()}end(){let i=this.choices.length-this.limit,r=Zt(this.choices);return this.choices=r.slice(i).concat(r.slice(0,i)),this.index=this.limit-1,this.render()}first(){return this.index=0,this.render()}last(){return this.index=this.visible.length-1,this.render()}prev(){if(this.visible.length<=1)return this.alert();return this.up()}next(){if(this.visible.length<=1)return this.alert();return this.down()}right(){if(this.cursor>=this.input.length)return this.alert();return this.cursor++,this.render()}left(){if(this.cursor<=0)return this.alert();return this.cursor--,this.render()}up(){let i=this.choices.length,r=this.visible.length,t=this.index;if(this.options.scroll===!1&&t===0)return this.alert();if(i>r&&t===0)return this.scrollUp();if(this.index=(t-1%i+i)%i,this.isDisabled()&&!this.allChoicesAreDisabled())return this.up();return this.render()}down(){let i=this.choices.length,r=this.visible.length,t=this.index;if(this.options.scroll===!1&&t===r-1)return this.alert();if(i>r&&t===r-1)return this.scrollDown();if(this.index=(t+1)%i,this.isDisabled()&&!this.allChoicesAreDisabled())return this.down();return this.render()}scrollUp(i=0){if(this.choices=By(this.choices),this.index=i,this.isDisabled())return this.up();return this.render()}scrollDown(i=this.visible.length-1){if(this.choices=Vy(this.choices),this.index=i,this.isDisabled())return this.down();return this.render()}async shiftUp(){if(this.options.sort===!0){this.sorting=!0,this.swap(this.index-1),await this.up(),this.sorting=!1;return}return this.scrollUp(this.index)}async shiftDown(){if(this.options.sort===!0){this.sorting=!0,this.swap(this.index+1),await this.down(),this.sorting=!1;return}return this.scrollDown(this.index)}pageUp(){if(this.visible.length<=1)return this.alert();if(this.limit=Math.max(this.limit-1,0),this.index=Math.min(this.limit-1,this.index),this._limit=this.limit,this.isDisabled())return this.up();return this.render()}pageDown(){if(this.visible.length>=this.choices.length)return this.alert();if(this.index=Math.max(0,this.index),this.limit=Math.min(this.limit+1,this.choices.length),this._limit=this.limit,this.isDisabled())return this.down();return this.render()}swap(i){Ey(this.choices,this.index,i)}allChoicesAreDisabled(i=this.choices){return i.every((r)=>this.isDisabled(r))}isDisabled(i=this.focused){if(i&&["disabled","collapsed","hidden","completing","readonly"].some((t)=>i[t]===!0))return!0;return i&&i.role==="heading"}isEnabled(i=this.focused){if(Array.isArray(i))return i.every((r)=>this.isEnabled(r));if(i.choices){let r=i.choices.filter((t)=>!this.isDisabled(t));return i.enabled&&r.every((t)=>this.isEnabled(t))}return i.enabled&&!this.isDisabled(i)}isChoice(i,r){return i.name===r||i.index===Number(r)}isSelected(i){if(Array.isArray(this.initial))return this.initial.some((r)=>this.isChoice(i,r));return this.isChoice(i,this.initial)}map(i=[],r="value"){return[].concat(i||[]).reduce((t,s)=>{return t[s]=this.find(s,r),t},{})}filter(i,r){let s=typeof i==="function"?i:(e,n)=>[e.name,n].includes(i),f=(this.options.multiple?this.state._choices:this.choices).filter(s);if(r)return f.map((e)=>e[r]);return f}find(i,r){if(Bl(i))return r?i[r]:i;let s=typeof i==="function"?i:(f,e)=>[f.name,e].includes(i),h=this.choices.find(s);if(h)return r?h[r]:h}findIndex(i){return this.choices.indexOf(this.find(i))}async submit(){let i=this.focused;if(!i)return this.alert();if(i.newChoice){if(!i.input)return this.alert();return i.updateChoice(),this.render()}if(this.choices.some((f)=>f.newChoice))return this.alert();let{reorder:r,sort:t}=this.options,s=this.multiple===!0,h=this.selected;if(h===void 0)return this.alert();if(Array.isArray(h)&&r!==!1&&t!==!0)h=Cr.reorder(h);return this.value=s?h.map((f)=>f.name):h.name,super.submit()}set choices(i=[]){this.state._choices=this.state._choices||[],this.state.choices=i;for(let r of i)if(!this.state._choices.some((t)=>t.name===r.name))this.state._choices.push(r);if(!this._initial&&this.options.initial){this._initial=!0;let r=this.initial;if(typeof r==="string"||typeof r==="number"){let t=this.find(r);if(t)this.initial=t.index,this.focus(t,!0)}}}get choices(){return Vl(this,this.state.choices||[])}set visible(i){this.state.visible=i}get visible(){return(this.state.visible||this.choices).slice(0,this.limit)}set limit(i){this.state.limit=i}get limit(){let{state:i,options:r,choices:t}=this,s=i.limit||this._limit||r.limit||t.length;return Math.min(s,this.height)}set value(i){super.value=i}get value(){if(typeof super.value!=="string"&&super.value===this.initial)return this.input;return super.value}set index(i){this.state.index=i}get index(){return Math.max(0,this.state?this.state.index:0)}get enabled(){return this.filter(this.isEnabled.bind(this))}get focused(){let i=this.choices[this.index];if(i&&this.state.submitted&&this.multiple!==!0)i.enabled=!0;return i}get selectable(){return this.choices.filter((i)=>!this.isDisabled(i))}get selected(){return this.multiple?this.enabled:this.focused}}function Vl(i,r){if(r instanceof Promise)return r;if(typeof r==="function"){if(Cr.isAsyncFn(r))return r;r=r.call(i,i)}for(let t of r){if(Array.isArray(t.choices)){let s=t.choices.filter((h)=>!i.isDisabled(h));t.enabled=s.every((h)=>h.enabled===!0)}if(i.isDisabled(t)===!0)delete t.enabled}return r}Ll.exports=El});var yi=_((nC,zl)=>{var Ly=Qi(),Jt=H();class Wl extends Ly{constructor(i){super(i);this.emptyError=this.options.emptyError||"No items were selected"}async dispatch(i,r){if(this.multiple)return this[r.name]?await this[r.name](i,r):await super.dispatch(i,r);this.alert()}separator(){if(this.options.separator)return super.separator();let i=this.styles.muted(this.symbols.ellipsis);return this.state.submitted?super.separator():i}pointer(i,r){return!this.multiple||this.options.pointer?super.pointer(i,r):""}indicator(i,r){return this.multiple?super.indicator(i,r):""}choiceMessage(i,r){let t=this.resolve(i.message,this.state,i,r);if(i.role==="heading"&&!Jt.hasColor(t))t=this.styles.strong(t);return this.resolve(t,this.state,i,r)}choiceSeparator(){return":"}async renderChoice(i,r){await this.onChoice(i,r);let t=this.index===r,s=await this.pointer(i,r),h=await this.indicator(i,r)+(i.pad||""),f=await this.resolve(i.hint,this.state,i,r);if(f&&!Jt.hasColor(f))f=this.styles.muted(f);let e=this.indent(i),n=await this.choiceMessage(i,r),l=()=>[this.margin[3],e+s+h,n,this.margin[1],f].filter(Boolean).join(" ");if(i.role==="heading")return l();if(i.disabled){if(!Jt.hasColor(n))n=this.styles.disabled(n);return l()}if(t)n=this.styles.em(n);return l()}async renderChoices(){if(this.state.loading==="choices")return this.styles.warning("Loading choices");if(this.state.submitted)return"";let i=this.visible.map(async(h,f)=>await this.renderChoice(h,f)),r=await Promise.all(i);if(!r.length)r.push(this.styles.danger("No matching choices"));let t=this.margin[0]+r.join(`
`),s;if(this.options.choicesHeader)s=await this.resolve(this.options.choicesHeader,this.state);return[s,t].filter(Boolean).join(`
`)}format(){if(!this.state.submitted||this.state.cancelled)return"";if(Array.isArray(this.selected))return this.selected.map((i)=>this.styles.primary(i.name)).join(", ");return this.styles.primary(this.selected.name)}async render(){let{submitted:i,size:r}=this.state,t="",s=await this.header(),h=await this.prefix(),f=await this.separator(),e=await this.message();if(this.options.promptLine!==!1)t=[h,e,f,""].join(" "),this.state.prompt=t;let n=await this.format(),l=await this.error()||await this.hint(),d=await this.renderChoices(),u=await this.footer();if(n)t+=n;if(l&&!t.includes(l))t+=" "+l;if(i&&!n&&!d.trim()&&this.multiple&&this.emptyError!=null)t+=this.styles.danger(this.emptyError);this.clear(r),this.write([s,t,d,u].filter(Boolean).join(`
`)),this.write(this.margin[2]),this.restore()}}zl.exports=Wl});var Yl=_((lC,Ol)=>{var Wy=yi(),zy=(i,r)=>{let t=i?new RegExp(i,"ig"):/$^/;return(s)=>{return i?s.replace(t,(h)=>r(h)):s}};class Dl extends Wy{constructor(i){super(i);this.cursorShow()}moveCursor(i){this.state.cursor+=i}dispatch(i){return this.append(i)}space(i){return this.options.multiple?super.space(i):this.append(i)}append(i){let{cursor:r,input:t}=this.state;return this.input=t.slice(0,r)+i+t.slice(r),this.moveCursor(1),this.complete()}delete(){let{cursor:i,input:r}=this.state;if(!r)return this.alert();return this.input=r.slice(0,i-1)+r.slice(i),this.moveCursor(-1),this.complete()}deleteForward(){let{cursor:i,input:r}=this.state;if(r[i]===void 0)return this.alert();return this.input=`${r}`.slice(0,i)+`${r}`.slice(i+1),this.complete()}number(i){return this.append(i)}async complete(){this.completing=!0,this.choices=await this.suggest(this.input,this.state._choices),this.state.limit=void 0,this.index=Math.min(Math.max(this.visible.length-1,0),this.index),await this.render(),this.completing=!1}suggest(i=this.input,r=this.state._choices){if(typeof this.options.suggest==="function")return this.options.suggest.call(this,i,r);let t=i.toLowerCase();return r.filter((s)=>s.message.toLowerCase().includes(t))}pointer(){return""}format(){if(!this.focused)return this.input;if(this.options.multiple&&this.state.submitted)return this.selected.map((i)=>this.styles.primary(i.message)).join(", ");if(this.state.submitted){let i=this.value=this.input=this.focused.value;return this.styles.primary(i)}return this.input}async render(){if(this.state.status!=="pending")return super.render();let i=this.options.highlight||this.styles.complement,r=(h,f)=>{if(!h)return h;if(i.stack)return i(h);return i.call(this,h)},t=zy(this.input,r),s=this.choices;this.choices=s.map((h)=>({...h,message:t(h.message)})),await super.render(),this.choices=s}submit(){if(this.options.multiple)this.value=this.selected.map((i)=>i.name);return super.submit()}}Ol.exports=Dl});var Ut=_((dC,Pl)=>{var It=H();Pl.exports=(i,r={})=>{i.cursorHide();let{input:t="",initial:s="",pos:h,showCursor:f=!0,color:e}=r,n=e||i.styles.placeholder,l=It.inverse(i.styles.primary),d=(C)=>l(i.styles.black(C)),u=t,g=" ",w=d(g);if(i.blink&&i.blink.off===!0)d=(C)=>C,w="";if(f&&h===0&&s===""&&t==="")return d(g);if(f&&h===0&&(t===s||t===""))return d(s[0])+n(s.slice(1));s=It.isPrimitive(s)?`${s}`:"",t=It.isPrimitive(t)?`${t}`:"";let F=s&&s.startsWith(t)&&s!==t,m=F?d(s[t.length]):w;if(h!==t.length&&f===!0)u=t.slice(0,h)+d(t[h])+t.slice(h+1),m="";if(f===!1)m="";if(F){let C=i.styles.unstyle(u+m);return u+m+n(s.slice(C.length))}return u+m}});var qr=_((uC,Jl)=>{var Dy=mi(),Oy=yi(),Yy=Ut();class Zl extends Oy{constructor(i){super({...i,multiple:!0});this.type="form",this.initial=this.options.initial,this.align=[this.options.align,"right"].find((r)=>r!=null),this.emptyError="",this.values={}}async reset(i){if(await super.reset(),i===!0)this._index=this.index;return this.index=this._index,this.values={},this.choices.forEach((r)=>r.reset&&r.reset()),this.render()}dispatch(i){return!!i&&this.append(i)}append(i){let r=this.focused;if(!r)return this.alert();let{cursor:t,input:s}=r;return r.value=r.input=s.slice(0,t)+i+s.slice(t),r.cursor++,this.render()}delete(){let i=this.focused;if(!i||i.cursor<=0)return this.alert();let{cursor:r,input:t}=i;return i.value=i.input=t.slice(0,r-1)+t.slice(r),i.cursor--,this.render()}deleteForward(){let i=this.focused;if(!i)return this.alert();let{cursor:r,input:t}=i;if(t[r]===void 0)return this.alert();let s=`${t}`.slice(0,r)+`${t}`.slice(r+1);return i.value=i.input=s,this.render()}right(){let i=this.focused;if(!i)return this.alert();if(i.cursor>=i.input.length)return this.alert();return i.cursor++,this.render()}left(){let i=this.focused;if(!i)return this.alert();if(i.cursor<=0)return this.alert();return i.cursor--,this.render()}space(i,r){return this.dispatch(i,r)}number(i,r){return this.dispatch(i,r)}next(){let i=this.focused;if(!i)return this.alert();let{initial:r,input:t}=i;if(r&&r.startsWith(t)&&t!==r)return i.value=i.input=r,i.cursor=i.value.length,this.render();return super.next()}prev(){let i=this.focused;if(!i)return this.alert();if(i.cursor===0)return super.prev();return i.value=i.input="",i.cursor=0,this.render()}separator(){return""}format(i){return!this.state.submitted?super.format(i):""}pointer(){return""}indicator(i){return i.input?"\u29BF":"\u2299"}async choiceSeparator(i,r){let t=await this.resolve(i.separator,this.state,i,r)||":";return t?" "+this.styles.disabled(t):""}async renderChoice(i,r){await this.onChoice(i,r);let{state:t,styles:s}=this,{cursor:h,initial:f="",name:e,input:n=""}=i,{muted:l,submitted:d,primary:u,danger:g}=s,w=this.index===r,F=i.validate||(()=>!0),m=await this.choiceSeparator(i,r),C=i.message;if(this.align==="right")C=C.padStart(this.longest+1," ");if(this.align==="left")C=C.padEnd(this.longest+1," ");let L=this.values[e]=n||f,M=n?"success":"dark";if(await F.call(i,L,this.state)!==!0)M="danger";let E=s[M],B=E(await this.indicator(i,r))+(i.pad||""),Z=this.indent(i),O=()=>[Z,B,C+m,n].filter(Boolean).join(" ");if(t.submitted)return C=Dy(C),n=d(n),O();if(i.format)n=await i.format.call(this,n,i,r);else{let V=this.styles.muted;n=Yy(this,{input:n,initial:f,pos:h,showCursor:w,color:V})}if(!this.isValue(n))n=this.styles.muted(this.symbols.ellipsis);if(i.result)this.values[e]=await i.result.call(this,L,i,r);if(w)C=u(C);if(i.error)n+=(n?" ":"")+g(i.error.trim());else if(i.hint)n+=(n?" ":"")+l(i.hint.trim());return O()}async submit(){return this.value=this.values,super.base.submit.call(this)}}Jl.exports=Zl});var Qt=_((gC,Ul)=>{var Py=qr(),Zy=()=>{throw new Error("expected prompt to have a custom authenticate method")},Il=(i=Zy)=>{class r extends Py{constructor(t){super(t)}async submit(){this.value=await i.call(this,this.values,this.state),super.base.submit.call(this)}static create(t){return Il(t)}}return r};Ul.exports=Il()});var Xl=_((wC,Nl)=>{var Jy=Qt();function Iy(i,r){if(i.username===this.options.username&&i.password===this.options.password)return!0;return!1}var Ql=(i=Iy)=>{let r=[{name:"username",message:"username"},{name:"password",message:"password",format(s){if(this.options.showPassword)return s;return(this.state.submitted?this.styles.primary:this.styles.muted)(this.symbols.asterisk.repeat(s.length))}}];class t extends Jy.create(i){constructor(s){super({...s,choices:r})}static create(s){return Ql(s)}}return t};Nl.exports=Ql()});var Fr=_((mC,bl)=>{var Uy=zi(),{isPrimitive:Qy,hasColor:Ny}=H();class Kl extends Uy{constructor(i){super(i);this.cursorHide()}async initialize(){let i=await this.resolve(this.initial,this.state);this.input=await this.cast(i),await super.initialize()}dispatch(i){if(!this.isValue(i))return this.alert();return this.input=i,this.submit()}format(i){let{styles:r,state:t}=this;return!t.submitted?r.primary(i):r.success(i)}cast(i){return this.isTrue(i)}isTrue(i){return/^[ty1]/i.test(i)}isFalse(i){return/^[fn0]/i.test(i)}isValue(i){return Qy(i)&&(this.isTrue(i)||this.isFalse(i))}async hint(){if(this.state.status==="pending"){let i=await this.element("hint");if(!Ny(i))return this.styles.muted(i);return i}}async render(){let{input:i,size:r}=this.state,t=await this.prefix(),s=await this.separator(),h=await this.message(),f=this.styles.muted(this.default),e=[t,h,f,s].filter(Boolean).join(" ");this.state.prompt=e;let n=await this.header(),l=this.value=this.cast(i),d=await this.format(l),u=await this.error()||await this.hint(),g=await this.footer();if(u&&!e.includes(u))d+=" "+u;e+=" "+d,this.clear(r),this.write([n,e,g].filter(Boolean).join(`
`)),this.restore()}set value(i){super.value=i}get value(){return this.cast(super.value)}}bl.exports=Kl});var Tl=_((_C,Gl)=>{var Xy=Fr();class Al extends Xy{constructor(i){super(i);this.default=this.options.default||(this.initial?"(Y/n)":"(y/N)")}}Gl.exports=Al});var al=_((yC,Rl)=>{var Ky=yi(),by=qr(),Di=by.prototype;class Hl extends Ky{constructor(i){super({...i,multiple:!0});this.align=[this.options.align,"left"].find((r)=>r!=null),this.emptyError="",this.values={}}dispatch(i,r){let t=this.focused,s=t.parent||{};if(!t.editable&&!s.editable){if(i==="a"||i==="i")return super[i]()}return Di.dispatch.call(this,i,r)}append(i,r){return Di.append.call(this,i,r)}delete(i,r){return Di.delete.call(this,i,r)}space(i){return this.focused.editable?this.append(i):super.space()}number(i){return this.focused.editable?this.append(i):super.number(i)}next(){return this.focused.editable?Di.next.call(this):super.next()}prev(){return this.focused.editable?Di.prev.call(this):super.prev()}async indicator(i,r){let t=i.indicator||"",s=i.editable?t:super.indicator(i,r);return await this.resolve(s,this.state,i,r)||""}indent(i){return i.role==="heading"?"":i.editable?" ":"  "}async renderChoice(i,r){if(i.indent="",i.editable)return Di.renderChoice.call(this,i,r);return super.renderChoice(i,r)}error(){return""}footer(){return this.state.error}async validate(){let i=!0;for(let r of this.choices){if(typeof r.validate!=="function")continue;if(r.role==="heading")continue;let t=r.parent?this.value[r.parent.name]:this.value;if(r.editable)t=r.value===r.name?r.initial||"":r.value;else if(!this.isDisabled(r))t=r.enabled===!0;if(i=await r.validate(t,this.state),i!==!0)break}if(i!==!0)this.state.error=typeof i==="string"?i:"Invalid Input";return i}submit(){if(this.focused.newChoice===!0)return super.submit();if(this.choices.some((i)=>i.newChoice))return this.alert();this.value={};for(let i of this.choices){let r=i.parent?this.value[i.parent.name]:this.value;if(i.role==="heading"){this.value[i.name]={};continue}if(i.editable)r[i.name]=i.value===i.name?i.initial||"":i.value;else if(!this.isDisabled(i))r[i.name]=i.enabled===!0}return this.base.submit.call(this)}}Rl.exports=Hl});var ji=_((SC,kl)=>{var Ay=zi(),Gy=Bt(),Ty=Ut(),{isPrimitive:Hy}=H();class cl extends Ay{constructor(i){super(i);if(this.initial=Hy(this.initial)?String(this.initial):"",this.initial)this.cursorHide();this.state.prevCursor=0,this.state.clipboard=[],this.keypressTimeout=this.options.keypressTimeout!==void 0?this.options.keypressTimeout:null}async keypress(i,r=i?Gy(i,{}):{}){let t=Date.now(),s=t-this.lastKeypress;this.lastKeypress=t;let h=r.name==="return"||r.name==="enter",f=this.state.prevKeypress,e;if(this.state.prevKeypress=r,this.keypressTimeout!=null&&h){if(s<this.keypressTimeout)return this.submit();this.state.multilineBuffer=this.state.multilineBuffer||"",this.state.multilineBuffer+=i,e=!0,f=null}if(e||this.options.multiline&&h){if(!f||f.name!=="return")return this.append(`
`,r)}return super.keypress(i,r)}moveCursor(i){this.cursor+=i}reset(){return this.input=this.value="",this.cursor=0,this.render()}dispatch(i,r){if(!i||r.ctrl||r.code)return this.alert();this.append(i)}append(i){let{cursor:r,input:t}=this.state;this.input=`${t}`.slice(0,r)+i+`${t}`.slice(r),this.moveCursor(String(i).length),this.render()}insert(i){this.append(i)}delete(){let{cursor:i,input:r}=this.state;if(i<=0)return this.alert();this.input=`${r}`.slice(0,i-1)+`${r}`.slice(i),this.moveCursor(-1),this.render()}deleteForward(){let{cursor:i,input:r}=this.state;if(r[i]===void 0)return this.alert();this.input=`${r}`.slice(0,i)+`${r}`.slice(i+1),this.render()}cutForward(){let i=this.cursor;if(this.input.length<=i)return this.alert();this.state.clipboard.push(this.input.slice(i)),this.input=this.input.slice(0,i),this.render()}cutLeft(){let i=this.cursor;if(i===0)return this.alert();let r=this.input.slice(0,i),t=this.input.slice(i),s=r.split(" ");this.state.clipboard.push(s.pop()),this.input=s.join(" "),this.cursor=this.input.length,this.input+=t,this.render()}paste(){if(!this.state.clipboard.length)return this.alert();this.insert(this.state.clipboard.pop()),this.render()}toggleCursor(){if(this.state.prevCursor)this.cursor=this.state.prevCursor,this.state.prevCursor=0;else this.state.prevCursor=this.cursor,this.cursor=0;this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.input.length-1,this.render()}next(){let i=this.initial!=null?String(this.initial):"";if(!i||!i.startsWith(this.input))return this.alert();this.input=this.initial,this.cursor=this.initial.length,this.render()}prev(){if(!this.input)return this.alert();this.reset()}backward(){return this.left()}forward(){return this.right()}right(){if(this.cursor>=this.input.length)return this.alert();return this.moveCursor(1),this.render()}left(){if(this.cursor<=0)return this.alert();return this.moveCursor(-1),this.render()}isValue(i){return!!i}async format(i=this.value){let r=await this.resolve(this.initial,this.state);if(!this.state.submitted)return Ty(this,{input:i,initial:r,pos:this.cursor});return this.styles.submitted(i||r)}async render(){let i=this.state.size,r=await this.prefix(),t=await this.separator(),s=await this.message(),h=[r,s,t].filter(Boolean).join(" ");this.state.prompt=h;let f=await this.header(),e=await this.format(),n=await this.error()||await this.hint(),l=await this.footer();if(n&&!e.includes(n))e+=" "+n;h+=" "+e,this.clear(i),this.write([f,h,l].filter(Boolean).join(`
`)),this.restore()}}kl.exports=cl});var ol=_(($C,vl)=>{var Ry=(i)=>i.filter((r,t)=>i.lastIndexOf(r)===t),xr=(i)=>Ry(i).filter(Boolean);vl.exports=(i,r={},t="")=>{let{past:s=[],present:h=""}=r,f,e;switch(i){case"prev":case"undo":return f=s.slice(0,s.length-1),e=s[s.length-1]||"",{past:xr([t,...f]),present:e};case"next":case"redo":return f=s.slice(1),e=s[0]||"",{past:xr([...f,t]),present:e};case"save":return{past:xr([...s,t]),present:""};case"remove":if(e=xr(s.filter((n)=>n!==t)),h="",e.length)h=e.pop();return{past:e,present:h};default:throw new Error(`Invalid action: "${i}"`)}}});var Nt=_((CC,rd)=>{var ay=ji(),pl=ol();class id extends ay{constructor(i){super(i);let r=this.options.history;if(r&&r.store){let t=r.values||this.initial;this.autosave=!!r.autosave,this.store=r.store,this.data=this.store.get("values")||{past:[],present:t},this.initial=this.data.present||this.data.past[this.data.past.length-1]}}completion(i){if(!this.store)return this.alert();if(this.data=pl(i,this.data,this.input),!this.data.present)return this.alert();return this.input=this.data.present,this.cursor=this.input.length,this.render()}altUp(){return this.completion("prev")}altDown(){return this.completion("next")}prev(){return this.save(),super.prev()}save(){if(!this.store)return;this.data=pl("save",this.data,this.input),this.store.set("values",this.data)}submit(){if(this.store&&this.autosave===!0)this.save();return super.submit()}}rd.exports=id});var hd=_((qC,sd)=>{var cy=ji();class td extends cy{format(){return""}}sd.exports=td});var nd=_((FC,ed)=>{var ky=ji();class fd extends ky{constructor(i={}){super(i);this.sep=this.options.separator||/, */,this.initial=i.initial||""}split(i=this.value){return i?String(i).split(this.sep):[]}format(){let i=this.state.submitted?this.styles.primary:(r)=>r;return this.list.map(i).join(", ")}async submit(i){let r=this.state.error||await this.validate(this.list,this.state);if(r!==!0)return this.state.error=r,super.submit();return this.value=this.list,super.submit()}get list(){return this.split()}}ed.exports=fd});var ud=_((xC,dd)=>{var vy=yi();class ld extends vy{constructor(i){super({...i,multiple:!0})}}dd.exports=ld});var Xt=_((MC,wd)=>{var oy=ji();class gd extends oy{constructor(i={}){super({style:"number",...i});this.min=this.isValue(i.min)?this.toNumber(i.min):-1/0,this.max=this.isValue(i.max)?this.toNumber(i.max):1/0,this.delay=i.delay!=null?i.delay:1000,this.float=i.float!==!1,this.round=i.round===!0||i.float===!1,this.major=i.major||10,this.minor=i.minor||1,this.initial=i.initial!=null?i.initial:"",this.input=String(this.initial),this.cursor=this.input.length,this.cursorShow()}append(i){if(!/[-+.]/.test(i)||i==="."&&this.input.includes("."))return this.alert("invalid number");return super.append(i)}number(i){return super.append(i)}next(){if(this.input&&this.input!==this.initial)return this.alert();if(!this.isValue(this.initial))return this.alert();return this.input=this.initial,this.cursor=String(this.initial).length,this.render()}up(i){let r=i||this.minor,t=this.toNumber(this.input);if(t>this.max+r)return this.alert();return this.input=`${t+r}`,this.render()}down(i){let r=i||this.minor,t=this.toNumber(this.input);if(t<this.min-r)return this.alert();return this.input=`${t-r}`,this.render()}shiftDown(){return this.down(this.major)}shiftUp(){return this.up(this.major)}format(i=this.input){if(typeof this.options.format==="function")return this.options.format.call(this,i);return this.styles.info(i)}toNumber(i=""){return this.float?+i:Math.round(+i)}isValue(i){return/^[-+]?[0-9]+((\.)|(\.[0-9]+))?$/.test(i)}submit(){let i=[this.input,this.initial].find((r)=>this.isValue(r));return this.value=this.toNumber(i||0),super.submit()}}wd.exports=gd});var yd=_((jC,_d)=>{var py=ji();class md extends py{constructor(i){super(i);this.cursorShow()}format(i=this.input){if(!this.keypressed)return"";return(this.state.submitted?this.styles.primary:this.styles.muted)(this.symbols.asterisk.repeat(i.length))}}_d.exports=md});var qd=_((BC,Cd)=>{var iS=mi(),rS=Qi(),Sd=H();class $d extends rS{constructor(i={}){super(i);this.widths=[].concat(i.messageWidth||50),this.align=[].concat(i.align||"left"),this.linebreak=i.linebreak||!1,this.edgeLength=i.edgeLength||3,this.newline=i.newline||`
   `;let r=i.startNumber||1;if(typeof this.scale==="number")this.scaleKey=!1,this.scale=Array(this.scale).fill(0).map((t,s)=>({name:s+r}))}async reset(){return this.tableized=!1,await super.reset(),this.render()}tableize(){if(this.tableized===!0)return;this.tableized=!0;let i=0;for(let r of this.choices){i=Math.max(i,r.message.length),r.scaleIndex=r.initial||2,r.scale=[];for(let t=0;t<this.scale.length;t++)r.scale.push({index:t})}this.widths[0]=Math.min(this.widths[0],i+3)}async dispatch(i,r){if(this.multiple)return this[r.name]?await this[r.name](i,r):await super.dispatch(i,r);this.alert()}heading(i,r,t){return this.styles.strong(i)}separator(){return this.styles.muted(this.symbols.ellipsis)}right(){let i=this.focused;if(i.scaleIndex>=this.scale.length-1)return this.alert();return i.scaleIndex++,this.render()}left(){let i=this.focused;if(i.scaleIndex<=0)return this.alert();return i.scaleIndex--,this.render()}indent(){return""}format(){if(this.state.submitted)return this.choices.map((r)=>this.styles.info(r.index)).join(", ");return""}pointer(){return""}renderScaleKey(){if(this.scaleKey===!1)return"";if(this.state.submitted)return"";return["",...this.scale.map((t)=>`   ${t.name} - ${t.message}`)].map((t)=>this.styles.muted(t)).join(`
`)}renderScaleHeading(i){let r=this.scale.map((n)=>n.name);if(typeof this.options.renderScaleHeading==="function")r=this.options.renderScaleHeading.call(this,i);let t=this.scaleLength-r.join("").length,s=Math.round(t/(r.length-1)),f=r.map((n)=>this.styles.strong(n)).join(" ".repeat(s)),e=" ".repeat(this.widths[0]);return this.margin[3]+e+this.margin[1]+f}scaleIndicator(i,r,t){if(typeof this.options.scaleIndicator==="function")return this.options.scaleIndicator.call(this,i,r,t);let s=i.scaleIndex===r.index;if(r.disabled)return this.styles.hint(this.symbols.radio.disabled);if(s)return this.styles.success(this.symbols.radio.on);return this.symbols.radio.off}renderScale(i,r){let t=i.scale.map((h)=>this.scaleIndicator(i,h,r)),s=this.term==="Hyper"?"":" ";return t.join(s+this.symbols.line.repeat(this.edgeLength))}async renderChoice(i,r){await this.onChoice(i,r);let t=this.index===r,s=await this.pointer(i,r),h=await i.hint;if(h&&!Sd.hasColor(h))h=this.styles.muted(h);let f=(F)=>this.margin[3]+F.replace(/\s+$/,"").padEnd(this.widths[0]," "),e=this.newline,n=this.indent(i),l=await this.resolve(i.message,this.state,i,r),d=await this.renderScale(i,r),u=this.margin[1]+this.margin[3];this.scaleLength=iS(d).length,this.widths[0]=Math.min(this.widths[0],this.width-this.scaleLength-u.length);let w=Sd.wordWrap(l,{width:this.widths[0],newline:e}).split(`
`).map((F)=>f(F)+this.margin[1]);if(t)d=this.styles.info(d),w=w.map((F)=>this.styles.info(F));if(w[0]+=d,this.linebreak)w.push("");return[n+s,w.join(`
`)].filter(Boolean)}async renderChoices(){if(this.state.submitted)return"";this.tableize();let i=this.visible.map(async(s,h)=>await this.renderChoice(s,h)),r=await Promise.all(i),t=await this.renderScaleHeading();return this.margin[0]+[t,...r.map((s)=>s.join(" "))].join(`
`)}async render(){let{submitted:i,size:r}=this.state,t=await this.prefix(),s=await this.separator(),h=await this.message(),f="";if(this.options.promptLine!==!1)f=[t,h,s,""].join(" "),this.state.prompt=f;let e=await this.header(),n=await this.format(),l=await this.renderScaleKey(),d=await this.error()||await this.hint(),u=await this.renderChoices(),g=await this.footer(),w=this.emptyError;if(n)f+=n;if(d&&!f.includes(d))f+=" "+d;if(i&&!n&&!u.trim()&&this.multiple&&w!=null)f+=this.styles.danger(w);if(this.clear(r),this.write([e,f,l,u,g].filter(Boolean).join(`
`)),!this.state.submitted)this.write(this.margin[2]);this.restore()}submit(){this.value={};for(let i of this.choices)this.value[i.name]=i.scaleIndex;return this.base.submit.call(this)}}Cd.exports=$d});var jd=_((VC,Md)=>{var Fd=mi(),tS=(i="")=>{return typeof i==="string"?i.replace(/^['"]|['"]$/g,""):""};class xd{constructor(i){this.name=i.key,this.field=i.field||{},this.value=tS(i.initial||this.field.initial||""),this.message=i.message||this.name,this.cursor=0,this.input="",this.lines=[]}}var sS=async(i={},r={},t=(s)=>s)=>{let s=new Set,h=i.fields||[],f=i.template,e=[],n=[],l=[],d=1;if(typeof f==="function")f=await f();let u=-1,g=()=>f[++u],w=()=>f[u+1],F=(m)=>{m.line=d,e.push(m)};F({type:"bos",value:""});while(u<f.length-1){let m=g();if(/^[^\S\n ]$/.test(m)){F({type:"text",value:m});continue}if(m===`
`){F({type:"newline",value:m}),d++;continue}if(m==="\\"){m+=g(),F({type:"text",value:m});continue}if((m==="$"||m==="#"||m==="{")&&w()==="{"){let L=g();m+=L;let M={type:"template",open:m,inner:"",close:"",value:m},E;while(E=g()){if(E==="}"){if(w()==="}")E+=g();M.value+=E,M.close=E;break}if(E===":")M.initial="",M.key=M.inner;else if(M.initial!==void 0)M.initial+=E;M.value+=E,M.inner+=E}if(M.template=M.open+(M.initial||M.inner)+M.close,M.key=M.key||M.inner,hasOwnProperty.call(r,M.key))M.initial=r[M.key];M=t(M),F(M),l.push(M.key),s.add(M.key);let B=n.find((Z)=>Z.name===M.key);if(M.field=h.find((Z)=>Z.name===M.key),!B)B=new xd(M),n.push(B);B.lines.push(M.line-1);continue}let C=e[e.length-1];if(C.type==="text"&&C.line===d)C.value+=m;else F({type:"text",value:m})}return F({type:"eos",value:""}),{input:f,tabstops:e,unique:s,keys:l,items:n}};Md.exports=async(i)=>{let r=i.options,t=new Set(r.required===!0?[]:r.required||[]),s={...r.values,...r.initial},{tabstops:h,items:f,keys:e}=await sS(r,s),n=Kt("result",i,r),l=Kt("format",i,r),d=Kt("validate",i,r,!0),u=i.isValue.bind(i);return async(g={},w=!1)=>{let F=0;g.required=t,g.items=f,g.keys=e,g.output="";let m=async(E,B,Z,O)=>{let V=await d(E,B,Z,O);if(V===!1)return"Invalid field "+Z.name;return V};for(let E of h){let{value:B,key:Z}=E;if(E.type!=="template"){if(B)g.output+=B;continue}if(E.type==="template"){let O=f.find((I)=>I.name===Z);if(r.required===!0)g.required.add(O.name);let V=[O.input,g.values[O.value],O.value,B].find(u),x=(O.field||{}).message||E.inner;if(w){let I=await m(g.values[Z],g,O,F);if(I&&typeof I==="string"||I===!1){g.invalid.set(Z,I);continue}g.invalid.delete(Z);let $=await n(g.values[Z],g,O,F);g.output+=Fd($);continue}O.placeholder=!1;let Y=B;if(B=await l(B,g,O,F),V!==B)g.values[Z]=V,B=i.styles.typing(V),g.missing.delete(x);else if(g.values[Z]=void 0,V=`<${x}>`,B=i.styles.primary(V),O.placeholder=!0,g.required.has(Z))g.missing.add(x);if(g.missing.has(x)&&g.validating)B=i.styles.warning(V);if(g.invalid.has(Z)&&g.validating)B=i.styles.danger(V);if(F===g.index)if(Y!==B)B=i.styles.underline(B);else B=i.styles.heading(Fd(B));F++}if(B)g.output+=B}let C=g.output.split(`
`).map((E)=>" "+E),L=f.length,M=0;for(let E of f){if(g.invalid.has(E.name))E.lines.forEach((B)=>{if(C[B][0]!==" ")return;C[B]=g.styles.danger(g.symbols.bullet)+C[B].slice(1)});if(i.isValue(g.values[E.name]))M++}return g.completed=(M/L*100).toFixed(0),g.output=C.join(`
`),g.output}};function Kt(i,r,t,s){return(h,f,e,n)=>{if(typeof e.field[i]==="function")return e.field[i].call(r,h,f,e,n);return[s,h].find((l)=>r.isValue(l))}}});var Ed=_((EC,Vd)=>{var hS=mi(),fS=jd(),eS=zi();class Bd extends eS{constructor(i){super(i);this.cursorHide(),this.reset(!0)}async initialize(){this.interpolate=await fS(this),await super.initialize()}async reset(i){if(this.state.keys=[],this.state.invalid=new Map,this.state.missing=new Set,this.state.completed=0,this.state.values={},i!==!0)await this.initialize(),await this.render()}moveCursor(i){let r=this.getItem();this.cursor+=i,r.cursor+=i}dispatch(i,r){if(!r.code&&!r.ctrl&&i!=null&&this.getItem()){this.append(i,r);return}this.alert()}append(i,r){let t=this.getItem(),s=t.input.slice(0,this.cursor),h=t.input.slice(this.cursor);this.input=t.input=`${s}${i}${h}`,this.moveCursor(1),this.render()}delete(){let i=this.getItem();if(this.cursor<=0||!i.input)return this.alert();let r=i.input.slice(this.cursor),t=i.input.slice(0,this.cursor-1);this.input=i.input=`${t}${r}`,this.moveCursor(-1),this.render()}increment(i){return i>=this.state.keys.length-1?0:i+1}decrement(i){return i<=0?this.state.keys.length-1:i-1}first(){this.state.index=0,this.render()}last(){this.state.index=this.state.keys.length-1,this.render()}right(){if(this.cursor>=this.input.length)return this.alert();this.moveCursor(1),this.render()}left(){if(this.cursor<=0)return this.alert();this.moveCursor(-1),this.render()}prev(){this.state.index=this.decrement(this.state.index),this.getItem(),this.render()}next(){this.state.index=this.increment(this.state.index),this.getItem(),this.render()}up(){this.prev()}down(){this.next()}format(i){let r=this.state.completed<100?this.styles.warning:this.styles.success;if(this.state.submitted===!0&&this.state.completed!==100)r=this.styles.danger;return r(`${this.state.completed}% completed`)}async render(){let{index:i,keys:r=[],submitted:t,size:s}=this.state,h=[this.options.newline,`
`].find((M)=>M!=null),f=await this.prefix(),e=await this.separator(),n=await this.message(),l=[f,n,e].filter(Boolean).join(" ");this.state.prompt=l;let d=await this.header(),u=await this.error()||"",g=await this.hint()||"",w=t?"":await this.interpolate(this.state),F=this.state.key=r[i]||"",m=await this.format(F),C=await this.footer();if(m)l+=" "+m;if(g&&!m&&this.state.completed===0)l+=" "+g;this.clear(s);let L=[d,l,w,C,u.trim()];this.write(L.filter(Boolean).join(h)),this.restore()}getItem(i){let{items:r,keys:t,index:s}=this.state,h=r.find((f)=>f.name===t[s]);if(h&&h.input!=null)this.input=h.input,this.cursor=h.cursor;return h}async submit(){if(typeof this.interpolate!=="function")await this.initialize();await this.interpolate(this.state,!0);let{invalid:i,missing:r,output:t,values:s}=this.state;if(i.size){let e="";for(let[n,l]of i)e+=`Invalid ${n}: ${l}
`;return this.state.error=e,super.submit()}if(r.size)return this.state.error="Required: "+[...r.keys()].join(", "),super.submit();let f=hS(t).split(`
`).map((e)=>e.slice(1)).join(`
`);return this.value={values:s,result:f},super.submit()}}Vd.exports=Bd});var zd=_((LC,Wd)=>{var nS=yi();class Ld extends nS{constructor(i){super({...i,reorder:!1,sort:!0,multiple:!0});this.state.hint=[this.options.hint,"(Use <shift>+<up/down> to sort)"].find(this.isValue.bind(this))}indicator(){return""}async renderChoice(i,r){let t=await super.renderChoice(i,r),s=this.symbols.identicalTo+" ",h=this.index===r&&this.sorting?this.styles.muted(s):"  ";if(this.options.drag===!1)h="";if(this.options.numbered===!0)return h+`${r+1} - `+t;return h+t}get selected(){return this.choices}submit(){return this.value=this.choices.map((i)=>i.value),super.submit()}}Wd.exports=Ld});var Yd=_((WC,Od)=>{var lS=Qi();class Dd extends lS{constructor(i={}){super(i);if(this.emptyError=i.emptyError||"No items were selected",this.term=process.env.TERM_PROGRAM,!this.options.header){let r=["","4 - Strongly Agree","3 - Agree","2 - Neutral","1 - Disagree","0 - Strongly Disagree",""];r=r.map((t)=>this.styles.muted(t)),this.state.header=r.join(`
   `)}}async toChoices(...i){if(this.createdScales)return!1;this.createdScales=!0;let r=await super.toChoices(...i);for(let t of r)t.scale=dS(5,this.options),t.scaleIdx=2;return r}dispatch(){this.alert()}space(){let i=this.focused,r=i.scale[i.scaleIdx],t=r.selected;return i.scale.forEach((s)=>s.selected=!1),r.selected=!t,this.render()}indicator(){return""}pointer(){return""}separator(){return this.styles.muted(this.symbols.ellipsis)}right(){let i=this.focused;if(i.scaleIdx>=i.scale.length-1)return this.alert();return i.scaleIdx++,this.render()}left(){let i=this.focused;if(i.scaleIdx<=0)return this.alert();return i.scaleIdx--,this.render()}indent(){return"   "}async renderChoice(i,r){await this.onChoice(i,r);let t=this.index===r,s=this.term==="Hyper",h=!s?8:9,f=!s?" ":"",e=this.symbols.line.repeat(h),n=" ".repeat(h+(s?0:1)),l=(E)=>(E?this.styles.success("\u25C9"):"\u25EF")+f,d=r+1+".",u=t?this.styles.heading:this.styles.noop,g=await this.resolve(i.message,this.state,i,r),w=this.indent(i),F=w+i.scale.map((E,B)=>l(B===i.scaleIdx)).join(e),m=(E)=>E===i.scaleIdx?u(E):E,C=w+i.scale.map((E,B)=>m(B)).join(n),L=()=>[d,g].filter(Boolean).join(" "),M=()=>[L(),F,C," "].filter(Boolean).join(`
`);if(t)F=this.styles.cyan(F),C=this.styles.cyan(C);return M()}async renderChoices(){if(this.state.submitted)return"";let i=this.visible.map(async(t,s)=>await this.renderChoice(t,s)),r=await Promise.all(i);if(!r.length)r.push(this.styles.danger("No matching choices"));return r.join(`
`)}format(){if(this.state.submitted)return this.choices.map((r)=>this.styles.info(r.scaleIdx)).join(", ");return""}async render(){let{submitted:i,size:r}=this.state,t=await this.prefix(),s=await this.separator(),h=await this.message(),f=[t,h,s].filter(Boolean).join(" ");this.state.prompt=f;let e=await this.header(),n=await this.format(),l=await this.error()||await this.hint(),d=await this.renderChoices(),u=await this.footer();if(n||!l)f+=" "+n;if(l&&!f.includes(l))f+=" "+l;if(i&&!n&&!d&&this.multiple&&this.type!=="form")f+=this.styles.danger(this.emptyError);this.clear(r),this.write([f,e,d,u].filter(Boolean).join(`
`)),this.restore()}submit(){this.value={};for(let i of this.choices)this.value[i.name]=i.scaleIdx;return this.base.submit.call(this)}}function dS(i,r={}){if(Array.isArray(r.scale))return r.scale.map((s)=>({...s}));let t=[];for(let s=1;s<i+1;s++)t.push({i:s,selected:!1});return t}Od.exports=Dd});var Jd=_((zC,Zd)=>{var uS=Fr();class Pd extends uS{async initialize(){await super.initialize(),this.value=this.initial=this.resolve(this.options.initial),this.disabled=this.options.disabled||"no",this.enabled=this.options.enabled||"yes",await this.render()}reset(){this.value=this.initial,this.render()}delete(){this.alert()}toggle(){this.value=!this.value,this.render()}enable(){if(this.value===!0)return this.alert();this.value=!0,this.render()}disable(){if(this.value===!1)return this.alert();this.value=!1,this.render()}up(){this.toggle()}down(){this.toggle()}right(){this.toggle()}left(){this.toggle()}next(){this.toggle()}prev(){this.toggle()}dispatch(i="",r){switch(i.toLowerCase()){case" ":return this.toggle();case"1":case"y":case"t":return this.enable();case"0":case"n":case"f":return this.disable();default:return this.alert()}}format(){let i=(t)=>this.styles.primary.underline(t);return[this.value?this.disabled:i(this.disabled),this.value?i(this.enabled):this.enabled].join(this.styles.muted(" / "))}async render(){let{size:i}=this.state,r=await this.header(),t=await this.prefix(),s=await this.separator(),h=await this.message(),f=await this.format(),e=await this.error()||await this.hint(),n=await this.footer(),l=[t,h,s,f].join(" ");if(this.state.prompt=l,e&&!l.includes(e))l+=" "+e;this.clear(i),this.write([r,l,n].filter(Boolean).join(`
`)),this.write(this.margin[2]),this.restore()}}Zd.exports=Pd});var Qd=_((DC,Ud)=>{var gS=yi();class Id extends gS{constructor(i){super(i);if(typeof this.options.correctChoice!=="number"||this.options.correctChoice<0)throw new Error("Please specify the index of the correct answer from the list of choices")}async toChoices(i,r){let t=await super.toChoices(i,r);if(t.length<2)throw new Error("Please give at least two choices to the user");if(this.options.correctChoice>t.length)throw new Error("Please specify the index of the correct answer from the list of choices");return t}check(i){return i.index===this.options.correctChoice}async result(i){return{selectedAnswer:i,correctAnswer:this.options.choices[this.options.correctChoice].value,correct:await this.check(this.state)}}}Ud.exports=Id});var Xd=_((bt)=>{var Nd=H(),G=(i,r)=>{Nd.defineExport(bt,i,r),Nd.defineExport(bt,i.toLowerCase(),r)};G("AutoComplete",()=>Yl());G("BasicAuth",()=>Xl());G("Confirm",()=>Tl());G("Editable",()=>al());G("Form",()=>qr());G("Input",()=>Nt());G("Invisible",()=>hd());G("List",()=>nd());G("MultiSelect",()=>ud());G("Numeral",()=>Xt());G("Password",()=>yd());G("Scale",()=>qd());G("Select",()=>yi());G("Snippet",()=>Ed());G("Sort",()=>zd());G("Survey",()=>Yd());G("Text",()=>Nt());G("Toggle",()=>Jd());G("Quiz",()=>Qd())});var bd=_((YC,Kd)=>{Kd.exports={ArrayPrompt:Qi(),AuthPrompt:Qt(),BooleanPrompt:Fr(),NumberPrompt:Xt(),StringPrompt:ji()}});var Td=_((PC,Gd)=>{var Ad=J("assert"),Gt=J("events"),Si=H();class li extends Gt{constructor(i,r){super();this.options=Si.merge({},i),this.answers={...r}}register(i,r){if(Si.isObject(i)){for(let s of Object.keys(i))this.register(s,i[s]);return this}Ad.equal(typeof r,"function","expected a function");let t=i.toLowerCase();if(r.prototype instanceof this.Prompt)this.prompts[t]=r;else this.prompts[t]=r(this.Prompt,this);return this}async prompt(i=[]){for(let r of[].concat(i))try{if(typeof r==="function")r=await r.call(this);await this.ask(Si.merge({},this.options,r))}catch(t){return Promise.reject(t)}return this.answers}async ask(i){if(typeof i==="function")i=await i.call(this);let r=Si.merge({},this.options,i),{type:t,name:s}=i,{set:h,get:f}=Si;if(typeof t==="function")t=await t.call(this,i,this.answers);if(!t)return this.answers[s];if(t==="number")t="numeral";Ad(this.prompts[t],`Prompt "${t}" is not registered`);let e=new this.prompts[t](r),n=f(this.answers,s);if(e.state.answers=this.answers,e.enquirer=this,s)e.on("submit",(d)=>{this.emit("answer",s,d,e),h(this.answers,s,d)});let l=e.emit.bind(e);if(e.emit=(...d)=>{return this.emit.call(this,...d),l(...d)},this.emit("prompt",e,this),r.autofill&&n!=null){if(e.value=e.input=n,r.autofill==="show")await e.submit()}else n=e.value=await e.run();return n}use(i){return i.call(this,this),this}set Prompt(i){this._Prompt=i}get Prompt(){return this._Prompt||this.constructor.Prompt}get prompts(){return this.constructor.prompts}static set Prompt(i){this._Prompt=i}static get Prompt(){return this._Prompt||zi()}static get prompts(){return Xd()}static get types(){return bd()}static get prompt(){let i=(r,...t)=>{let s=new this(...t),h=s.emit.bind(s);return s.emit=(...f)=>{return i.emit(...f),h(...f)},s.prompt(r)};return Si.mixinEmitter(i,new Gt),i}}Si.mixinEmitter(li,new Gt);var At=li.prompts;for(let i of Object.keys(At)){let r=i.toLowerCase(),t=(s)=>new At[i](s).run();if(li.prompt[r]=t,li[r]=t,!li[i])Reflect.defineProperty(li,i,{get:()=>At[i]})}var Ni=(i)=>{Si.defineExport(li,i,()=>li.types[i])};Ni("ArrayPrompt");Ni("AuthPrompt");Ni("BooleanPrompt");Ni("NumberPrompt");Ni("StringPrompt");Gd.exports=li});import{resolve as _S}from"path";import{EventEmitter as eu}from"events";function Vr(i){return i==null?[]:Array.isArray(i)?i:[i]}function nu(i,r,t,s){var h,f=i[r],e=~s.string.indexOf(r)?t==null||t===!0?"":String(t):typeof t==="boolean"?t:~s.boolean.indexOf(r)?t==="false"?!1:t==="true"||(i._.push((h=+t,h*0===0)?h:t),!!t):(h=+t,h*0===0)?h:t;i[r]=f==null?e:Array.isArray(f)?f.concat(e):[f,e]}function lu(i,r){i=i||[],r=r||{};var t,s,h,f,e,n={_:[]},l=0,d=0,u=0,g=i.length;let w=r.alias!==void 0,F=r.unknown!==void 0,m=r.default!==void 0;if(r.alias=r.alias||{},r.string=Vr(r.string),r.boolean=Vr(r.boolean),w)for(t in r.alias){s=r.alias[t]=Vr(r.alias[t]);for(l=0;l<s.length;l++)(r.alias[s[l]]=s.concat(t)).splice(l,1)}for(l=r.boolean.length;l-- >0;){s=r.alias[r.boolean[l]]||[];for(d=s.length;d-- >0;)r.boolean.push(s[d])}for(l=r.string.length;l-- >0;){s=r.alias[r.string[l]]||[];for(d=s.length;d-- >0;)r.string.push(s[d])}if(m){for(t in r.default)if(f=typeof r.default[t],s=r.alias[t]=r.alias[t]||[],r[f]!==void 0){r[f].push(t);for(l=0;l<s.length;l++)r[f].push(s[l])}}let C=F?Object.keys(r.alias):[];for(l=0;l<g;l++){if(h=i[l],h==="--"){n._=n._.concat(i.slice(++l));break}for(d=0;d<h.length;d++)if(h.charCodeAt(d)!==45)break;if(d===0)n._.push(h);else if(h.substring(d,d+3)==="no-"){if(f=h.substring(d+3),F&&!~C.indexOf(f))return r.unknown(h);n[f]=!1}else{for(u=d+1;u<h.length;u++)if(h.charCodeAt(u)===61)break;f=h.substring(d,u),e=h.substring(++u)||(l+1===g||(""+i[l+1]).charCodeAt(0)===45||i[++l]),s=d===2?[f]:f;for(u=0;u<s.length;u++){if(f=s[u],F&&!~C.indexOf(f))return r.unknown("-".repeat(d)+f);nu(n,f,u+1<s.length||e,r)}}}if(m){for(t in r.default)if(n[t]===void 0)n[t]=r.default[t]}if(w)for(t in n){s=r.alias[t]||[];while(s.length>0)n[s.shift()]=n[t]}return n}var at=(i)=>i.replace(/[<[].+/,"").trim(),du=(i)=>{let r=/<([^>]+)>/g,t=/\[([^\]]+)\]/g,s=[],h=(n)=>{let l=!1,d=n[1];if(d.startsWith("..."))d=d.slice(3),l=!0;return{required:n[0].startsWith("<"),value:d,variadic:l}},f;while(f=r.exec(i))s.push(h(f));let e;while(e=t.exec(i))s.push(h(e));return s},uu=(i)=>{let r={alias:{},boolean:[]};for(let[t,s]of i.entries()){if(s.names.length>1)r.alias[s.names[0]]=s.names.slice(1);if(s.isBoolean)if(s.negated){if(!i.some((f,e)=>{return e!==t&&f.names.some((n)=>s.names.includes(n))&&typeof f.required==="boolean"}))r.boolean.push(s.names[0])}else r.boolean.push(s.names[0])}return r},Ht=(i)=>{return i.sort((r,t)=>{return r.length>t.length?-1:1})[0]},Rt=(i,r)=>{return i.length>=r?i:`${i}${" ".repeat(r-i.length)}`},gu=(i)=>{return i.replace(/([a-z])-([a-z])/g,(r,t,s)=>{return t+s.toUpperCase()})},wu=(i,r,t)=>{let s=0,h=r.length,f=i,e;for(;s<h;++s)e=f[r[s]],f=f[r[s]]=s===h-1?t:e!=null?e:!!~r[s+1].indexOf(".")||!(+r[s+1]>-1)?{}:[]},mu=(i,r)=>{for(let t of Object.keys(r)){let s=r[t];if(s.shouldTransform){if(i[t]=Array.prototype.concat.call([],i[t]),typeof s.transformFunction==="function")i[t]=i[t].map(s.transformFunction)}}},_u=(i)=>{let r=/([^\\\/]+)$/.exec(i);return r?r[1]:""},ct=(i)=>{return i.split(".").map((r,t)=>{return t===0?gu(r):r}).join(".")};class Hi extends Error{constructor(i){super(i);if(this.name=this.constructor.name,typeof Error.captureStackTrace==="function")Error.captureStackTrace(this,this.constructor);else this.stack=new Error(i).stack}}class kt{constructor(i,r,t){if(this.rawName=i,this.description=r,this.config=Object.assign({},t),i=i.replace(/\.\*/g,""),this.negated=!1,this.names=at(i).split(",").map((s)=>{let h=s.trim().replace(/^-{1,2}/,"");if(h.startsWith("no-"))this.negated=!0,h=h.replace(/^no-/,"");return ct(h)}).sort((s,h)=>s.length>h.length?1:-1),this.name=this.names[this.names.length-1],this.negated&&this.config.default==null)this.config.default=!0;if(i.includes("<"))this.required=!0;else if(i.includes("["))this.required=!1;else this.isBoolean=!0}}var yu=process.argv,Su=`${process.platform}-${process.arch} node-${process.version}`;class Er{constructor(i,r,t={},s){this.rawName=i,this.description=r,this.config=t,this.cli=s,this.options=[],this.aliasNames=[],this.name=at(i),this.args=du(i),this.examples=[]}usage(i){return this.usageText=i,this}allowUnknownOptions(){return this.config.allowUnknownOptions=!0,this}ignoreOptionDefaultValue(){return this.config.ignoreOptionDefaultValue=!0,this}version(i,r="-v, --version"){return this.versionNumber=i,this.option(r,"Display version number"),this}example(i){return this.examples.push(i),this}option(i,r,t){let s=new kt(i,r,t);return this.options.push(s),this}alias(i){return this.aliasNames.push(i),this}action(i){return this.commandAction=i,this}isMatched(i){return this.name===i||this.aliasNames.includes(i)}get isDefaultCommand(){return this.name===""||this.aliasNames.includes("!")}get isGlobalCommand(){return this instanceof Lr}hasOption(i){return i=i.split(".")[0],this.options.find((r)=>{return r.names.includes(i)})}outputHelp(){let{name:i,commands:r}=this.cli,{versionNumber:t,options:s,helpCallback:h}=this.cli.globalCommand,f=[{body:`${i}${t?`/${t}`:""}`}];if(f.push({title:"Usage",body:`  $ ${i} ${this.usageText||this.rawName}`}),(this.isGlobalCommand||this.isDefaultCommand)&&r.length>0){let l=Ht(r.map((d)=>d.rawName));f.push({title:"Commands",body:r.map((d)=>{return`  ${Rt(d.rawName,l.length)}  ${d.description}`}).join(`
`)}),f.push({title:"For more info, run any command with the `--help` flag",body:r.map((d)=>`  $ ${i}${d.name===""?"":` ${d.name}`} --help`).join(`
`)})}let n=this.isGlobalCommand?s:[...this.options,...s||[]];if(!this.isGlobalCommand&&!this.isDefaultCommand)n=n.filter((l)=>l.name!=="version");if(n.length>0){let l=Ht(n.map((d)=>d.rawName));f.push({title:"Options",body:n.map((d)=>{return`  ${Rt(d.rawName,l.length)}  ${d.description} ${d.config.default===void 0?"":`(default: ${d.config.default})`}`}).join(`
`)})}if(this.examples.length>0)f.push({title:"Examples",body:this.examples.map((l)=>{if(typeof l==="function")return l(i);return l}).join(`
`)});if(h)f=h(f)||f;console.log(f.map((l)=>{return l.title?`${l.title}:
${l.body}`:l.body}).join(`

`))}outputVersion(){let{name:i}=this.cli,{versionNumber:r}=this.cli.globalCommand;if(r)console.log(`${i}/${r} ${Su}`)}checkRequiredArgs(){let i=this.args.filter((r)=>r.required).length;if(this.cli.args.length<i)throw new Hi(`missing required args for command \`${this.rawName}\``)}checkUnknownOptions(){let{options:i,globalCommand:r}=this.cli;if(!this.config.allowUnknownOptions){for(let t of Object.keys(i))if(t!=="--"&&!this.hasOption(t)&&!r.hasOption(t))throw new Hi(`Unknown option \`${t.length>1?`--${t}`:`-${t}`}\``)}}checkOptionValue(){let{options:i,globalCommand:r}=this.cli,t=[...r.options,...this.options];for(let s of t){let h=i[s.name.split(".")[0]];if(s.required){let f=t.some((e)=>e.negated&&e.names.includes(s.name));if(h===!0||h===!1&&!f)throw new Hi(`option \`${s.rawName}\` value is missing`)}}}}class Lr extends Er{constructor(i){super("@@global@@","",{},i)}}var Ti=Object.assign;class vt extends eu{constructor(i=""){super();this.name=i,this.commands=[],this.rawArgs=[],this.args=[],this.options={},this.globalCommand=new Lr(this),this.globalCommand.usage("<command> [options]")}usage(i){return this.globalCommand.usage(i),this}command(i,r,t){let s=new Er(i,r||"",t,this);return s.globalCommand=this.globalCommand,this.commands.push(s),s}option(i,r,t){return this.globalCommand.option(i,r,t),this}help(i){return this.globalCommand.option("-h, --help","Display this message"),this.globalCommand.helpCallback=i,this.showHelpOnExit=!0,this}version(i,r="-v, --version"){return this.globalCommand.version(i,r),this.showVersionOnExit=!0,this}example(i){return this.globalCommand.example(i),this}outputHelp(){if(this.matchedCommand)this.matchedCommand.outputHelp();else this.globalCommand.outputHelp()}outputVersion(){this.globalCommand.outputVersion()}setParsedInfo({args:i,options:r},t,s){if(this.args=i,this.options=r,t)this.matchedCommand=t;if(s)this.matchedCommandName=s;return this}unsetMatchedCommand(){this.matchedCommand=void 0,this.matchedCommandName=void 0}parse(i=yu,{run:r=!0}={}){if(this.rawArgs=i,!this.name)this.name=i[1]?_u(i[1]):"cli";let t=!0;for(let h of this.commands){let f=this.mri(i.slice(2),h),e=f.args[0];if(h.isMatched(e)){t=!1;let n=Ti(Ti({},f),{args:f.args.slice(1)});this.setParsedInfo(n,h,e),this.emit(`command:${e}`,h)}}if(t){for(let h of this.commands)if(h.name===""){t=!1;let f=this.mri(i.slice(2),h);this.setParsedInfo(f,h),this.emit("command:!",h)}}if(t){let h=this.mri(i.slice(2));this.setParsedInfo(h)}if(this.options.help&&this.showHelpOnExit)this.outputHelp(),r=!1,this.unsetMatchedCommand();if(this.options.version&&this.showVersionOnExit&&this.matchedCommandName==null)this.outputVersion(),r=!1,this.unsetMatchedCommand();let s={args:this.args,options:this.options};if(r)this.runMatchedCommand();if(!this.matchedCommand&&this.args[0])this.emit("command:*");return s}mri(i,r){let t=[...this.globalCommand.options,...r?r.options:[]],s=uu(t),h=[],f=i.indexOf("--");if(f>-1)h=i.slice(f+1),i=i.slice(0,f);let e=lu(i,s);e=Object.keys(e).reduce((g,w)=>{return Ti(Ti({},g),{[ct(w)]:e[w]})},{_:[]});let n=e._,l={"--":h},d=r&&r.config.ignoreOptionDefaultValue?r.config.ignoreOptionDefaultValue:this.globalCommand.config.ignoreOptionDefaultValue,u=Object.create(null);for(let g of t){if(!d&&g.config.default!==void 0)for(let w of g.names)l[w]=g.config.default;if(Array.isArray(g.config.type)){if(u[g.name]===void 0)u[g.name]=Object.create(null),u[g.name].shouldTransform=!0,u[g.name].transformFunction=g.config.type[0]}}for(let g of Object.keys(e))if(g!=="_"){let w=g.split(".");wu(l,w,e[g]),mu(l,u)}return{args:n,options:l}}runMatchedCommand(){let{args:i,options:r,matchedCommand:t}=this;if(!t||!t.commandAction)return;t.checkUnknownOptions(),t.checkOptionValue(),t.checkRequiredArgs();let s=[];return t.args.forEach((h,f)=>{if(h.variadic)s.push(i.slice(f));else s.push(i[f])}),s.push(r),t.commandAction.apply(this,s)}}var ot=(i="")=>new vt(i);var pd=Gi(zr(),1);var Bi=Gi(zr(),1);import{writeFile as Fu}from"fs/promises";import{join as xu}from"path";function Mu(){let i=["happy","quick","bright","calm","brave","clever","kind","wise","proud","cool"],r=["dogs","cats","trees","stars","waves","birds","lions","bears","clouds","rocks"],t=["run","jump","fly","swim","dance","sing","play","grow","shine","bloom"],s=i[Math.floor(Math.random()*i.length)],h=r[Math.floor(Math.random()*r.length)],f=t[Math.floor(Math.random()*t.length)];return`${s}-${h}-${f}`}function ju(i){return`---
${i.packages.map((t)=>`"${t}": ${i.versionType}`).join(`
`)}
---

${i.category}: ${i.summary}
`}async function rs(i,r){let t=`${Mu()}.md`,s=xu(i,".changeset",t),h=ju(r);return await Fu(s,h,"utf-8"),s}var{$:Dr}=globalThis.Bun;async function ts(){return(await Dr`git status --porcelain`.text()).trim().split(`
`).filter(Boolean).map((t)=>t.slice(3))}async function ss(i,r){await Dr`git add ${i}`,await Dr`git commit -m ${r}`}var Jn=Gi(Zn(),1);import{readFile as _0}from"fs/promises";import{join as y0}from"path";async function In(i){let r=await Jn.glob("**/package.json",{cwd:i,ignore:["**/node_modules/**","**/dist/**","**/bin/**"]}),t=[];for(let s of r){let h=y0(i,s),f=await _0(h,"utf-8"),e=JSON.parse(f);if(e.name&&e.name.startsWith("@portfolio/"))t.push({name:e.name,path:s.replace("/package.json","")})}return t}function Un(i,r){let t=new Set;for(let s of i)for(let h of r)if(s.startsWith(h.path))t.add(h.name);return Array.from(t).sort()}var Hd=Gi(Td(),1),{Select:Mr,MultiSelect:wS,Input:mS}=Hd.default;async function Rd(i,r){if(r.length===0)console.log(`
\u5909\u66F4\u3055\u308C\u305F\u30D5\u30A1\u30A4\u30EB\u304C\u691C\u51FA\u3055\u308C\u307E\u305B\u3093\u3067\u3057\u305F\u3002`),console.log(`\u3059\u3079\u3066\u306E\u30D1\u30C3\u30B1\u30FC\u30B8\u304B\u3089\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044\u3002
`);else{console.log(`
\u4EE5\u4E0B\u306E\u30D1\u30C3\u30B1\u30FC\u30B8\u306B\u5909\u66F4\u304C\u691C\u51FA\u3055\u308C\u307E\u3057\u305F:`);for(let s of r)console.log(`  - ${s}`);console.log("")}return await new wS({name:"packages",message:"changeset\u306B\u542B\u3081\u308B\u30D1\u30C3\u30B1\u30FC\u30B8\u3092\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044\uFF08\u30B9\u30DA\u30FC\u30B9\u3067\u9078\u629E\u3001Enter\u3067\u78BA\u5B9A\uFF09",choices:i,initial:r}).run()}async function ad(){return await new Mr({name:"versionType",message:"\u30D0\u30FC\u30B8\u30E7\u30F3\u30A2\u30C3\u30D7\u306E\u7A2E\u985E\u3092\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044",choices:[{name:"patch",message:"patch - \u30D0\u30B0\u4FEE\u6B63\u3001\u30C9\u30AD\u30E5\u30E1\u30F3\u30C8\u66F4\u65B0"},{name:"minor",message:"minor - \u65B0\u6A5F\u80FD\u8FFD\u52A0\uFF08\u5F8C\u65B9\u4E92\u63DB\u6027\u3042\u308A\uFF09"},{name:"major",message:"major - \u7834\u58CA\u7684\u5909\u66F4"}]}).run()}async function cd(){return await new Mr({name:"category",message:"\u5909\u66F4\u306E\u30AB\u30C6\u30B4\u30EA\u3092\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044",choices:[{name:"feat",message:"feat - \u65B0\u6A5F\u80FD\u306E\u8FFD\u52A0"},{name:"fix",message:"fix - \u30D0\u30B0\u306E\u4FEE\u6B63"},{name:"docs",message:"docs - \u30C9\u30AD\u30E5\u30E1\u30F3\u30C8\u306E\u307F\u306E\u5909\u66F4"},{name:"style",message:"style - \u30B3\u30FC\u30C9\u306E\u52D5\u4F5C\u306B\u5F71\u97FF\u3057\u306A\u3044\u5909\u66F4"},{name:"refactor",message:"refactor - \u30B3\u30FC\u30C9\u306E\u30EA\u30D5\u30A1\u30AF\u30BF\u30EA\u30F3\u30B0"},{name:"perf",message:"perf - \u30D1\u30D5\u30A9\u30FC\u30DE\u30F3\u30B9\u6539\u5584"},{name:"test",message:"test - \u30C6\u30B9\u30C8\u306E\u8FFD\u52A0\u3084\u4FEE\u6B63"},{name:"build",message:"build - \u30D3\u30EB\u30C9\u30B7\u30B9\u30C6\u30E0\u306E\u5909\u66F4"},{name:"ci",message:"ci - CI\u8A2D\u5B9A\u306E\u5909\u66F4"},{name:"chore",message:"chore - \u305D\u306E\u4ED6\u306E\u5909\u66F4"},{name:"revert",message:"revert - \u4EE5\u524D\u306E\u30B3\u30DF\u30C3\u30C8\u306E\u53D6\u308A\u6D88\u3057"},{name:"improvement",message:"improvement - \u65E2\u5B58\u6A5F\u80FD\u306E\u6539\u5584"},{name:"security",message:"security - \u30BB\u30AD\u30E5\u30EA\u30C6\u30A3\u95A2\u9023\u306E\u4FEE\u6B63"}]}).run()}async function kd(){let t=await new Mr({name:"template",message:"\u5909\u66F4\u5185\u5BB9\u306E\u30B5\u30DE\u30EA\u30FC\u3092\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044",choices:["\u65B0\u6A5F\u80FD\u3092\u8FFD\u52A0","\u30D0\u30B0\u3092\u4FEE\u6B63","\u30C9\u30AD\u30E5\u30E1\u30F3\u30C8\u3092\u66F4\u65B0","\u30D1\u30D5\u30A9\u30FC\u30DE\u30F3\u30B9\u3092\u6539\u5584","\u4F9D\u5B58\u95A2\u4FC2\u3092\u66F4\u65B0","\u30EA\u30D5\u30A1\u30AF\u30BF\u30EA\u30F3\u30B0\u3092\u5B9F\u65BD","\u30BB\u30AD\u30E5\u30EA\u30C6\u30A3\u3092\u5F37\u5316","\u30C6\u30B9\u30C8\u3092\u8FFD\u52A0","\u30D3\u30EB\u30C9\u8A2D\u5B9A\u3092\u5909\u66F4","CI\u8A2D\u5B9A\u3092\u66F4\u65B0","\u30AB\u30B9\u30BF\u30E0\u5165\u529B..."]}).run();if(t==="\u30AB\u30B9\u30BF\u30E0\u5165\u529B...")return await new mS({name:"summary",message:"\u5909\u66F4\u5185\u5BB9\u306E\u30B5\u30DE\u30EA\u30FC\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044"}).run();return t}async function vd(i,r,t,s){return console.log(`
=== Changeset \u78BA\u8A8D ===`),console.log(`\u30D1\u30C3\u30B1\u30FC\u30B8: ${i.join(", ")}`),console.log(`\u30D0\u30FC\u30B8\u30E7\u30F3: ${r}`),console.log(`\u30AB\u30C6\u30B4\u30EA: ${t}`),console.log(`\u30B5\u30DE\u30EA\u30FC: ${s}`),console.log(`==================
`),await new Mr({name:"confirm",message:"\u3053\u306E\u5185\u5BB9\u3067changeset\u3092\u4F5C\u6210\u3057\u307E\u3059\u304B\uFF1F",choices:["\u306F\u3044","\u3044\u3044\u3048"]}).run()==="\u306F\u3044"}async function od(i){console.log(Bi.default.cyan(`
\uD83D\uDCDD Changeset \u4F5C\u6210\u30C4\u30FC\u30EB
`));try{let r=await ts(),t=await In(i),s=t.map((F)=>F.name),h=Un(r,t),f=await Rd(s,h);if(f.length===0)console.log(Bi.default.red(`
\u274C \u30D1\u30C3\u30B1\u30FC\u30B8\u304C\u9078\u629E\u3055\u308C\u3066\u3044\u307E\u305B\u3093\u3002`)),process.exit(1);let e=await ad(),n=await cd(),l=await kd();if(!await vd(f,e,n,l))console.log(Bi.default.yellow(`
\u26A0\uFE0F  \u30AD\u30E3\u30F3\u30BB\u30EB\u3055\u308C\u307E\u3057\u305F\u3002`)),process.exit(0);let g=await rs(i,{packages:f,versionType:e,category:n,summary:l});console.log(Bi.default.green(`
\u2705 Changeset\u30D5\u30A1\u30A4\u30EB\u3092\u4F5C\u6210\u3057\u307E\u3057\u305F: ${g}`));let w=`changeset: ${l}`;await ss(g,w),console.log(Bi.default.green(`\u2705 \u30B3\u30DF\u30C3\u30C8\u3057\u307E\u3057\u305F: ${w}
`))}catch(r){if(r instanceof Error)console.error(Bi.default.red(`
\u274C \u30A8\u30E9\u30FC: ${r.message}
`));process.exit(1)}}var jr=ot("changeset-jp");jr.command("[root]","changeset\u3092\u4F5C\u6210\u3057\u307E\u3059\uFF08\u65E5\u672C\u8A9E\u7248\uFF09").option("--root <dir>","\u30EA\u30DD\u30B8\u30C8\u30EA\u306E\u30EB\u30FC\u30C8\u30C7\u30A3\u30EC\u30AF\u30C8\u30EA",{default:process.cwd()}).action(async(i,r)=>{let t=_S(r.root||i||process.cwd());await od(t)});jr.help();jr.version("1.0.0");try{jr.parse()}catch(i){if(i instanceof Error)console.error(pd.default.red(`\u30A8\u30E9\u30FC: ${i.message}`));process.exit(1)}
