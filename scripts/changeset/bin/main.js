#!/usr/bin/env bun
// @bun
var en=Object.create;var{getPrototypeOf:ln,defineProperty:Rt,getOwnPropertyNames:un}=Object;var dn=Object.prototype.hasOwnProperty;var Oi=(i,r,t)=>{t=i!=null?en(ln(i)):{};let s=r||!i||!i.__esModule?Rt(t,"default",{value:i,enumerable:!0}):t;for(let h of un(i))if(!dn.call(s,h))Rt(s,h,{get:()=>i[h],enumerable:!0});return s};var m=(i,r)=>()=>(r||i((r={exports:{}}).exports,r),r.exports);var I=import.meta.require;var zr=m((VS,Wr)=>{var ci=process||{},rs=ci.argv||[],Ri=ci.env||{},Fn=!(!!Ri.NO_COLOR||rs.includes("--no-color"))&&(!!Ri.FORCE_COLOR||rs.includes("--color")||ci.platform==="win32"||(ci.stdout||{}).isTTY&&Ri.TERM!=="dumb"||!!Ri.CI),Mn=(i,r,t=i)=>(s)=>{let h=""+s,f=h.indexOf(r,i.length);return~f?i+Bn(h,r,t,f)+r:i+h+r},Bn=(i,r,t,s)=>{let h="",f=0;do h+=i.substring(f,s)+t,f=s+r.length,s=i.indexOf(r,f);while(~s);return h+i.substring(f)},ts=(i=Fn)=>{let r=i?Mn:()=>String;return{isColorSupported:i,reset:r("\x1B[0m","\x1B[0m"),bold:r("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"),dim:r("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"),italic:r("\x1B[3m","\x1B[23m"),underline:r("\x1B[4m","\x1B[24m"),inverse:r("\x1B[7m","\x1B[27m"),hidden:r("\x1B[8m","\x1B[28m"),strikethrough:r("\x1B[9m","\x1B[29m"),black:r("\x1B[30m","\x1B[39m"),red:r("\x1B[31m","\x1B[39m"),green:r("\x1B[32m","\x1B[39m"),yellow:r("\x1B[33m","\x1B[39m"),blue:r("\x1B[34m","\x1B[39m"),magenta:r("\x1B[35m","\x1B[39m"),cyan:r("\x1B[36m","\x1B[39m"),white:r("\x1B[37m","\x1B[39m"),gray:r("\x1B[90m","\x1B[39m"),bgBlack:r("\x1B[40m","\x1B[49m"),bgRed:r("\x1B[41m","\x1B[49m"),bgGreen:r("\x1B[42m","\x1B[49m"),bgYellow:r("\x1B[43m","\x1B[49m"),bgBlue:r("\x1B[44m","\x1B[49m"),bgMagenta:r("\x1B[45m","\x1B[49m"),bgCyan:r("\x1B[46m","\x1B[49m"),bgWhite:r("\x1B[47m","\x1B[49m"),blackBright:r("\x1B[90m","\x1B[39m"),redBright:r("\x1B[91m","\x1B[39m"),greenBright:r("\x1B[92m","\x1B[39m"),yellowBright:r("\x1B[93m","\x1B[39m"),blueBright:r("\x1B[94m","\x1B[39m"),magentaBright:r("\x1B[95m","\x1B[39m"),cyanBright:r("\x1B[96m","\x1B[39m"),whiteBright:r("\x1B[97m","\x1B[39m"),bgBlackBright:r("\x1B[100m","\x1B[49m"),bgRedBright:r("\x1B[101m","\x1B[49m"),bgGreenBright:r("\x1B[102m","\x1B[49m"),bgYellowBright:r("\x1B[103m","\x1B[49m"),bgBlueBright:r("\x1B[104m","\x1B[49m"),bgMagentaBright:r("\x1B[105m","\x1B[49m"),bgCyanBright:r("\x1B[106m","\x1B[49m"),bgWhiteBright:r("\x1B[107m","\x1B[49m")}};Wr.exports=ts();Wr.exports.createColors=ts});var es=m((hs)=>{Object.defineProperty(hs,"__esModule",{value:!0});hs.splitWhen=hs.flatten=void 0;function Wn(i){return i.reduce((r,t)=>[].concat(r,t),[])}hs.flatten=Wn;function zn(i,r){let t=[[]],s=0;for(let h of i)if(r(h))s++,t[s]=[];else t[s].push(h);return t}hs.splitWhen=zn});var ds=m((ls)=>{Object.defineProperty(ls,"__esModule",{value:!0});ls.isEnoentCodeError=void 0;function On(i){return i.code==="ENOENT"}ls.isEnoentCodeError=On});var _s=m((ws)=>{Object.defineProperty(ws,"__esModule",{value:!0});ws.createDirentFromStats=void 0;class ns{constructor(i,r){this.name=i,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}}function Zn(i,r){return new ns(i,r)}ws.createDirentFromStats=Zn});var qs=m(($s)=>{Object.defineProperty($s,"__esModule",{value:!0});$s.convertPosixPathToPattern=$s.convertWindowsPathToPattern=$s.convertPathToPattern=$s.escapePosixPath=$s.escapeWindowsPath=$s.escape=$s.removeLeadingDotSegment=$s.makeAbsolute=$s.unixify=void 0;var Un=I("os"),Jn=I("path"),ms=Un.platform()==="win32",In=2,Qn=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\()|\\(?![!()*+?@[\]{|}]))/g,Xn=/(\\?)([()[\]{}]|^!|[!+@](?=\())/g,Nn=/^\\\\([.?])/,Dn=/\\(?![!()+@[\]{}])/g;function Kn(i){return i.replace(/\\/g,"/")}$s.unixify=Kn;function Pn(i,r){return Jn.resolve(i,r)}$s.makeAbsolute=Pn;function An(i){if(i.charAt(0)==="."){let r=i.charAt(1);if(r==="/"||r==="\\")return i.slice(In)}return i}$s.removeLeadingDotSegment=An;$s.escape=ms?Yr:Or;function Yr(i){return i.replace(Xn,"\\$2")}$s.escapeWindowsPath=Yr;function Or(i){return i.replace(Qn,"\\$2")}$s.escapePosixPath=Or;$s.convertPathToPattern=ms?ys:Ss;function ys(i){return Yr(i).replace(Nn,"//$1").replace(Dn,"/")}$s.convertWindowsPathToPattern=ys;function Ss(i){return Or(i)}$s.convertPosixPathToPattern=Ss});var Fs=m((ZS,xs)=>{/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */xs.exports=function i(r){if(typeof r!=="string"||r==="")return!1;var t;while(t=/(\\).|([@?!+*]\(.*\))/g.exec(r)){if(t[2])return!0;r=r.slice(t.index+t[0].length)}return!1}});var Vs=m((US,Bs)=>{/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var vn=Fs(),Ms={"{":"}","(":")","[":"]"},on=function(i){if(i[0]==="!")return!0;var r=0,t=-2,s=-2,h=-2,f=-2,e=-2;while(r<i.length){if(i[r]==="*")return!0;if(i[r+1]==="?"&&/[\].+)]/.test(i[r]))return!0;if(s!==-1&&i[r]==="["&&i[r+1]!=="]"){if(s<r)s=i.indexOf("]",r);if(s>r){if(e===-1||e>s)return!0;if(e=i.indexOf("\\",r),e===-1||e>s)return!0}}if(h!==-1&&i[r]==="{"&&i[r+1]!=="}"){if(h=i.indexOf("}",r),h>r){if(e=i.indexOf("\\",r),e===-1||e>h)return!0}}if(f!==-1&&i[r]==="("&&i[r+1]==="?"&&/[:!=]/.test(i[r+2])&&i[r+3]!==")"){if(f=i.indexOf(")",r),f>r){if(e=i.indexOf("\\",r),e===-1||e>f)return!0}}if(t!==-1&&i[r]==="("&&i[r+1]!=="|"){if(t<r)t=i.indexOf("|",r);if(t!==-1&&i[t+1]!==")"){if(f=i.indexOf(")",t),f>t){if(e=i.indexOf("\\",t),e===-1||e>f)return!0}}}if(i[r]==="\\"){var l=i[r+1];r+=2;var u=Ms[l];if(u){var d=i.indexOf(u,r);if(d!==-1)r=d+1}if(i[r]==="!")return!0}else r++}return!1},pn=function(i){if(i[0]==="!")return!0;var r=0;while(r<i.length){if(/[*?{}()[\]]/.test(i[r]))return!0;if(i[r]==="\\"){var t=i[r+1];r+=2;var s=Ms[t];if(s){var h=i.indexOf(s,r);if(h!==-1)r=h+1}if(i[r]==="!")return!0}else r++}return!1};Bs.exports=function i(r,t){if(typeof r!=="string"||r==="")return!1;if(vn(r))return!0;var s=on;if(t&&t.strict===!1)s=pn;return s(r)}});var Es=m((JS,js)=>{var iw=Vs(),rw=I("path").posix.dirname,tw=I("os").platform()==="win32",Zr="/",sw=/\\/g,hw=/[\{\[].*[\}\]]$/,fw=/(^|[^\\])([\{\[]|\([^\)]+$)/,ew=/\\([\!\*\?\|\[\]\(\)\{\}])/g;js.exports=function i(r,t){var s=Object.assign({flipBackslashes:!0},t);if(s.flipBackslashes&&tw&&r.indexOf(Zr)<0)r=r.replace(sw,Zr);if(hw.test(r))r+=Zr;r+="a";do r=rw(r);while(iw(r)||fw.test(r));return r.replace(ew,"$1")}});var ai=m((lw)=>{lw.isInteger=(i)=>{if(typeof i==="number")return Number.isInteger(i);if(typeof i==="string"&&i.trim()!=="")return Number.isInteger(Number(i));return!1};lw.find=(i,r)=>i.nodes.find((t)=>t.type===r);lw.exceedsLimit=(i,r,t=1,s)=>{if(s===!1)return!1;if(!lw.isInteger(i)||!lw.isInteger(r))return!1;return(Number(r)-Number(i))/Number(t)>=s};lw.escapeNode=(i,r=0,t)=>{let s=i.nodes[r];if(!s)return;if(t&&s.type===t||s.type==="open"||s.type==="close"){if(s.escaped!==!0)s.value="\\"+s.value,s.escaped=!0}};lw.encloseBrace=(i)=>{if(i.type!=="brace")return!1;if(i.commas>>0+i.ranges>>0===0)return i.invalid=!0,!0;return!1};lw.isInvalidBrace=(i)=>{if(i.type!=="brace")return!1;if(i.invalid===!0||i.dollar)return!0;if(i.commas>>0+i.ranges>>0===0)return i.invalid=!0,!0;if(i.open!==!0||i.close!==!0)return i.invalid=!0,!0;return!1};lw.isOpenOrClose=(i)=>{if(i.type==="open"||i.type==="close")return!0;return i.open===!0||i.close===!0};lw.reduce=(i)=>i.reduce((r,t)=>{if(t.type==="text")r.push(t.value);if(t.type==="range")t.type="text";return r},[]);lw.flatten=(...i)=>{let r=[],t=(s)=>{for(let h=0;h<s.length;h++){let f=s[h];if(Array.isArray(f)){t(f);continue}if(f!==void 0)r.push(f)}return r};return t(i),r}});var ki=m((QS,Ws)=>{var Ls=ai();Ws.exports=(i,r={})=>{let t=(s,h={})=>{let f=r.escapeInvalid&&Ls.isInvalidBrace(h),e=s.invalid===!0&&r.escapeInvalid===!0,l="";if(s.value){if((f||e)&&Ls.isOpenOrClose(s))return"\\"+s.value;return s.value}if(s.value)return s.value;if(s.nodes)for(let u of s.nodes)l+=t(u);return l};return t(i)}});var Ys=m((XS,zs)=>{/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */zs.exports=function(i){if(typeof i==="number")return i-i===0;if(typeof i==="string"&&i.trim()!=="")return Number.isFinite?Number.isFinite(+i):isFinite(+i);return!1}});var Ds=m((NS,Ns)=>{/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */var Os=Ys(),qi=(i,r,t)=>{if(Os(i)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(r===void 0||i===r)return String(i);if(Os(r)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let s={relaxZeros:!0,...t};if(typeof s.strictZeros==="boolean")s.relaxZeros=s.strictZeros===!1;let h=String(s.relaxZeros),f=String(s.shorthand),e=String(s.capture),l=String(s.wrap),u=i+":"+r+"="+h+f+e+l;if(qi.cache.hasOwnProperty(u))return qi.cache[u].result;let d=Math.min(i,r),n=Math.max(i,r);if(Math.abs(d-n)===1){let C=i+"|"+r;if(s.capture)return`(${C})`;if(s.wrap===!1)return C;return`(?:${C})`}let w=Xs(i)||Xs(r),g={min:i,max:r,a:d,b:n},x=[],_=[];if(w)g.isPadded=w,g.maxLen=String(g.max).length;if(d<0){let C=n<0?Math.abs(n):1;_=Zs(C,Math.abs(d),g,s),d=g.a=0}if(n>=0)x=Zs(d,n,g,s);if(g.negatives=_,g.positives=x,g.result=Sw(_,x,s),s.capture===!0)g.result=`(${g.result})`;else if(s.wrap!==!1&&x.length+_.length>1)g.result=`(?:${g.result})`;return qi.cache[u]=g,g.result};function Sw(i,r,t){let s=Jr(i,r,"-",!1,t)||[],h=Jr(r,i,"",!1,t)||[],f=Jr(i,r,"-?",!0,t)||[];return s.concat(f).concat(h).join("|")}function $w(i,r){let t=1,s=1,h=Js(i,t),f=new Set([r]);while(i<=h&&h<=r)f.add(h),t+=1,h=Js(i,t);h=Is(r+1,s)-1;while(i<h&&h<=r)f.add(h),s+=1,h=Is(r+1,s)-1;return f=[...f],f.sort(xw),f}function Cw(i,r,t){if(i===r)return{pattern:i,count:[],digits:0};let s=qw(i,r),h=s.length,f="",e=0;for(let l=0;l<h;l++){let[u,d]=s[l];if(u===d)f+=u;else if(u!=="0"||d!=="9")f+=Fw(u,d,t);else e++}if(e)f+=t.shorthand===!0?"\\d":"[0-9]";return{pattern:f,count:[e],digits:h}}function Zs(i,r,t,s){let h=$w(i,r),f=[],e=i,l;for(let u=0;u<h.length;u++){let d=h[u],n=Cw(String(e),String(d),s),w="";if(!t.isPadded&&l&&l.pattern===n.pattern){if(l.count.length>1)l.count.pop();l.count.push(n.count[0]),l.string=l.pattern+Qs(l.count),e=d+1;continue}if(t.isPadded)w=Mw(d,t,s);n.string=w+n.pattern+Qs(n.count),f.push(n),e=d+1,l=n}return f}function Jr(i,r,t,s,h){let f=[];for(let e of i){let{string:l}=e;if(!s&&!Us(r,"string",l))f.push(t+l);if(s&&Us(r,"string",l))f.push(t+l)}return f}function qw(i,r){let t=[];for(let s=0;s<i.length;s++)t.push([i[s],r[s]]);return t}function xw(i,r){return i>r?1:r>i?-1:0}function Us(i,r,t){return i.some((s)=>s[r]===t)}function Js(i,r){return Number(String(i).slice(0,-r)+"9".repeat(r))}function Is(i,r){return i-i%Math.pow(10,r)}function Qs(i){let[r=0,t=""]=i;if(t||r>1)return`{${r+(t?","+t:"")}}`;return""}function Fw(i,r,t){return`[${i}${r-i===1?"":"-"}${r}]`}function Xs(i){return/^-?(0+)\d/.test(i)}function Mw(i,r,t){if(!r.isPadded)return i;let s=Math.abs(r.maxLen-String(i).length),h=t.relaxZeros!==!1;switch(s){case 0:return"";case 1:return h?"0?":"0";case 2:return h?"0{0,2}":"00";default:return h?`0{0,${s}}`:`0{${s}}`}}qi.cache={};qi.clearCache=()=>qi.cache={};Ns.exports=qi});var Xr=m((DS,Hs)=>{/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Bw=I("util"),Ps=Ds(),Ks=(i)=>i!==null&&typeof i==="object"&&!Array.isArray(i),Vw=(i)=>{return(r)=>i===!0?Number(r):String(r)},Ir=(i)=>{return typeof i==="number"||typeof i==="string"&&i!==""},Zi=(i)=>Number.isInteger(+i),Qr=(i)=>{let r=`${i}`,t=-1;if(r[0]==="-")r=r.slice(1);if(r==="0")return!1;while(r[++t]==="0");return t>0},jw=(i,r,t)=>{if(typeof i==="string"||typeof r==="string")return!0;return t.stringify===!0},Ew=(i,r,t)=>{if(r>0){let s=i[0]==="-"?"-":"";if(s)i=i.slice(1);i=s+i.padStart(s?r-1:r,"0")}if(t===!1)return String(i);return i},oi=(i,r)=>{let t=i[0]==="-"?"-":"";if(t)i=i.slice(1),r--;while(i.length<r)i="0"+i;return t?"-"+i:i},Lw=(i,r,t)=>{i.negatives.sort((l,u)=>l<u?-1:l>u?1:0),i.positives.sort((l,u)=>l<u?-1:l>u?1:0);let s=r.capture?"":"?:",h="",f="",e;if(i.positives.length)h=i.positives.map((l)=>oi(String(l),t)).join("|");if(i.negatives.length)f=`-(${s}${i.negatives.map((l)=>oi(String(l),t)).join("|")})`;if(h&&f)e=`${h}|${f}`;else e=h||f;if(r.wrap)return`(${s}${e})`;return e},As=(i,r,t,s)=>{if(t)return Ps(i,r,{wrap:!1,...s});let h=String.fromCharCode(i);if(i===r)return h;let f=String.fromCharCode(r);return`[${h}-${f}]`},bs=(i,r,t)=>{if(Array.isArray(i)){let s=t.wrap===!0,h=t.capture?"":"?:";return s?`(${h}${i.join("|")})`:i.join("|")}return Ps(i,r,t)},Gs=(...i)=>{return new RangeError("Invalid range arguments: "+Bw.inspect(...i))},Ts=(i,r,t)=>{if(t.strictRanges===!0)throw Gs([i,r]);return[]},Ww=(i,r)=>{if(r.strictRanges===!0)throw new TypeError(`Expected step "${i}" to be a number`);return[]},zw=(i,r,t=1,s={})=>{let h=Number(i),f=Number(r);if(!Number.isInteger(h)||!Number.isInteger(f)){if(s.strictRanges===!0)throw Gs([i,r]);return[]}if(h===0)h=0;if(f===0)f=0;let e=h>f,l=String(i),u=String(r),d=String(t);t=Math.max(Math.abs(t),1);let n=Qr(l)||Qr(u)||Qr(d),w=n?Math.max(l.length,u.length,d.length):0,g=n===!1&&jw(i,r,s)===!1,x=s.transform||Vw(g);if(s.toRegex&&t===1)return As(oi(i,w),oi(r,w),!0,s);let _={negatives:[],positives:[]},C=(E)=>_[E<0?"negatives":"positives"].push(Math.abs(E)),L=[],M=0;while(e?h>=f:h<=f){if(s.toRegex===!0&&t>1)C(h);else L.push(Ew(x(h,M),w,g));h=e?h-t:h+t,M++}if(s.toRegex===!0)return t>1?Lw(_,s,w):bs(L,null,{wrap:!1,...s});return L},Yw=(i,r,t=1,s={})=>{if(!Zi(i)&&i.length>1||!Zi(r)&&r.length>1)return Ts(i,r,s);let h=s.transform||((g)=>String.fromCharCode(g)),f=`${i}`.charCodeAt(0),e=`${r}`.charCodeAt(0),l=f>e,u=Math.min(f,e),d=Math.max(f,e);if(s.toRegex&&t===1)return As(u,d,!1,s);let n=[],w=0;while(l?f>=e:f<=e)n.push(h(f,w)),f=l?f-t:f+t,w++;if(s.toRegex===!0)return bs(n,null,{wrap:!1,options:s});return n},vi=(i,r,t,s={})=>{if(r==null&&Ir(i))return[i];if(!Ir(i)||!Ir(r))return Ts(i,r,s);if(typeof t==="function")return vi(i,r,1,{transform:t});if(Ks(t))return vi(i,r,0,t);let h={...s};if(h.capture===!0)h.wrap=!0;if(t=t||h.step||1,!Zi(t)){if(t!=null&&!Ks(t))return Ww(t,h);return vi(i,r,1,t)}if(Zi(i)&&Zi(r))return zw(i,r,t,h);return Yw(i,r,Math.max(Math.abs(t),1),h)};Hs.exports=vi});var as=m((KS,cs)=>{var Ow=Xr(),Rs=ai(),Zw=(i,r={})=>{let t=(s,h={})=>{let f=Rs.isInvalidBrace(h),e=s.invalid===!0&&r.escapeInvalid===!0,l=f===!0||e===!0,u=r.escapeInvalid===!0?"\\":"",d="";if(s.isOpen===!0)return u+s.value;if(s.isClose===!0)return console.log("node.isClose",u,s.value),u+s.value;if(s.type==="open")return l?u+s.value:"(";if(s.type==="close")return l?u+s.value:")";if(s.type==="comma")return s.prev.type==="comma"?"":l?s.value:"|";if(s.value)return s.value;if(s.nodes&&s.ranges>0){let n=Rs.reduce(s.nodes),w=Ow(...n,{...r,wrap:!1,toRegex:!0,strictZeros:!0});if(w.length!==0)return n.length>1&&w.length>1?`(${w})`:w}if(s.nodes)for(let n of s.nodes)d+=t(n,s);return d};return t(i)};cs.exports=Zw});var os=m((PS,vs)=>{var Uw=Xr(),ks=ki(),ji=ai(),xi=(i="",r="",t=!1)=>{let s=[];if(i=[].concat(i),r=[].concat(r),!r.length)return i;if(!i.length)return t?ji.flatten(r).map((h)=>`{${h}}`):r;for(let h of i)if(Array.isArray(h))for(let f of h)s.push(xi(f,r,t));else for(let f of r){if(t===!0&&typeof f==="string")f=`{${f}}`;s.push(Array.isArray(f)?xi(h,f,t):h+f)}return ji.flatten(s)},Jw=(i,r={})=>{let t=r.rangeLimit===void 0?1000:r.rangeLimit,s=(h,f={})=>{h.queue=[];let e=f,l=f.queue;while(e.type!=="brace"&&e.type!=="root"&&e.parent)e=e.parent,l=e.queue;if(h.invalid||h.dollar){l.push(xi(l.pop(),ks(h,r)));return}if(h.type==="brace"&&h.invalid!==!0&&h.nodes.length===2){l.push(xi(l.pop(),["{}"]));return}if(h.nodes&&h.ranges>0){let w=ji.reduce(h.nodes);if(ji.exceedsLimit(...w,r.step,t))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let g=Uw(...w,r);if(g.length===0)g=ks(h,r);l.push(xi(l.pop(),g)),h.nodes=[];return}let u=ji.encloseBrace(h),d=h.queue,n=h;while(n.type!=="brace"&&n.type!=="root"&&n.parent)n=n.parent,d=n.queue;for(let w=0;w<h.nodes.length;w++){let g=h.nodes[w];if(g.type==="comma"&&h.type==="brace"){if(w===1)d.push("");d.push("");continue}if(g.type==="close"){l.push(xi(l.pop(),d,u));continue}if(g.value&&g.type!=="open"){d.push(xi(d.pop(),g.value));continue}if(g.nodes)s(g,h)}return d};return ji.flatten(s(i))};vs.exports=Jw});var ih=m((AS,ps)=>{ps.exports={MAX_LENGTH:1e4,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var fh=m((bS,hh)=>{var Iw=ki(),{MAX_LENGTH:rh,CHAR_BACKSLASH:Nr,CHAR_BACKTICK:Qw,CHAR_COMMA:Xw,CHAR_DOT:Nw,CHAR_LEFT_PARENTHESES:Dw,CHAR_RIGHT_PARENTHESES:Kw,CHAR_LEFT_CURLY_BRACE:Pw,CHAR_RIGHT_CURLY_BRACE:Aw,CHAR_LEFT_SQUARE_BRACKET:th,CHAR_RIGHT_SQUARE_BRACKET:sh,CHAR_DOUBLE_QUOTE:bw,CHAR_SINGLE_QUOTE:Gw,CHAR_NO_BREAK_SPACE:Tw,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Hw}=ih(),Rw=(i,r={})=>{if(typeof i!=="string")throw new TypeError("Expected a string");let t=r||{},s=typeof t.maxLength==="number"?Math.min(rh,t.maxLength):rh;if(i.length>s)throw new SyntaxError(`Input length (${i.length}), exceeds max characters (${s})`);let h={type:"root",input:i,nodes:[]},f=[h],e=h,l=h,u=0,d=i.length,n=0,w=0,g,x=()=>i[n++],_=(C)=>{if(C.type==="text"&&l.type==="dot")l.type="text";if(l&&l.type==="text"&&C.type==="text"){l.value+=C.value;return}return e.nodes.push(C),C.parent=e,C.prev=l,l=C,C};_({type:"bos"});while(n<d){if(e=f[f.length-1],g=x(),g===Hw||g===Tw)continue;if(g===Nr){_({type:"text",value:(r.keepEscaping?g:"")+x()});continue}if(g===sh){_({type:"text",value:"\\"+g});continue}if(g===th){u++;let C;while(n<d&&(C=x())){if(g+=C,C===th){u++;continue}if(C===Nr){g+=x();continue}if(C===sh){if(u--,u===0)break}}_({type:"text",value:g});continue}if(g===Dw){e=_({type:"paren",nodes:[]}),f.push(e),_({type:"text",value:g});continue}if(g===Kw){if(e.type!=="paren"){_({type:"text",value:g});continue}e=f.pop(),_({type:"text",value:g}),e=f[f.length-1];continue}if(g===bw||g===Gw||g===Qw){let C=g,L;if(r.keepQuotes!==!0)g="";while(n<d&&(L=x())){if(L===Nr){g+=L+x();continue}if(L===C){if(r.keepQuotes===!0)g+=L;break}g+=L}_({type:"text",value:g});continue}if(g===Pw){w++;let L={type:"brace",open:!0,close:!1,dollar:l.value&&l.value.slice(-1)==="$"||e.dollar===!0,depth:w,commas:0,ranges:0,nodes:[]};e=_(L),f.push(e),_({type:"open",value:g});continue}if(g===Aw){if(e.type!=="brace"){_({type:"text",value:g});continue}let C="close";e=f.pop(),e.close=!0,_({type:C,value:g}),w--,e=f[f.length-1];continue}if(g===Xw&&w>0){if(e.ranges>0){e.ranges=0;let C=e.nodes.shift();e.nodes=[C,{type:"text",value:Iw(e)}]}_({type:"comma",value:g}),e.commas++;continue}if(g===Nw&&w>0&&e.commas===0){let C=e.nodes;if(w===0||C.length===0){_({type:"text",value:g});continue}if(l.type==="dot"){if(e.range=[],l.value+=g,l.type="range",e.nodes.length!==3&&e.nodes.length!==5){e.invalid=!0,e.ranges=0,l.type="text";continue}e.ranges++,e.args=[];continue}if(l.type==="range"){C.pop();let L=C[C.length-1];L.value+=l.value+g,l=L,e.ranges--;continue}_({type:"dot",value:g});continue}_({type:"text",value:g})}do if(e=f.pop(),e.type!=="root"){e.nodes.forEach((M)=>{if(!M.nodes){if(M.type==="open")M.isOpen=!0;if(M.type==="close")M.isClose=!0;if(!M.nodes)M.type="text";M.invalid=!0}});let C=f[f.length-1],L=C.nodes.indexOf(e);C.nodes.splice(L,1,...e.nodes)}while(f.length>0);return _({type:"eos"}),h};hh.exports=Rw});var uh=m((GS,lh)=>{var eh=ki(),cw=as(),aw=os(),kw=fh(),o=(i,r={})=>{let t=[];if(Array.isArray(i))for(let s of i){let h=o.create(s,r);if(Array.isArray(h))t.push(...h);else t.push(h)}else t=[].concat(o.create(i,r));if(r&&r.expand===!0&&r.nodupes===!0)t=[...new Set(t)];return t};o.parse=(i,r={})=>kw(i,r);o.stringify=(i,r={})=>{if(typeof i==="string")return eh(o.parse(i,r),r);return eh(i,r)};o.compile=(i,r={})=>{if(typeof i==="string")i=o.parse(i,r);return cw(i,r)};o.expand=(i,r={})=>{if(typeof i==="string")i=o.parse(i,r);let t=aw(i,r);if(r.noempty===!0)t=t.filter(Boolean);if(r.nodupes===!0)t=[...new Set(t)];return t};o.create=(i,r={})=>{if(i===""||i.length<3)return[i];return r.expand!==!0?o.compile(i,r):o.expand(i,r)};lh.exports=o});var Ui=m((TS,nh)=>{var vw=I("path"),dh={DOT_LITERAL:"\\.",PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:"\\/",ONE_CHAR:"(?=.)",QMARK:"[^/]",END_ANCHOR:"(?:\\/|$)",DOTS_SLASH:"\\.{1,2}(?:\\/|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|\\/)\\.{1,2}(?:\\/|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:\\/|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:\\/|$))",QMARK_NO_DOT:"[^.\\/]",STAR:"[^/]*?",START_ANCHOR:"(?:^|\\/)"},ow={...dh,SLASH_LITERAL:"[\\\\/]",QMARK:"[^\\\\/]",STAR:"[^\\\\/]*?",DOTS_SLASH:"\\.{1,2}(?:[\\\\/]|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|[\\\\/])\\.{1,2}(?:[\\\\/]|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:[\\\\/]|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:[\\\\/]|$))",QMARK_NO_DOT:"[^.\\\\/]",START_ANCHOR:"(?:^|[\\\\/])",END_ANCHOR:"(?:[\\\\/]|$)"},pw={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};nh.exports={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:pw,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:vw.sep,extglobChars(i){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${i.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(i){return i===!0?ow:dh}}});var Ji=m((e1)=>{var i1=I("path"),r1=process.platform==="win32",{REGEX_BACKSLASH:t1,REGEX_REMOVE_BACKSLASH:s1,REGEX_SPECIAL_CHARS:h1,REGEX_SPECIAL_CHARS_GLOBAL:f1}=Ui();e1.isObject=(i)=>i!==null&&typeof i==="object"&&!Array.isArray(i);e1.hasRegexChars=(i)=>h1.test(i);e1.isRegexChar=(i)=>i.length===1&&e1.hasRegexChars(i);e1.escapeRegex=(i)=>i.replace(f1,"\\$1");e1.toPosixSlashes=(i)=>i.replace(t1,"/");e1.removeBackslashes=(i)=>{return i.replace(s1,(r)=>{return r==="\\"?"":r})};e1.supportsLookbehinds=()=>{let i=process.version.slice(1).split(".").map(Number);if(i.length===3&&i[0]>=9||i[0]===8&&i[1]>=10)return!0;return!1};e1.isWindows=(i)=>{if(i&&typeof i.windows==="boolean")return i.windows;return r1===!0||i1.sep==="\\"};e1.escapeLast=(i,r,t)=>{let s=i.lastIndexOf(r,t);if(s===-1)return i;if(i[s-1]==="\\")return e1.escapeLast(i,r,s-1);return`${i.slice(0,s)}\\${i.slice(s)}`};e1.removePrefix=(i,r={})=>{let t=i;if(t.startsWith("./"))t=t.slice(2),r.prefix="./";return t};e1.wrapOutput=(i,r={},t={})=>{let s=t.contains?"":"^",h=t.contains?"":"$",f=`${s}(?:${i})${h}`;if(r.negated===!0)f=`(?:^(?!${f}).*$)`;return f}});var xh=m((RS,qh)=>{var _h=Ji(),{CHAR_ASTERISK:Dr,CHAR_AT:S1,CHAR_BACKWARD_SLASH:Ii,CHAR_COMMA:$1,CHAR_DOT:Kr,CHAR_EXCLAMATION_MARK:Pr,CHAR_FORWARD_SLASH:Ch,CHAR_LEFT_CURLY_BRACE:Ar,CHAR_LEFT_PARENTHESES:br,CHAR_LEFT_SQUARE_BRACKET:C1,CHAR_PLUS:q1,CHAR_QUESTION_MARK:mh,CHAR_RIGHT_CURLY_BRACE:x1,CHAR_RIGHT_PARENTHESES:yh,CHAR_RIGHT_SQUARE_BRACKET:F1}=Ui(),Sh=(i)=>{return i===Ch||i===Ii},$h=(i)=>{if(i.isPrefix!==!0)i.depth=i.isGlobstar?1/0:1},M1=(i,r)=>{let t=r||{},s=i.length-1,h=t.parts===!0||t.scanToEnd===!0,f=[],e=[],l=[],u=i,d=-1,n=0,w=0,g=!1,x=!1,_=!1,C=!1,L=!1,M=!1,E=!1,V=!1,J=!1,O=!1,j=0,Y,F,Z={value:"",depth:0,isGlob:!1},Q=()=>d>=s,$=()=>u.charCodeAt(d+1),K=()=>{return Y=F,u.charCodeAt(++d)};while(d<s){F=K();let R;if(F===Ii){if(E=Z.backslashes=!0,F=K(),F===Ar)M=!0;continue}if(M===!0||F===Ar){j++;while(Q()!==!0&&(F=K())){if(F===Ii){E=Z.backslashes=!0,K();continue}if(F===Ar){j++;continue}if(M!==!0&&F===Kr&&(F=K())===Kr){if(g=Z.isBrace=!0,_=Z.isGlob=!0,O=!0,h===!0)continue;break}if(M!==!0&&F===$1){if(g=Z.isBrace=!0,_=Z.isGlob=!0,O=!0,h===!0)continue;break}if(F===x1){if(j--,j===0){M=!1,g=Z.isBrace=!0,O=!0;break}}}if(h===!0)continue;break}if(F===Ch){if(f.push(d),e.push(Z),Z={value:"",depth:0,isGlob:!1},O===!0)continue;if(Y===Kr&&d===n+1){n+=2;continue}w=d+1;continue}if(t.noext!==!0){if((F===q1||F===S1||F===Dr||F===mh||F===Pr)===!0&&$()===br){if(_=Z.isGlob=!0,C=Z.isExtglob=!0,O=!0,F===Pr&&d===n)J=!0;if(h===!0){while(Q()!==!0&&(F=K())){if(F===Ii){E=Z.backslashes=!0,F=K();continue}if(F===yh){_=Z.isGlob=!0,O=!0;break}}continue}break}}if(F===Dr){if(Y===Dr)L=Z.isGlobstar=!0;if(_=Z.isGlob=!0,O=!0,h===!0)continue;break}if(F===mh){if(_=Z.isGlob=!0,O=!0,h===!0)continue;break}if(F===C1){while(Q()!==!0&&(R=K())){if(R===Ii){E=Z.backslashes=!0,K();continue}if(R===F1){x=Z.isBracket=!0,_=Z.isGlob=!0,O=!0;break}}if(h===!0)continue;break}if(t.nonegate!==!0&&F===Pr&&d===n){V=Z.negated=!0,n++;continue}if(t.noparen!==!0&&F===br){if(_=Z.isGlob=!0,h===!0){while(Q()!==!0&&(F=K())){if(F===br){E=Z.backslashes=!0,F=K();continue}if(F===yh){O=!0;break}}continue}break}if(_===!0){if(O=!0,h===!0)continue;break}}if(t.noext===!0)C=!1,_=!1;let X=u,gi="",y="";if(n>0)gi=u.slice(0,n),u=u.slice(n),w-=n;if(X&&_===!0&&w>0)X=u.slice(0,w),y=u.slice(w);else if(_===!0)X="",y=u;else X=u;if(X&&X!==""&&X!=="/"&&X!==u){if(Sh(X.charCodeAt(X.length-1)))X=X.slice(0,-1)}if(t.unescape===!0){if(y)y=_h.removeBackslashes(y);if(X&&E===!0)X=_h.removeBackslashes(X)}let S={prefix:gi,input:i,start:n,base:X,glob:y,isBrace:g,isBracket:x,isGlob:_,isExtglob:C,isGlobstar:L,negated:V,negatedExtglob:J};if(t.tokens===!0){if(S.maxDepth=0,!Sh(F))e.push(Z);S.tokens=e}if(t.parts===!0||t.tokens===!0){let R;for(let U=0;U<f.length;U++){let fi=R?R+1:n,ei=f[U],v=i.slice(fi,ei);if(t.tokens){if(U===0&&n!==0)e[U].isPrefix=!0,e[U].value=gi;else e[U].value=v;$h(e[U]),S.maxDepth+=e[U].depth}if(U!==0||v!=="")l.push(v);R=ei}if(R&&R+1<i.length){let U=i.slice(R+1);if(l.push(U),t.tokens)e[e.length-1].value=U,$h(e[e.length-1]),S.maxDepth+=e[e.length-1].depth}S.slashes=f,S.parts=l}return S};qh.exports=M1});var Bh=m((cS,Mh)=>{var pi=Ui(),p=Ji(),{MAX_LENGTH:ir,POSIX_REGEX_SOURCE:B1,REGEX_NON_SPECIAL_CHARS:V1,REGEX_SPECIAL_CHARS_BACKREF:j1,REPLACEMENTS:Fh}=pi,E1=(i,r)=>{if(typeof r.expandRange==="function")return r.expandRange(...i,r);i.sort();let t=`[${i.join("-")}]`;try{new RegExp(t)}catch(s){return i.map((h)=>p.escapeRegex(h)).join("..")}return t},Ei=(i,r)=>{return`Missing ${i}: "${r}" - use "\\\\${r}" to match literal characters`},Gr=(i,r)=>{if(typeof i!=="string")throw new TypeError("Expected a string");i=Fh[i]||i;let t={...r},s=typeof t.maxLength==="number"?Math.min(ir,t.maxLength):ir,h=i.length;if(h>s)throw new SyntaxError(`Input length: ${h}, exceeds maximum allowed length: ${s}`);let f={type:"bos",value:"",output:t.prepend||""},e=[f],l=t.capture?"":"?:",u=p.isWindows(r),d=pi.globChars(u),n=pi.extglobChars(d),{DOT_LITERAL:w,PLUS_LITERAL:g,SLASH_LITERAL:x,ONE_CHAR:_,DOTS_SLASH:C,NO_DOT:L,NO_DOT_SLASH:M,NO_DOTS_SLASH:E,QMARK:V,QMARK_NO_DOT:J,STAR:O,START_ANCHOR:j}=d,Y=(B)=>{return`(${l}(?:(?!${j}${B.dot?C:w}).)*?)`},F=t.dot?"":L,Z=t.dot?V:J,Q=t.bash===!0?Y(t):O;if(t.capture)Q=`(${Q})`;if(typeof t.noext==="boolean")t.noextglob=t.noext;let $={input:i,index:-1,start:0,dot:t.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:e};i=p.removePrefix(i,$),h=i.length;let K=[],X=[],gi=[],y=f,S,R=()=>$.index===h-1,U=$.peek=(B=1)=>i[$.index+B],fi=$.advance=()=>i[++$.index]||"",ei=()=>i.slice($.index+1),v=(B="",N=0)=>{$.consumed+=B,$.index+=N},Pi=(B)=>{$.output+=B.output!=null?B.output:B.value,v(B.value)},hn=()=>{let B=1;while(U()==="!"&&(U(2)!=="("||U(3)==="?"))fi(),$.start++,B++;if(B%2===0)return!1;return $.negated=!0,$.start++,!0},Ai=(B)=>{$[B]++,gi.push(B)},Ci=(B)=>{$[B]--,gi.pop()},z=(B)=>{if(y.type==="globstar"){let N=$.braces>0&&(B.type==="comma"||B.type==="brace"),q=B.extglob===!0||K.length&&(B.type==="pipe"||B.type==="paren");if(B.type!=="slash"&&B.type!=="paren"&&!N&&!q)$.output=$.output.slice(0,-y.output.length),y.type="star",y.value="*",y.output=Q,$.output+=y.output}if(K.length&&B.type!=="paren")K[K.length-1].inner+=B.value;if(B.value||B.output)Pi(B);if(y&&y.type==="text"&&B.type==="text"){y.value+=B.value,y.output=(y.output||"")+B.value;return}B.prev=y,e.push(B),y=B},bi=(B,N)=>{let q={...n[N],conditions:1,inner:""};q.prev=y,q.parens=$.parens,q.output=$.output;let W=(t.capture?"(":"")+q.open;Ai("parens"),z({type:B,value:N,output:$.output?"":_}),z({type:"paren",extglob:!0,value:fi(),output:W}),K.push(q)},fn=(B)=>{let N=B.close+(t.capture?")":""),q;if(B.type==="negate"){let W=Q;if(B.inner&&B.inner.length>1&&B.inner.includes("/"))W=Y(t);if(W!==Q||R()||/^\)+$/.test(ei()))N=B.close=`)$))${W}`;if(B.inner.includes("*")&&(q=ei())&&/^\.[^\\/.]+$/.test(q)){let P=Gr(q,{...r,fastpaths:!1}).output;N=B.close=`)${P})${W})`}if(B.prev.type==="bos")$.negatedExtglob=!0}z({type:"paren",extglob:!0,value:S,output:N}),Ci("parens")};if(t.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(i)){let B=!1,N=i.replace(j1,(q,W,P,c,b,Vr)=>{if(c==="\\")return B=!0,q;if(c==="?"){if(W)return W+c+(b?V.repeat(b.length):"");if(Vr===0)return Z+(b?V.repeat(b.length):"");return V.repeat(P.length)}if(c===".")return w.repeat(P.length);if(c==="*"){if(W)return W+c+(b?Q:"");return Q}return W?q:`\\${q}`});if(B===!0)if(t.unescape===!0)N=N.replace(/\\/g,"");else N=N.replace(/\\+/g,(q)=>{return q.length%2===0?"\\\\":q?"\\":""});if(N===i&&t.contains===!0)return $.output=i,$;return $.output=p.wrapOutput(N,$,r),$}while(!R()){if(S=fi(),S==="\x00")continue;if(S==="\\"){let q=U();if(q==="/"&&t.bash!==!0)continue;if(q==="."||q===";")continue;if(!q){S+="\\",z({type:"text",value:S});continue}let W=/^\\+/.exec(ei()),P=0;if(W&&W[0].length>2){if(P=W[0].length,$.index+=P,P%2!==0)S+="\\"}if(t.unescape===!0)S=fi();else S+=fi();if($.brackets===0){z({type:"text",value:S});continue}}if($.brackets>0&&(S!=="]"||y.value==="["||y.value==="[^")){if(t.posix!==!1&&S===":"){let q=y.value.slice(1);if(q.includes("[")){if(y.posix=!0,q.includes(":")){let W=y.value.lastIndexOf("["),P=y.value.slice(0,W),c=y.value.slice(W+2),b=B1[c];if(b){if(y.value=P+b,$.backtrack=!0,fi(),!f.output&&e.indexOf(y)===1)f.output=_;continue}}}}if(S==="["&&U()!==":"||S==="-"&&U()==="]")S=`\\${S}`;if(S==="]"&&(y.value==="["||y.value==="[^"))S=`\\${S}`;if(t.posix===!0&&S==="!"&&y.value==="[")S="^";y.value+=S,Pi({value:S});continue}if($.quotes===1&&S!=='"'){S=p.escapeRegex(S),y.value+=S,Pi({value:S});continue}if(S==='"'){if($.quotes=$.quotes===1?0:1,t.keepQuotes===!0)z({type:"text",value:S});continue}if(S==="("){Ai("parens"),z({type:"paren",value:S});continue}if(S===")"){if($.parens===0&&t.strictBrackets===!0)throw new SyntaxError(Ei("opening","("));let q=K[K.length-1];if(q&&$.parens===q.parens+1){fn(K.pop());continue}z({type:"paren",value:S,output:$.parens?")":"\\)"}),Ci("parens");continue}if(S==="["){if(t.nobracket===!0||!ei().includes("]")){if(t.nobracket!==!0&&t.strictBrackets===!0)throw new SyntaxError(Ei("closing","]"));S=`\\${S}`}else Ai("brackets");z({type:"bracket",value:S});continue}if(S==="]"){if(t.nobracket===!0||y&&y.type==="bracket"&&y.value.length===1){z({type:"text",value:S,output:`\\${S}`});continue}if($.brackets===0){if(t.strictBrackets===!0)throw new SyntaxError(Ei("opening","["));z({type:"text",value:S,output:`\\${S}`});continue}Ci("brackets");let q=y.value.slice(1);if(y.posix!==!0&&q[0]==="^"&&!q.includes("/"))S=`/${S}`;if(y.value+=S,Pi({value:S}),t.literalBrackets===!1||p.hasRegexChars(q))continue;let W=p.escapeRegex(y.value);if($.output=$.output.slice(0,-y.value.length),t.literalBrackets===!0){$.output+=W,y.value=W;continue}y.value=`(${l}${W}|${y.value})`,$.output+=y.value;continue}if(S==="{"&&t.nobrace!==!0){Ai("braces");let q={type:"brace",value:S,output:"(",outputIndex:$.output.length,tokensIndex:$.tokens.length};X.push(q),z(q);continue}if(S==="}"){let q=X[X.length-1];if(t.nobrace===!0||!q){z({type:"text",value:S,output:S});continue}let W=")";if(q.dots===!0){let P=e.slice(),c=[];for(let b=P.length-1;b>=0;b--){if(e.pop(),P[b].type==="brace")break;if(P[b].type!=="dots")c.unshift(P[b].value)}W=E1(c,t),$.backtrack=!0}if(q.comma!==!0&&q.dots!==!0){let P=$.output.slice(0,q.outputIndex),c=$.tokens.slice(q.tokensIndex);q.value=q.output="\\{",S=W="\\}",$.output=P;for(let b of c)$.output+=b.output||b.value}z({type:"brace",value:S,output:W}),Ci("braces"),X.pop();continue}if(S==="|"){if(K.length>0)K[K.length-1].conditions++;z({type:"text",value:S});continue}if(S===","){let q=S,W=X[X.length-1];if(W&&gi[gi.length-1]==="braces")W.comma=!0,q="|";z({type:"comma",value:S,output:q});continue}if(S==="/"){if(y.type==="dot"&&$.index===$.start+1){$.start=$.index+1,$.consumed="",$.output="",e.pop(),y=f;continue}z({type:"slash",value:S,output:x});continue}if(S==="."){if($.braces>0&&y.type==="dot"){if(y.value===".")y.output=w;let q=X[X.length-1];y.type="dots",y.output+=S,y.value+=S,q.dots=!0;continue}if($.braces+$.parens===0&&y.type!=="bos"&&y.type!=="slash"){z({type:"text",value:S,output:w});continue}z({type:"dot",value:S,output:w});continue}if(S==="?"){if(!(y&&y.value==="(")&&t.noextglob!==!0&&U()==="("&&U(2)!=="?"){bi("qmark",S);continue}if(y&&y.type==="paren"){let W=U(),P=S;if(W==="<"&&!p.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");if(y.value==="("&&!/[!=<:]/.test(W)||W==="<"&&!/<([!=]|\w+>)/.test(ei()))P=`\\${S}`;z({type:"text",value:S,output:P});continue}if(t.dot!==!0&&(y.type==="slash"||y.type==="bos")){z({type:"qmark",value:S,output:J});continue}z({type:"qmark",value:S,output:V});continue}if(S==="!"){if(t.noextglob!==!0&&U()==="("){if(U(2)!=="?"||!/[!=<:]/.test(U(3))){bi("negate",S);continue}}if(t.nonegate!==!0&&$.index===0){hn();continue}}if(S==="+"){if(t.noextglob!==!0&&U()==="("&&U(2)!=="?"){bi("plus",S);continue}if(y&&y.value==="("||t.regex===!1){z({type:"plus",value:S,output:g});continue}if(y&&(y.type==="bracket"||y.type==="paren"||y.type==="brace")||$.parens>0){z({type:"plus",value:S});continue}z({type:"plus",value:g});continue}if(S==="@"){if(t.noextglob!==!0&&U()==="("&&U(2)!=="?"){z({type:"at",extglob:!0,value:S,output:""});continue}z({type:"text",value:S});continue}if(S!=="*"){if(S==="$"||S==="^")S=`\\${S}`;let q=V1.exec(ei());if(q)S+=q[0],$.index+=q[0].length;z({type:"text",value:S});continue}if(y&&(y.type==="globstar"||y.star===!0)){y.type="star",y.star=!0,y.value+=S,y.output=Q,$.backtrack=!0,$.globstar=!0,v(S);continue}let B=ei();if(t.noextglob!==!0&&/^\([^?]/.test(B)){bi("star",S);continue}if(y.type==="star"){if(t.noglobstar===!0){v(S);continue}let q=y.prev,W=q.prev,P=q.type==="slash"||q.type==="bos",c=W&&(W.type==="star"||W.type==="globstar");if(t.bash===!0&&(!P||B[0]&&B[0]!=="/")){z({type:"star",value:S,output:""});continue}let b=$.braces>0&&(q.type==="comma"||q.type==="brace"),Vr=K.length&&(q.type==="pipe"||q.type==="paren");if(!P&&q.type!=="paren"&&!b&&!Vr){z({type:"star",value:S,output:""});continue}while(B.slice(0,3)==="/**"){let Gi=i[$.index+4];if(Gi&&Gi!=="/")break;B=B.slice(3),v("/**",3)}if(q.type==="bos"&&R()){y.type="globstar",y.value+=S,y.output=Y(t),$.output=y.output,$.globstar=!0,v(S);continue}if(q.type==="slash"&&q.prev.type!=="bos"&&!c&&R()){$.output=$.output.slice(0,-(q.output+y.output).length),q.output=`(?:${q.output}`,y.type="globstar",y.output=Y(t)+(t.strictSlashes?")":"|$)"),y.value+=S,$.globstar=!0,$.output+=q.output+y.output,v(S);continue}if(q.type==="slash"&&q.prev.type!=="bos"&&B[0]==="/"){let Gi=B[1]!==void 0?"|$":"";$.output=$.output.slice(0,-(q.output+y.output).length),q.output=`(?:${q.output}`,y.type="globstar",y.output=`${Y(t)}${x}|${x}${Gi})`,y.value+=S,$.output+=q.output+y.output,$.globstar=!0,v(S+fi()),z({type:"slash",value:"/",output:""});continue}if(q.type==="bos"&&B[0]==="/"){y.type="globstar",y.value+=S,y.output=`(?:^|${x}|${Y(t)}${x})`,$.output=y.output,$.globstar=!0,v(S+fi()),z({type:"slash",value:"/",output:""});continue}$.output=$.output.slice(0,-y.output.length),y.type="globstar",y.output=Y(t),y.value+=S,$.output+=y.output,$.globstar=!0,v(S);continue}let N={type:"star",value:S,output:Q};if(t.bash===!0){if(N.output=".*?",y.type==="bos"||y.type==="slash")N.output=F+N.output;z(N);continue}if(y&&(y.type==="bracket"||y.type==="paren")&&t.regex===!0){N.output=S,z(N);continue}if($.index===$.start||y.type==="slash"||y.type==="dot"){if(y.type==="dot")$.output+=M,y.output+=M;else if(t.dot===!0)$.output+=E,y.output+=E;else $.output+=F,y.output+=F;if(U()!=="*")$.output+=_,y.output+=_}z(N)}while($.brackets>0){if(t.strictBrackets===!0)throw new SyntaxError(Ei("closing","]"));$.output=p.escapeLast($.output,"["),Ci("brackets")}while($.parens>0){if(t.strictBrackets===!0)throw new SyntaxError(Ei("closing",")"));$.output=p.escapeLast($.output,"("),Ci("parens")}while($.braces>0){if(t.strictBrackets===!0)throw new SyntaxError(Ei("closing","}"));$.output=p.escapeLast($.output,"{"),Ci("braces")}if(t.strictSlashes!==!0&&(y.type==="star"||y.type==="bracket"))z({type:"maybe_slash",value:"",output:`${x}?`});if($.backtrack===!0){$.output="";for(let B of $.tokens)if($.output+=B.output!=null?B.output:B.value,B.suffix)$.output+=B.suffix}return $};Gr.fastpaths=(i,r)=>{let t={...r},s=typeof t.maxLength==="number"?Math.min(ir,t.maxLength):ir,h=i.length;if(h>s)throw new SyntaxError(`Input length: ${h}, exceeds maximum allowed length: ${s}`);i=Fh[i]||i;let f=p.isWindows(r),{DOT_LITERAL:e,SLASH_LITERAL:l,ONE_CHAR:u,DOTS_SLASH:d,NO_DOT:n,NO_DOTS:w,NO_DOTS_SLASH:g,STAR:x,START_ANCHOR:_}=pi.globChars(f),C=t.dot?w:n,L=t.dot?g:n,M=t.capture?"":"?:",E={negated:!1,prefix:""},V=t.bash===!0?".*?":x;if(t.capture)V=`(${V})`;let J=(F)=>{if(F.noglobstar===!0)return V;return`(${M}(?:(?!${_}${F.dot?d:e}).)*?)`},O=(F)=>{switch(F){case"*":return`${C}${u}${V}`;case".*":return`${e}${u}${V}`;case"*.*":return`${C}${V}${e}${u}${V}`;case"*/*":return`${C}${V}${l}${u}${L}${V}`;case"**":return C+J(t);case"**/*":return`(?:${C}${J(t)}${l})?${L}${u}${V}`;case"**/*.*":return`(?:${C}${J(t)}${l})?${L}${V}${e}${u}${V}`;case"**/.*":return`(?:${C}${J(t)}${l})?${e}${u}${V}`;default:{let Z=/^(.*?)\.(\w+)$/.exec(F);if(!Z)return;let Q=O(Z[1]);if(!Q)return;return Q+e+Z[2]}}},j=p.removePrefix(i,E),Y=O(j);if(Y&&t.strictSlashes!==!0)Y+=`${l}?`;return Y};Mh.exports=Gr});var jh=m((aS,Vh)=>{var L1=I("path"),W1=xh(),Tr=Bh(),Hr=Ji(),z1=Ui(),Y1=(i)=>i&&typeof i==="object"&&!Array.isArray(i),A=(i,r,t=!1)=>{if(Array.isArray(i)){let n=i.map((g)=>A(g,r,t));return(g)=>{for(let x of n){let _=x(g);if(_)return _}return!1}}let s=Y1(i)&&i.tokens&&i.input;if(i===""||typeof i!=="string"&&!s)throw new TypeError("Expected pattern to be a non-empty string");let h=r||{},f=Hr.isWindows(r),e=s?A.compileRe(i,r):A.makeRe(i,r,!1,!0),l=e.state;delete e.state;let u=()=>!1;if(h.ignore){let n={...r,ignore:null,onMatch:null,onResult:null};u=A(h.ignore,n,t)}let d=(n,w=!1)=>{let{isMatch:g,match:x,output:_}=A.test(n,e,r,{glob:i,posix:f}),C={glob:i,state:l,regex:e,posix:f,input:n,output:_,match:x,isMatch:g};if(typeof h.onResult==="function")h.onResult(C);if(g===!1)return C.isMatch=!1,w?C:!1;if(u(n)){if(typeof h.onIgnore==="function")h.onIgnore(C);return C.isMatch=!1,w?C:!1}if(typeof h.onMatch==="function")h.onMatch(C);return w?C:!0};if(t)d.state=l;return d};A.test=(i,r,t,{glob:s,posix:h}={})=>{if(typeof i!=="string")throw new TypeError("Expected input to be a string");if(i==="")return{isMatch:!1,output:""};let f=t||{},e=f.format||(h?Hr.toPosixSlashes:null),l=i===s,u=l&&e?e(i):i;if(l===!1)u=e?e(i):i,l=u===s;if(l===!1||f.capture===!0)if(f.matchBase===!0||f.basename===!0)l=A.matchBase(i,r,t,h);else l=r.exec(u);return{isMatch:Boolean(l),match:l,output:u}};A.matchBase=(i,r,t,s=Hr.isWindows(t))=>{return(r instanceof RegExp?r:A.makeRe(r,t)).test(L1.basename(i))};A.isMatch=(i,r,t)=>A(r,t)(i);A.parse=(i,r)=>{if(Array.isArray(i))return i.map((t)=>A.parse(t,r));return Tr(i,{...r,fastpaths:!1})};A.scan=(i,r)=>W1(i,r);A.compileRe=(i,r,t=!1,s=!1)=>{if(t===!0)return i.output;let h=r||{},f=h.contains?"":"^",e=h.contains?"":"$",l=`${f}(?:${i.output})${e}`;if(i&&i.negated===!0)l=`^(?!${l}).*$`;let u=A.toRegex(l,r);if(s===!0)u.state=i;return u};A.makeRe=(i,r={},t=!1,s=!1)=>{if(!i||typeof i!=="string")throw new TypeError("Expected a non-empty string");let h={negated:!1,fastpaths:!0};if(r.fastpaths!==!1&&(i[0]==="."||i[0]==="*"))h.output=Tr.fastpaths(i,r);if(!h.output)h=Tr(i,r);return A.compileRe(h,r,t,s)};A.toRegex=(i,r)=>{try{let t=r||{};return new RegExp(i,t.flags||(t.nocase?"i":""))}catch(t){if(r&&r.debug===!0)throw t;return/$^/}};A.constants=z1;Vh.exports=A});var Oh=m((kS,Yh)=>{var Lh=I("util"),Wh=uh(),li=jh(),Rr=Ji(),Eh=(i)=>i===""||i==="./",zh=(i)=>{let r=i.indexOf("{");return r>-1&&i.indexOf("}",r)>-1},D=(i,r,t)=>{r=[].concat(r),i=[].concat(i);let s=new Set,h=new Set,f=new Set,e=0,l=(n)=>{if(f.add(n.output),t&&t.onResult)t.onResult(n)};for(let n=0;n<r.length;n++){let w=li(String(r[n]),{...t,onResult:l},!0),g=w.state.negated||w.state.negatedExtglob;if(g)e++;for(let x of i){let _=w(x,!0);if(!(g?!_.isMatch:_.isMatch))continue;if(g)s.add(_.output);else s.delete(_.output),h.add(_.output)}}let d=(e===r.length?[...f]:[...h]).filter((n)=>!s.has(n));if(t&&d.length===0){if(t.failglob===!0)throw new Error(`No matches found for "${r.join(", ")}"`);if(t.nonull===!0||t.nullglob===!0)return t.unescape?r.map((n)=>n.replace(/\\/g,"")):r}return d};D.match=D;D.matcher=(i,r)=>li(i,r);D.isMatch=(i,r,t)=>li(r,t)(i);D.any=D.isMatch;D.not=(i,r,t={})=>{r=[].concat(r).map(String);let s=new Set,h=[],e=new Set(D(i,r,{...t,onResult:(l)=>{if(t.onResult)t.onResult(l);h.push(l.output)}}));for(let l of h)if(!e.has(l))s.add(l);return[...s]};D.contains=(i,r,t)=>{if(typeof i!=="string")throw new TypeError(`Expected a string: "${Lh.inspect(i)}"`);if(Array.isArray(r))return r.some((s)=>D.contains(i,s,t));if(typeof r==="string"){if(Eh(i)||Eh(r))return!1;if(i.includes(r)||i.startsWith("./")&&i.slice(2).includes(r))return!0}return D.isMatch(i,r,{...t,contains:!0})};D.matchKeys=(i,r,t)=>{if(!Rr.isObject(i))throw new TypeError("Expected the first argument to be an object");let s=D(Object.keys(i),r,t),h={};for(let f of s)h[f]=i[f];return h};D.some=(i,r,t)=>{let s=[].concat(i);for(let h of[].concat(r)){let f=li(String(h),t);if(s.some((e)=>f(e)))return!0}return!1};D.every=(i,r,t)=>{let s=[].concat(i);for(let h of[].concat(r)){let f=li(String(h),t);if(!s.every((e)=>f(e)))return!1}return!0};D.all=(i,r,t)=>{if(typeof i!=="string")throw new TypeError(`Expected a string: "${Lh.inspect(i)}"`);return[].concat(r).every((s)=>li(s,t)(i))};D.capture=(i,r,t)=>{let s=Rr.isWindows(t),f=li.makeRe(String(i),{...t,capture:!0}).exec(s?Rr.toPosixSlashes(r):r);if(f)return f.slice(1).map((e)=>e===void 0?"":e)};D.makeRe=(...i)=>li.makeRe(...i);D.scan=(...i)=>li.scan(...i);D.parse=(i,r)=>{let t=[];for(let s of[].concat(i||[]))for(let h of Wh(String(s),r))t.push(li.parse(h,r));return t};D.braces=(i,r)=>{if(typeof i!=="string")throw new TypeError("Expected a string");if(r&&r.nobrace===!0||!zh(i))return[i];return Wh(i,r)};D.braceExpand=(i,r)=>{if(typeof i!=="string")throw new TypeError("Expected a string");return D.braces(i,{...r,expand:!0})};D.hasBraces=zh;Yh.exports=D});var bh=m((Ph)=>{Object.defineProperty(Ph,"__esModule",{value:!0});Ph.isAbsolute=Ph.partitionAbsoluteAndRelative=Ph.removeDuplicateSlashes=Ph.matchAny=Ph.convertPatternsToRe=Ph.makeRe=Ph.getPatternParts=Ph.expandBraceExpansion=Ph.expandPatternsWithBraceExpansion=Ph.isAffectDepthOfReadingPattern=Ph.endsWithSlashGlobStar=Ph.hasGlobStar=Ph.getBaseDirectory=Ph.isPatternRelatedToParentDirectory=Ph.getPatternsOutsideCurrentDirectory=Ph.getPatternsInsideCurrentDirectory=Ph.getPositivePatterns=Ph.getNegativePatterns=Ph.isPositivePattern=Ph.isNegativePattern=Ph.convertToNegativePattern=Ph.convertToPositivePattern=Ph.isDynamicPattern=Ph.isStaticPattern=void 0;var Zh=I("path"),O1=Es(),cr=Oh(),Uh="**",Z1="\\",U1=/[*?]|^!/,J1=/\[[^[]*]/,I1=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,Q1=/[!*+?@]\([^(]*\)/,X1=/,|\.\./,N1=/(?!^)\/{2,}/g;function Jh(i,r={}){return!Ih(i,r)}Ph.isStaticPattern=Jh;function Ih(i,r={}){if(i==="")return!1;if(r.caseSensitiveMatch===!1||i.includes(Z1))return!0;if(U1.test(i)||J1.test(i)||I1.test(i))return!0;if(r.extglob!==!1&&Q1.test(i))return!0;if(r.braceExpansion!==!1&&D1(i))return!0;return!1}Ph.isDynamicPattern=Ih;function D1(i){let r=i.indexOf("{");if(r===-1)return!1;let t=i.indexOf("}",r+1);if(t===-1)return!1;let s=i.slice(r,t);return X1.test(s)}function K1(i){return rr(i)?i.slice(1):i}Ph.convertToPositivePattern=K1;function P1(i){return"!"+i}Ph.convertToNegativePattern=P1;function rr(i){return i.startsWith("!")&&i[1]!=="("}Ph.isNegativePattern=rr;function Qh(i){return!rr(i)}Ph.isPositivePattern=Qh;function A1(i){return i.filter(rr)}Ph.getNegativePatterns=A1;function b1(i){return i.filter(Qh)}Ph.getPositivePatterns=b1;function G1(i){return i.filter((r)=>!ar(r))}Ph.getPatternsInsideCurrentDirectory=G1;function T1(i){return i.filter(ar)}Ph.getPatternsOutsideCurrentDirectory=T1;function ar(i){return i.startsWith("..")||i.startsWith("./..")}Ph.isPatternRelatedToParentDirectory=ar;function H1(i){return O1(i,{flipBackslashes:!1})}Ph.getBaseDirectory=H1;function R1(i){return i.includes(Uh)}Ph.hasGlobStar=R1;function Xh(i){return i.endsWith("/"+Uh)}Ph.endsWithSlashGlobStar=Xh;function c1(i){let r=Zh.basename(i);return Xh(i)||Jh(r)}Ph.isAffectDepthOfReadingPattern=c1;function a1(i){return i.reduce((r,t)=>{return r.concat(Nh(t))},[])}Ph.expandPatternsWithBraceExpansion=a1;function Nh(i){let r=cr.braces(i,{expand:!0,nodupes:!0,keepEscaping:!0});return r.sort((t,s)=>t.length-s.length),r.filter((t)=>t!=="")}Ph.expandBraceExpansion=Nh;function k1(i,r){let{parts:t}=cr.scan(i,Object.assign(Object.assign({},r),{parts:!0}));if(t.length===0)t=[i];if(t[0].startsWith("/"))t[0]=t[0].slice(1),t.unshift("");return t}Ph.getPatternParts=k1;function Dh(i,r){return cr.makeRe(i,r)}Ph.makeRe=Dh;function v1(i,r){return i.map((t)=>Dh(t,r))}Ph.convertPatternsToRe=v1;function o1(i,r){return r.some((t)=>t.test(i))}Ph.matchAny=o1;function p1(i){return i.replace(N1,"/")}Ph.removeDuplicateSlashes=p1;function ig(i){let r=[],t=[];for(let s of i)if(Kh(s))r.push(s);else t.push(s);return[r,t]}Ph.partitionAbsoluteAndRelative=ig;function Kh(i){return Zh.isAbsolute(i)}Ph.isAbsolute=Kh});var Rh=m((oS,Hh)=>{var Vg=I("stream"),Gh=Vg.PassThrough,jg=Array.prototype.slice;Hh.exports=Eg;function Eg(){let i=[],r=jg.call(arguments),t=!1,s=r[r.length-1];if(s&&!Array.isArray(s)&&s.pipe==null)r.pop();else s={};let h=s.end!==!1,f=s.pipeError===!0;if(s.objectMode==null)s.objectMode=!0;if(s.highWaterMark==null)s.highWaterMark=65536;let e=Gh(s);function l(){for(let n=0,w=arguments.length;n<w;n++)i.push(Th(arguments[n],s));return u(),this}function u(){if(t)return;t=!0;let n=i.shift();if(!n){process.nextTick(d);return}if(!Array.isArray(n))n=[n];let w=n.length+1;function g(){if(--w>0)return;t=!1,u()}function x(_){function C(){if(_.removeListener("merge2UnpipeEnd",C),_.removeListener("end",C),f)_.removeListener("error",L);g()}function L(M){e.emit("error",M)}if(_._readableState.endEmitted)return g();if(_.on("merge2UnpipeEnd",C),_.on("end",C),f)_.on("error",L);_.pipe(e,{end:!1}),_.resume()}for(let _=0;_<n.length;_++)x(n[_]);g()}function d(){if(t=!1,e.emit("queueDrain"),h)e.end()}if(e.setMaxListeners(0),e.add=l,e.on("unpipe",function(n){n.emit("merge2UnpipeEnd")}),r.length)l.apply(null,r);return e}function Th(i,r){if(!Array.isArray(i)){if(!i._readableState&&i.pipe)i=i.pipe(Gh(r));if(!i._readableState||!i.pause||!i.pipe)throw new Error("Only readable stream can be merged.");i.pause()}else for(let t=0,s=i.length;t<s;t++)i[t]=Th(i[t],r);return i}});var vh=m((ah)=>{Object.defineProperty(ah,"__esModule",{value:!0});ah.merge=void 0;var Lg=Rh();function Wg(i){let r=Lg(i);return i.forEach((t)=>{t.once("error",(s)=>r.emit("error",s))}),r.once("close",()=>ch(i)),r.once("end",()=>ch(i)),r}ah.merge=Wg;function ch(i){i.forEach((r)=>r.emit("close"))}});var rf=m((oh)=>{Object.defineProperty(oh,"__esModule",{value:!0});oh.isEmpty=oh.isString=void 0;function zg(i){return typeof i==="string"}oh.isString=zg;function Yg(i){return i===""}oh.isEmpty=Yg});var di=m((tf)=>{Object.defineProperty(tf,"__esModule",{value:!0});tf.string=tf.stream=tf.pattern=tf.path=tf.fs=tf.errno=tf.array=void 0;var Zg=es();tf.array=Zg;var Ug=ds();tf.errno=Ug;var Jg=_s();tf.fs=Jg;var Ig=qs();tf.path=Ig;var Qg=bh();tf.pattern=Qg;var Xg=vh();tf.stream=Xg;var Ng=rf();tf.string=Ng});var df=m((lf)=>{Object.defineProperty(lf,"__esModule",{value:!0});lf.convertPatternGroupToTask=lf.convertPatternGroupsToTasks=lf.groupPatternsByBaseDirectory=lf.getNegativePatternsAsPositive=lf.getPositivePatterns=lf.convertPatternsToTasks=lf.generate=void 0;var ti=di();function Tg(i,r){let t=hf(i,r),s=hf(r.ignore,r),h=ff(t),f=ef(t,s),e=h.filter((n)=>ti.pattern.isStaticPattern(n,r)),l=h.filter((n)=>ti.pattern.isDynamicPattern(n,r)),u=kr(e,f,!1),d=kr(l,f,!0);return u.concat(d)}lf.generate=Tg;function hf(i,r){let t=i;if(r.braceExpansion)t=ti.pattern.expandPatternsWithBraceExpansion(t);if(r.baseNameMatch)t=t.map((s)=>s.includes("/")?s:`**/${s}`);return t.map((s)=>ti.pattern.removeDuplicateSlashes(s))}function kr(i,r,t){let s=[],h=ti.pattern.getPatternsOutsideCurrentDirectory(i),f=ti.pattern.getPatternsInsideCurrentDirectory(i),e=vr(h),l=vr(f);if(s.push(...or(e,r,t)),"."in l)s.push(pr(".",f,r,t));else s.push(...or(l,r,t));return s}lf.convertPatternsToTasks=kr;function ff(i){return ti.pattern.getPositivePatterns(i)}lf.getPositivePatterns=ff;function ef(i,r){return ti.pattern.getNegativePatterns(i).concat(r).map(ti.pattern.convertToPositivePattern)}lf.getNegativePatternsAsPositive=ef;function vr(i){let r={};return i.reduce((t,s)=>{let h=ti.pattern.getBaseDirectory(s);if(h in t)t[h].push(s);else t[h]=[s];return t},r)}lf.groupPatternsByBaseDirectory=vr;function or(i,r,t){return Object.keys(i).map((s)=>{return pr(s,i[s],r,t)})}lf.convertPatternGroupsToTasks=or;function pr(i,r,t,s){return{dynamic:s,positive:r,negative:t,base:i,patterns:[].concat(r,t.map(ti.pattern.convertToNegativePattern))}}lf.convertPatternGroupToTask=pr});var _f=m((wf)=>{Object.defineProperty(wf,"__esModule",{value:!0});wf.read=void 0;function og(i,r,t){r.fs.lstat(i,(s,h)=>{if(s!==null){nf(t,s);return}if(!h.isSymbolicLink()||!r.followSymbolicLink){it(t,h);return}r.fs.stat(i,(f,e)=>{if(f!==null){if(r.throwErrorOnBrokenSymbolicLink){nf(t,f);return}it(t,h);return}if(r.markSymbolicLink)e.isSymbolicLink=()=>!0;it(t,e)})})}wf.read=og;function nf(i,r){i(r)}function it(i,r){i(null,r)}});var Sf=m((mf)=>{Object.defineProperty(mf,"__esModule",{value:!0});mf.read=void 0;function pg(i,r){let t=r.fs.lstatSync(i);if(!t.isSymbolicLink()||!r.followSymbolicLink)return t;try{let s=r.fs.statSync(i);if(r.markSymbolicLink)s.isSymbolicLink=()=>!0;return s}catch(s){if(!r.throwErrorOnBrokenSymbolicLink)return t;throw s}}mf.read=pg});var qf=m(($f)=>{Object.defineProperty($f,"__esModule",{value:!0});$f.createFileSystemAdapter=$f.FILE_SYSTEM_ADAPTER=void 0;var tr=I("fs");$f.FILE_SYSTEM_ADAPTER={lstat:tr.lstat,stat:tr.stat,lstatSync:tr.lstatSync,statSync:tr.statSync};function i_(i){if(i===void 0)return $f.FILE_SYSTEM_ADAPTER;return Object.assign(Object.assign({},$f.FILE_SYSTEM_ADAPTER),i)}$f.createFileSystemAdapter=i_});var Mf=m((Ff)=>{Object.defineProperty(Ff,"__esModule",{value:!0});var r_=qf();class xf{constructor(i={}){this._options=i,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=r_.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(i,r){return i!==null&&i!==void 0?i:r}}Ff.default=xf});var Fi=m((Vf)=>{Object.defineProperty(Vf,"__esModule",{value:!0});Vf.statSync=Vf.stat=Vf.Settings=void 0;var Bf=_f(),s_=Sf(),tt=Mf();Vf.Settings=tt.default;function h_(i,r,t){if(typeof r==="function"){Bf.read(i,st(),r);return}Bf.read(i,st(r),t)}Vf.stat=h_;function f_(i,r){let t=st(r);return s_.read(i,t)}Vf.statSync=f_;function st(i={}){if(i instanceof tt.default)return i;return new tt.default(i)}});var Wf=m((u$,Lf)=>{/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Ef;Lf.exports=typeof queueMicrotask==="function"?queueMicrotask.bind(typeof window!=="undefined"?window:global):(i)=>(Ef||(Ef=Promise.resolve())).then(i).catch((r)=>setTimeout(()=>{throw r},0))});var Yf=m((d$,zf)=>{/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */zf.exports=d_;var u_=Wf();function d_(i,r){let t,s,h,f=!0;if(Array.isArray(i))t=[],s=i.length;else h=Object.keys(i),t={},s=h.length;function e(u){function d(){if(r)r(u,t);r=null}if(f)u_(d);else d()}function l(u,d,n){if(t[u]=n,--s===0||d)e(d)}if(!s)e(null);else if(h)h.forEach(function(u){i[u](function(d,n){l(u,d,n)})});else i.forEach(function(u,d){u(function(n,w){l(d,n,w)})});f=!1}});var ht=m((Uf)=>{Object.defineProperty(Uf,"__esModule",{value:!0});Uf.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var sr=process.versions.node.split(".");if(sr[0]===void 0||sr[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var Of=Number.parseInt(sr[0],10),n_=Number.parseInt(sr[1],10),Zf=10,w_=10,g_=Of>Zf,__=Of===Zf&&n_>=w_;Uf.IS_SUPPORT_READDIR_WITH_FILE_TYPES=g_||__});var Nf=m((Qf)=>{Object.defineProperty(Qf,"__esModule",{value:!0});Qf.createDirentFromStats=void 0;class If{constructor(i,r){this.name=i,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}}function m_(i,r){return new If(i,r)}Qf.createDirentFromStats=m_});var ft=m((Df)=>{Object.defineProperty(Df,"__esModule",{value:!0});Df.fs=void 0;var y_=Nf();Df.fs=y_});var et=m((Pf)=>{Object.defineProperty(Pf,"__esModule",{value:!0});Pf.joinPathSegments=void 0;function S_(i,r,t){if(i.endsWith(t))return i+r;return i+t+r}Pf.joinPathSegments=S_});var kf=m((cf)=>{Object.defineProperty(cf,"__esModule",{value:!0});cf.readdir=cf.readdirWithFileTypes=cf.read=void 0;var $_=Fi(),bf=Yf(),C_=ht(),Gf=ft(),Tf=et();function q_(i,r,t){if(!r.stats&&C_.IS_SUPPORT_READDIR_WITH_FILE_TYPES){Hf(i,r,t);return}Rf(i,r,t)}cf.read=q_;function Hf(i,r,t){r.fs.readdir(i,{withFileTypes:!0},(s,h)=>{if(s!==null){hr(t,s);return}let f=h.map((l)=>({dirent:l,name:l.name,path:Tf.joinPathSegments(i,l.name,r.pathSegmentSeparator)}));if(!r.followSymbolicLinks){lt(t,f);return}let e=f.map((l)=>x_(l,r));bf(e,(l,u)=>{if(l!==null){hr(t,l);return}lt(t,u)})})}cf.readdirWithFileTypes=Hf;function x_(i,r){return(t)=>{if(!i.dirent.isSymbolicLink()){t(null,i);return}r.fs.stat(i.path,(s,h)=>{if(s!==null){if(r.throwErrorOnBrokenSymbolicLink){t(s);return}t(null,i);return}i.dirent=Gf.fs.createDirentFromStats(i.name,h),t(null,i)})}}function Rf(i,r,t){r.fs.readdir(i,(s,h)=>{if(s!==null){hr(t,s);return}let f=h.map((e)=>{let l=Tf.joinPathSegments(i,e,r.pathSegmentSeparator);return(u)=>{$_.stat(l,r.fsStatSettings,(d,n)=>{if(d!==null){u(d);return}let w={name:e,path:l,dirent:Gf.fs.createDirentFromStats(e,n)};if(r.stats)w.stats=n;u(null,w)})}});bf(f,(e,l)=>{if(e!==null){hr(t,e);return}lt(t,l)})})}cf.readdir=Rf;function hr(i,r){i(r)}function lt(i,r){i(null,r)}});var se=m((re)=>{Object.defineProperty(re,"__esModule",{value:!0});re.readdir=re.readdirWithFileTypes=re.read=void 0;var B_=Fi(),V_=ht(),vf=ft(),of=et();function j_(i,r){if(!r.stats&&V_.IS_SUPPORT_READDIR_WITH_FILE_TYPES)return pf(i,r);return ie(i,r)}re.read=j_;function pf(i,r){return r.fs.readdirSync(i,{withFileTypes:!0}).map((s)=>{let h={dirent:s,name:s.name,path:of.joinPathSegments(i,s.name,r.pathSegmentSeparator)};if(h.dirent.isSymbolicLink()&&r.followSymbolicLinks)try{let f=r.fs.statSync(h.path);h.dirent=vf.fs.createDirentFromStats(h.name,f)}catch(f){if(r.throwErrorOnBrokenSymbolicLink)throw f}return h})}re.readdirWithFileTypes=pf;function ie(i,r){return r.fs.readdirSync(i).map((s)=>{let h=of.joinPathSegments(i,s,r.pathSegmentSeparator),f=B_.statSync(h,r.fsStatSettings),e={name:s,path:h,dirent:vf.fs.createDirentFromStats(s,f)};if(r.stats)e.stats=f;return e})}re.readdir=ie});var ee=m((he)=>{Object.defineProperty(he,"__esModule",{value:!0});he.createFileSystemAdapter=he.FILE_SYSTEM_ADAPTER=void 0;var Li=I("fs");he.FILE_SYSTEM_ADAPTER={lstat:Li.lstat,stat:Li.stat,lstatSync:Li.lstatSync,statSync:Li.statSync,readdir:Li.readdir,readdirSync:Li.readdirSync};function W_(i){if(i===void 0)return he.FILE_SYSTEM_ADAPTER;return Object.assign(Object.assign({},he.FILE_SYSTEM_ADAPTER),i)}he.createFileSystemAdapter=W_});var de=m((ue)=>{Object.defineProperty(ue,"__esModule",{value:!0});var z_=I("path"),Y_=Fi(),O_=ee();class le{constructor(i={}){this._options=i,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=O_.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,z_.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new Y_.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(i,r){return i!==null&&i!==void 0?i:r}}ue.default=le});var fr=m((we)=>{Object.defineProperty(we,"__esModule",{value:!0});we.Settings=we.scandirSync=we.scandir=void 0;var ne=kf(),U_=se(),dt=de();we.Settings=dt.default;function J_(i,r,t){if(typeof r==="function"){ne.read(i,nt(),r);return}ne.read(i,nt(r),t)}we.scandir=J_;function I_(i,r){let t=nt(r);return U_.read(i,t)}we.scandirSync=I_;function nt(i={}){if(i instanceof dt.default)return i;return new dt.default(i)}});var me=m((q$,_e)=>{function N_(i){var r=new i,t=r;function s(){var f=r;if(f.next)r=f.next;else r=new i,t=r;return f.next=null,f}function h(f){t.next=f,t=f}return{get:s,release:h}}_e.exports=N_});var Se=m((x$,wt)=>{var D_=me();function ye(i,r,t){if(typeof i==="function")t=r,r=i,i=null;if(!(t>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");var s=D_(K_),h=null,f=null,e=0,l=null,u={push:C,drain:a,saturated:a,pause:n,paused:!1,get concurrency(){return t},set concurrency(j){if(!(j>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");if(t=j,u.paused)return;for(;h&&e<t;)e++,M()},running:d,resume:x,idle:_,length:w,getQueue:g,unshift:L,empty:a,kill:E,killAndDrain:V,error:O,abort:J};return u;function d(){return e}function n(){u.paused=!0}function w(){var j=h,Y=0;while(j)j=j.next,Y++;return Y}function g(){var j=h,Y=[];while(j)Y.push(j.value),j=j.next;return Y}function x(){if(!u.paused)return;if(u.paused=!1,h===null){e++,M();return}for(;h&&e<t;)e++,M()}function _(){return e===0&&u.length()===0}function C(j,Y){var F=s.get();if(F.context=i,F.release=M,F.value=j,F.callback=Y||a,F.errorHandler=l,e>=t||u.paused)if(f)f.next=F,f=F;else h=F,f=F,u.saturated();else e++,r.call(i,F.value,F.worked)}function L(j,Y){var F=s.get();if(F.context=i,F.release=M,F.value=j,F.callback=Y||a,F.errorHandler=l,e>=t||u.paused)if(h)F.next=h,h=F;else h=F,f=F,u.saturated();else e++,r.call(i,F.value,F.worked)}function M(j){if(j)s.release(j);var Y=h;if(Y&&e<=t)if(!u.paused){if(f===h)f=null;if(h=Y.next,Y.next=null,r.call(i,Y.value,Y.worked),f===null)u.empty()}else e--;else if(--e===0)u.drain()}function E(){h=null,f=null,u.drain=a}function V(){h=null,f=null,u.drain(),u.drain=a}function J(){var j=h;h=null,f=null;while(j){var{next:Y,callback:F,errorHandler:Z,value:Q,context:$}=j;if(j.value=null,j.callback=a,j.errorHandler=null,Z)Z(new Error("abort"),Q);F.call($,new Error("abort")),j.release(j),j=Y}u.drain=a}function O(j){l=j}}function a(){}function K_(){this.value=null,this.callback=a,this.next=null,this.release=a,this.context=null,this.errorHandler=null;var i=this;this.worked=function r(t,s){var{callback:h,errorHandler:f,value:e}=i;if(i.value=null,i.callback=a,i.errorHandler)f(t,e);h.call(i.context,t,s),i.release(i)}}function P_(i,r,t){if(typeof i==="function")t=r,r=i,i=null;function s(n,w){r.call(this,n).then(function(g){w(null,g)},w)}var h=ye(i,s,t),f=h.push,e=h.unshift;return h.push=l,h.unshift=u,h.drained=d,h;function l(n){var w=new Promise(function(g,x){f(n,function(_,C){if(_){x(_);return}g(C)})});return w.catch(a),w}function u(n){var w=new Promise(function(g,x){e(n,function(_,C){if(_){x(_);return}g(C)})});return w.catch(a),w}function d(){var n=new Promise(function(w){process.nextTick(function(){if(h.idle())w();else{var g=h.drain;h.drain=function(){if(typeof g==="function")g();w(),h.drain=g}}})});return n}}wt.exports=ye;wt.exports.promise=P_});var er=m(($e)=>{Object.defineProperty($e,"__esModule",{value:!0});$e.joinPathSegments=$e.replacePathSegmentSeparator=$e.isAppliedFilter=$e.isFatalError=void 0;function A_(i,r){if(i.errorFilter===null)return!0;return!i.errorFilter(r)}$e.isFatalError=A_;function b_(i,r){return i===null||i(r)}$e.isAppliedFilter=b_;function G_(i,r){return i.split(/[/\\]/).join(r)}$e.replacePathSegmentSeparator=G_;function T_(i,r,t){if(i==="")return r;if(i.endsWith(t))return i+r;return i+t+r}$e.joinPathSegments=T_});var gt=m((xe)=>{Object.defineProperty(xe,"__esModule",{value:!0});var a_=er();class qe{constructor(i,r){this._root=i,this._settings=r,this._root=a_.replacePathSegmentSeparator(i,r.pathSegmentSeparator)}}xe.default=qe});var _t=m((Me)=>{Object.defineProperty(Me,"__esModule",{value:!0});var v_=I("events"),o_=fr(),p_=Se(),lr=er(),im=gt();class Fe extends im.default{constructor(i,r){super(i,r);this._settings=r,this._scandir=o_.scandir,this._emitter=new v_.EventEmitter,this._queue=p_(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{if(!this._isFatalError)this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(i){this._emitter.on("entry",i)}onError(i){this._emitter.once("error",i)}onEnd(i){this._emitter.once("end",i)}_pushToQueue(i,r){let t={directory:i,base:r};this._queue.push(t,(s)=>{if(s!==null)this._handleError(s)})}_worker(i,r){this._scandir(i.directory,this._settings.fsScandirSettings,(t,s)=>{if(t!==null){r(t,void 0);return}for(let h of s)this._handleEntry(h,i.base);r(null,void 0)})}_handleError(i){if(this._isDestroyed||!lr.isFatalError(this._settings,i))return;this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",i)}_handleEntry(i,r){if(this._isDestroyed||this._isFatalError)return;let t=i.path;if(r!==void 0)i.path=lr.joinPathSegments(r,i.name,this._settings.pathSegmentSeparator);if(lr.isAppliedFilter(this._settings.entryFilter,i))this._emitEntry(i);if(i.dirent.isDirectory()&&lr.isAppliedFilter(this._settings.deepFilter,i))this._pushToQueue(t,r===void 0?void 0:i.path)}_emitEntry(i){this._emitter.emit("entry",i)}}Me.default=Fe});var je=m((Ve)=>{Object.defineProperty(Ve,"__esModule",{value:!0});var tm=_t();class Be{constructor(i,r){this._root=i,this._settings=r,this._reader=new tm.default(this._root,this._settings),this._storage=[]}read(i){this._reader.onError((r)=>{sm(i,r)}),this._reader.onEntry((r)=>{this._storage.push(r)}),this._reader.onEnd(()=>{hm(i,this._storage)}),this._reader.read()}}Ve.default=Be;function sm(i,r){i(r)}function hm(i,r){i(null,r)}});var We=m((Le)=>{Object.defineProperty(Le,"__esModule",{value:!0});var em=I("stream"),lm=_t();class Ee{constructor(i,r){this._root=i,this._settings=r,this._reader=new lm.default(this._root,this._settings),this._stream=new em.Readable({objectMode:!0,read:()=>{},destroy:()=>{if(!this._reader.isDestroyed)this._reader.destroy()}})}read(){return this._reader.onError((i)=>{this._stream.emit("error",i)}),this._reader.onEntry((i)=>{this._stream.push(i)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}}Le.default=Ee});var Oe=m((Ye)=>{Object.defineProperty(Ye,"__esModule",{value:!0});var dm=fr(),ur=er(),nm=gt();class ze extends nm.default{constructor(){super(...arguments);this._scandir=dm.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(i,r){this._queue.add({directory:i,base:r})}_handleQueue(){for(let i of this._queue.values())this._handleDirectory(i.directory,i.base)}_handleDirectory(i,r){try{let t=this._scandir(i,this._settings.fsScandirSettings);for(let s of t)this._handleEntry(s,r)}catch(t){this._handleError(t)}}_handleError(i){if(!ur.isFatalError(this._settings,i))return;throw i}_handleEntry(i,r){let t=i.path;if(r!==void 0)i.path=ur.joinPathSegments(r,i.name,this._settings.pathSegmentSeparator);if(ur.isAppliedFilter(this._settings.entryFilter,i))this._pushToStorage(i);if(i.dirent.isDirectory()&&ur.isAppliedFilter(this._settings.deepFilter,i))this._pushToQueue(t,r===void 0?void 0:i.path)}_pushToStorage(i){this._storage.push(i)}}Ye.default=ze});var Je=m((Ue)=>{Object.defineProperty(Ue,"__esModule",{value:!0});var gm=Oe();class Ze{constructor(i,r){this._root=i,this._settings=r,this._reader=new gm.default(this._root,this._settings)}read(){return this._reader.read()}}Ue.default=Ze});var Xe=m((Qe)=>{Object.defineProperty(Qe,"__esModule",{value:!0});var mm=I("path"),ym=fr();class Ie{constructor(i={}){this._options=i,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,mm.sep),this.fsScandirSettings=new ym.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(i,r){return i!==null&&i!==void 0?i:r}}Qe.default=Ie});var nr=m((De)=>{Object.defineProperty(De,"__esModule",{value:!0});De.Settings=De.walkStream=De.walkSync=De.walk=void 0;var Ne=je(),$m=We(),Cm=Je(),mt=Xe();De.Settings=mt.default;function qm(i,r,t){if(typeof r==="function"){new Ne.default(i,dr()).read(r);return}new Ne.default(i,dr(r)).read(t)}De.walk=qm;function xm(i,r){let t=dr(r);return new Cm.default(i,t).read()}De.walkSync=xm;function Fm(i,r){let t=dr(r);return new $m.default(i,t).read()}De.walkStream=Fm;function dr(i={}){if(i instanceof mt.default)return i;return new mt.default(i)}});var wr=m((be)=>{Object.defineProperty(be,"__esModule",{value:!0});var jm=I("path"),Em=Fi(),Pe=di();class Ae{constructor(i){this._settings=i,this._fsStatSettings=new Em.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(i){return jm.resolve(this._settings.cwd,i)}_makeEntry(i,r){let t={name:r,path:r,dirent:Pe.fs.createDirentFromStats(r,i)};if(this._settings.stats)t.stats=i;return t}_isFatalError(i){return!Pe.errno.isEnoentCodeError(i)&&!this._settings.suppressErrors}}be.default=Ae});var yt=m((Te)=>{Object.defineProperty(Te,"__esModule",{value:!0});var Wm=I("stream"),zm=Fi(),Ym=nr(),Om=wr();class Ge extends Om.default{constructor(){super(...arguments);this._walkStream=Ym.walkStream,this._stat=zm.stat}dynamic(i,r){return this._walkStream(i,r)}static(i,r){let t=i.map(this._getFullEntryPath,this),s=new Wm.PassThrough({objectMode:!0});s._write=(h,f,e)=>{return this._getEntry(t[h],i[h],r).then((l)=>{if(l!==null&&r.entryFilter(l))s.push(l);if(h===t.length-1)s.end();e()}).catch(e)};for(let h=0;h<t.length;h++)s.write(h);return s}_getEntry(i,r,t){return this._getStat(i).then((s)=>this._makeEntry(s,r)).catch((s)=>{if(t.errorFilter(s))return null;throw s})}_getStat(i){return new Promise((r,t)=>{this._stat(i,this._fsStatSettings,(s,h)=>{return s===null?r(h):t(s)})})}}Te.default=Ge});var ce=m((Re)=>{Object.defineProperty(Re,"__esModule",{value:!0});var Um=nr(),Jm=wr(),Im=yt();class He extends Jm.default{constructor(){super(...arguments);this._walkAsync=Um.walk,this._readerStream=new Im.default(this._settings)}dynamic(i,r){return new Promise((t,s)=>{this._walkAsync(i,r,(h,f)=>{if(h===null)t(f);else s(h)})})}async static(i,r){let t=[],s=this._readerStream.static(i,r);return new Promise((h,f)=>{s.once("error",f),s.on("data",(e)=>t.push(e)),s.once("end",()=>h(t))})}}Re.default=He});var ve=m((ke)=>{Object.defineProperty(ke,"__esModule",{value:!0});var Qi=di();class ae{constructor(i,r,t){this._patterns=i,this._settings=r,this._micromatchOptions=t,this._storage=[],this._fillStorage()}_fillStorage(){for(let i of this._patterns){let r=this._getPatternSegments(i),t=this._splitSegmentsIntoSections(r);this._storage.push({complete:t.length<=1,pattern:i,segments:r,sections:t})}}_getPatternSegments(i){return Qi.pattern.getPatternParts(i,this._micromatchOptions).map((t)=>{if(!Qi.pattern.isDynamicPattern(t,this._settings))return{dynamic:!1,pattern:t};return{dynamic:!0,pattern:t,patternRe:Qi.pattern.makeRe(t,this._micromatchOptions)}})}_splitSegmentsIntoSections(i){return Qi.array.splitWhen(i,(r)=>r.dynamic&&Qi.pattern.hasGlobStar(r.pattern))}}ke.default=ae});var il=m((pe)=>{Object.defineProperty(pe,"__esModule",{value:!0});var Nm=ve();class oe extends Nm.default{match(i){let r=i.split("/"),t=r.length,s=this._storage.filter((h)=>!h.complete||h.segments.length>t);for(let h of s){let f=h.sections[0];if(!h.complete&&t>f.length)return!0;if(r.every((l,u)=>{let d=h.segments[u];if(d.dynamic&&d.patternRe.test(l))return!0;if(!d.dynamic&&d.pattern===l)return!0;return!1}))return!0}return!1}}pe.default=oe});var sl=m((tl)=>{Object.defineProperty(tl,"__esModule",{value:!0});var gr=di(),Km=il();class rl{constructor(i,r){this._settings=i,this._micromatchOptions=r}getFilter(i,r,t){let s=this._getMatcher(r),h=this._getNegativePatternsRe(t);return(f)=>this._filter(i,f,s,h)}_getMatcher(i){return new Km.default(i,this._settings,this._micromatchOptions)}_getNegativePatternsRe(i){let r=i.filter(gr.pattern.isAffectDepthOfReadingPattern);return gr.pattern.convertPatternsToRe(r,this._micromatchOptions)}_filter(i,r,t,s){if(this._isSkippedByDeep(i,r.path))return!1;if(this._isSkippedSymbolicLink(r))return!1;let h=gr.path.removeLeadingDotSegment(r.path);if(this._isSkippedByPositivePatterns(h,t))return!1;return this._isSkippedByNegativePatterns(h,s)}_isSkippedByDeep(i,r){if(this._settings.deep===1/0)return!1;return this._getEntryLevel(i,r)>=this._settings.deep}_getEntryLevel(i,r){let t=r.split("/").length;if(i==="")return t;let s=i.split("/").length;return t-s}_isSkippedSymbolicLink(i){return!this._settings.followSymbolicLinks&&i.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(i,r){return!this._settings.baseNameMatch&&!r.match(i)}_isSkippedByNegativePatterns(i,r){return!gr.pattern.matchAny(i,r)}}tl.default=rl});var el=m((fl)=>{Object.defineProperty(fl,"__esModule",{value:!0});var _i=di();class hl{constructor(i,r){this._settings=i,this._micromatchOptions=r,this.index=new Map}getFilter(i,r){let[t,s]=_i.pattern.partitionAbsoluteAndRelative(r),h={positive:{all:_i.pattern.convertPatternsToRe(i,this._micromatchOptions)},negative:{absolute:_i.pattern.convertPatternsToRe(t,Object.assign(Object.assign({},this._micromatchOptions),{dot:!0})),relative:_i.pattern.convertPatternsToRe(s,Object.assign(Object.assign({},this._micromatchOptions),{dot:!0}))}};return(f)=>this._filter(f,h)}_filter(i,r){let t=_i.path.removeLeadingDotSegment(i.path);if(this._settings.unique&&this._isDuplicateEntry(t))return!1;if(this._onlyFileFilter(i)||this._onlyDirectoryFilter(i))return!1;let s=this._isMatchToPatternsSet(t,r,i.dirent.isDirectory());if(this._settings.unique&&s)this._createIndexRecord(t);return s}_isDuplicateEntry(i){return this.index.has(i)}_createIndexRecord(i){this.index.set(i,void 0)}_onlyFileFilter(i){return this._settings.onlyFiles&&!i.dirent.isFile()}_onlyDirectoryFilter(i){return this._settings.onlyDirectories&&!i.dirent.isDirectory()}_isMatchToPatternsSet(i,r,t){if(!this._isMatchToPatterns(i,r.positive.all,t))return!1;if(this._isMatchToPatterns(i,r.negative.relative,t))return!1;if(this._isMatchToAbsoluteNegative(i,r.negative.absolute,t))return!1;return!0}_isMatchToAbsoluteNegative(i,r,t){if(r.length===0)return!1;let s=_i.path.makeAbsolute(this._settings.cwd,i);return this._isMatchToPatterns(s,r,t)}_isMatchToPatterns(i,r,t){if(r.length===0)return!1;let s=_i.pattern.matchAny(i,r);if(!s&&t)return _i.pattern.matchAny(i+"/",r);return s}}fl.default=hl});var dl=m((ul)=>{Object.defineProperty(ul,"__esModule",{value:!0});var bm=di();class ll{constructor(i){this._settings=i}getFilter(){return(i)=>this._isNonFatalError(i)}_isNonFatalError(i){return bm.errno.isEnoentCodeError(i)||this._settings.suppressErrors}}ul.default=ll});var _l=m((gl)=>{Object.defineProperty(gl,"__esModule",{value:!0});var nl=di();class wl{constructor(i){this._settings=i}getTransformer(){return(i)=>this._transform(i)}_transform(i){let r=i.path;if(this._settings.absolute)r=nl.path.makeAbsolute(this._settings.cwd,r),r=nl.path.unixify(r);if(this._settings.markDirectories&&i.dirent.isDirectory())r+="/";if(!this._settings.objectMode)return r;return Object.assign(Object.assign({},i),{path:r})}}gl.default=wl});var _r=m((yl)=>{Object.defineProperty(yl,"__esModule",{value:!0});var Hm=I("path"),Rm=sl(),cm=el(),am=dl(),km=_l();class ml{constructor(i){this._settings=i,this.errorFilter=new am.default(this._settings),this.entryFilter=new cm.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new Rm.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new km.default(this._settings)}_getRootDirectory(i){return Hm.resolve(this._settings.cwd,i.base)}_getReaderOptions(i){let r=i.base==="."?"":i.base;return{basePath:r,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(r,i.positive,i.negative),entryFilter:this.entryFilter.getFilter(i.positive,i.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}}yl.default=ml});var Cl=m(($l)=>{Object.defineProperty($l,"__esModule",{value:!0});var om=ce(),pm=_r();class Sl extends pm.default{constructor(){super(...arguments);this._reader=new om.default(this._settings)}async read(i){let r=this._getRootDirectory(i),t=this._getReaderOptions(i);return(await this.api(r,i,t)).map((h)=>t.transform(h))}api(i,r,t){if(r.dynamic)return this._reader.dynamic(i,t);return this._reader.static(r.patterns,t)}}$l.default=Sl});var Fl=m((xl)=>{Object.defineProperty(xl,"__esModule",{value:!0});var r0=I("stream"),t0=yt(),s0=_r();class ql extends s0.default{constructor(){super(...arguments);this._reader=new t0.default(this._settings)}read(i){let r=this._getRootDirectory(i),t=this._getReaderOptions(i),s=this.api(r,i,t),h=new r0.Readable({objectMode:!0,read:()=>{}});return s.once("error",(f)=>h.emit("error",f)).on("data",(f)=>h.emit("data",t.transform(f))).once("end",()=>h.emit("end")),h.once("close",()=>s.destroy()),h}api(i,r,t){if(r.dynamic)return this._reader.dynamic(i,t);return this._reader.static(r.patterns,t)}}xl.default=ql});var Vl=m((Bl)=>{Object.defineProperty(Bl,"__esModule",{value:!0});var f0=Fi(),e0=nr(),l0=wr();class Ml extends l0.default{constructor(){super(...arguments);this._walkSync=e0.walkSync,this._statSync=f0.statSync}dynamic(i,r){return this._walkSync(i,r)}static(i,r){let t=[];for(let s of i){let h=this._getFullEntryPath(s),f=this._getEntry(h,s,r);if(f===null||!r.entryFilter(f))continue;t.push(f)}return t}_getEntry(i,r,t){try{let s=this._getStat(i);return this._makeEntry(s,r)}catch(s){if(t.errorFilter(s))return null;throw s}}_getStat(i){return this._statSync(i,this._fsStatSettings)}}Bl.default=Ml});var Ll=m((El)=>{Object.defineProperty(El,"__esModule",{value:!0});var d0=Vl(),n0=_r();class jl extends n0.default{constructor(){super(...arguments);this._reader=new d0.default(this._settings)}read(i){let r=this._getRootDirectory(i),t=this._getReaderOptions(i);return this.api(r,i,t).map(t.transform)}api(i,r,t){if(r.dynamic)return this._reader.dynamic(i,t);return this._reader.static(r.patterns,t)}}El.default=jl});var Yl=m((zl)=>{Object.defineProperty(zl,"__esModule",{value:!0});zl.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var Wi=I("fs"),g0=I("os"),_0=Math.max(g0.cpus().length,1);zl.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:Wi.lstat,lstatSync:Wi.lstatSync,stat:Wi.stat,statSync:Wi.statSync,readdir:Wi.readdir,readdirSync:Wi.readdirSync};class Wl{constructor(i={}){if(this._options=i,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,_0),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories)this.onlyFiles=!1;if(this.stats)this.objectMode=!0;this.ignore=[].concat(this.ignore)}_getValue(i,r){return i===void 0?r:i}_getFileSystemMethods(i={}){return Object.assign(Object.assign({},zl.DEFAULT_FILE_SYSTEM_ADAPTER),i)}}zl.default=Wl});var xt=m((T$,Zl)=>{var Ol=df(),y0=Cl(),S0=Fl(),$0=Ll(),$t=Yl(),ii=di();async function Ct(i,r){si(i);let t=qt(i,y0.default,r),s=await Promise.all(t);return ii.array.flatten(s)}(function(i){i.glob=i,i.globSync=r,i.globStream=t,i.async=i;function r(d,n){si(d);let w=qt(d,$0.default,n);return ii.array.flatten(w)}i.sync=r;function t(d,n){si(d);let w=qt(d,S0.default,n);return ii.stream.merge(w)}i.stream=t;function s(d,n){si(d);let w=[].concat(d),g=new $t.default(n);return Ol.generate(w,g)}i.generateTasks=s;function h(d,n){si(d);let w=new $t.default(n);return ii.pattern.isDynamicPattern(d,w)}i.isDynamicPattern=h;function f(d){return si(d),ii.path.escape(d)}i.escapePath=f;function e(d){return si(d),ii.path.convertPathToPattern(d)}i.convertPathToPattern=e;let l;(function(d){function n(g){return si(g),ii.path.escapePosixPath(g)}d.escapePath=n;function w(g){return si(g),ii.path.convertPosixPathToPattern(g)}d.convertPathToPattern=w})(l=i.posix||(i.posix={}));let u;(function(d){function n(g){return si(g),ii.path.escapeWindowsPath(g)}d.escapePath=n;function w(g){return si(g),ii.path.convertWindowsPathToPattern(g)}d.convertPathToPattern=w})(u=i.win32||(i.win32={}))})(Ct||(Ct={}));function qt(i,r,t){let s=[].concat(i),h=new $t.default(t),f=Ol.generate(s,h),e=new r(h);return f.map(e.read,e)}function si(i){if(![].concat(i).every((s)=>ii.string.isString(s)&&!ii.string.isEmpty(s)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}Zl.exports=Ct});var Gl=m((rC,Xi)=>{var M0=typeof process!=="undefined"&&process.env.TERM_PROGRAM==="Hyper",B0=typeof process!=="undefined"&&process.platform==="win32",Pl=typeof process!=="undefined"&&process.platform==="linux",Bt={ballotDisabled:"\u2612",ballotOff:"\u2610",ballotOn:"\u2611",bullet:"\u2022",bulletWhite:"\u25E6",fullBlock:"\u2588",heart:"\u2764",identicalTo:"\u2261",line:"\u2500",mark:"\u203B",middot:"\xB7",minus:"\uFF0D",multiplication:"\xD7",obelus:"\xF7",pencilDownRight:"\u270E",pencilRight:"\u270F",pencilUpRight:"\u2710",percent:"%",pilcrow2:"\u2761",pilcrow:"\xB6",plusMinus:"\xB1",question:"?",section:"\xA7",starsOff:"\u2606",starsOn:"\u2605",upDownArrow:"\u2195"},Al=Object.assign({},Bt,{check:"\u221A",cross:"\xD7",ellipsisLarge:"...",ellipsis:"...",info:"i",questionSmall:"?",pointer:">",pointerSmall:"\xBB",radioOff:"( )",radioOn:"(*)",warning:"\u203C"}),bl=Object.assign({},Bt,{ballotCross:"\u2718",check:"\u2714",cross:"\u2716",ellipsisLarge:"\u22EF",ellipsis:"\u2026",info:"\u2139",questionFull:"\uFF1F",questionSmall:"\uFE56",pointer:Pl?"\u25B8":"\u276F",pointerSmall:Pl?"\u2023":"\u203A",radioOff:"\u25EF",radioOn:"\u25C9",warning:"\u26A0"});Xi.exports=B0&&!M0?Al:bl;Reflect.defineProperty(Xi.exports,"common",{enumerable:!1,value:Bt});Reflect.defineProperty(Xi.exports,"windows",{enumerable:!1,value:Al});Reflect.defineProperty(Xi.exports,"other",{enumerable:!1,value:bl})});var mr=m((tC,Vt)=>{var V0=(i)=>i!==null&&typeof i==="object"&&!Array.isArray(i),j0=/[\u001b\u009b][[\]#;?()]*(?:(?:(?:[^\W_]*;?[^\W_]*)\u0007)|(?:(?:[0-9]{1,4}(;[0-9]{0,4})*)?[~0-9=<>cf-nqrtyA-PRZ]))/g,E0=()=>{if(typeof process!=="undefined")return process.env.FORCE_COLOR!=="0";return!1},Tl=()=>{let i={enabled:E0(),visible:!0,styles:{},keys:{}},r=(f)=>{let e=f.open=`\x1B[${f.codes[0]}m`,l=f.close=`\x1B[${f.codes[1]}m`,u=f.regex=new RegExp(`\\u001b\\[${f.codes[1]}m`,"g");return f.wrap=(d,n)=>{if(d.includes(l))d=d.replace(u,l+e);let w=e+d+l;return n?w.replace(/\r*\n/g,`${l}$&${e}`):w},f},t=(f,e,l)=>{return typeof f==="function"?f(e):f.wrap(e,l)},s=(f,e)=>{if(f===""||f==null)return"";if(i.enabled===!1)return f;if(i.visible===!1)return"";let l=""+f,u=l.includes(`
`),d=e.length;if(d>0&&e.includes("unstyle"))e=[...new Set(["unstyle",...e])].reverse();while(d-- >0)l=t(i.styles[e[d]],l,u);return l},h=(f,e,l)=>{i.styles[f]=r({name:f,codes:e}),(i.keys[l]||(i.keys[l]=[])).push(f),Reflect.defineProperty(i,f,{configurable:!0,enumerable:!0,set(d){i.alias(f,d)},get(){let d=(n)=>s(n,d.stack);return Reflect.setPrototypeOf(d,i),d.stack=this.stack?this.stack.concat(f):[f],d}})};return h("reset",[0,0],"modifier"),h("bold",[1,22],"modifier"),h("dim",[2,22],"modifier"),h("italic",[3,23],"modifier"),h("underline",[4,24],"modifier"),h("inverse",[7,27],"modifier"),h("hidden",[8,28],"modifier"),h("strikethrough",[9,29],"modifier"),h("black",[30,39],"color"),h("red",[31,39],"color"),h("green",[32,39],"color"),h("yellow",[33,39],"color"),h("blue",[34,39],"color"),h("magenta",[35,39],"color"),h("cyan",[36,39],"color"),h("white",[37,39],"color"),h("gray",[90,39],"color"),h("grey",[90,39],"color"),h("bgBlack",[40,49],"bg"),h("bgRed",[41,49],"bg"),h("bgGreen",[42,49],"bg"),h("bgYellow",[43,49],"bg"),h("bgBlue",[44,49],"bg"),h("bgMagenta",[45,49],"bg"),h("bgCyan",[46,49],"bg"),h("bgWhite",[47,49],"bg"),h("blackBright",[90,39],"bright"),h("redBright",[91,39],"bright"),h("greenBright",[92,39],"bright"),h("yellowBright",[93,39],"bright"),h("blueBright",[94,39],"bright"),h("magentaBright",[95,39],"bright"),h("cyanBright",[96,39],"bright"),h("whiteBright",[97,39],"bright"),h("bgBlackBright",[100,49],"bgBright"),h("bgRedBright",[101,49],"bgBright"),h("bgGreenBright",[102,49],"bgBright"),h("bgYellowBright",[103,49],"bgBright"),h("bgBlueBright",[104,49],"bgBright"),h("bgMagentaBright",[105,49],"bgBright"),h("bgCyanBright",[106,49],"bgBright"),h("bgWhiteBright",[107,49],"bgBright"),i.ansiRegex=j0,i.hasColor=i.hasAnsi=(f)=>{return i.ansiRegex.lastIndex=0,typeof f==="string"&&f!==""&&i.ansiRegex.test(f)},i.alias=(f,e)=>{let l=typeof e==="string"?i[e]:e;if(typeof l!=="function")throw new TypeError("Expected alias to be the name of an existing color (string) or a function");if(!l.stack)Reflect.defineProperty(l,"name",{value:f}),i.styles[f]=l,l.stack=[f];Reflect.defineProperty(i,f,{configurable:!0,enumerable:!0,set(u){i.alias(f,u)},get(){let u=(d)=>s(d,u.stack);return Reflect.setPrototypeOf(u,i),u.stack=this.stack?this.stack.concat(l.stack):l.stack,u}})},i.theme=(f)=>{if(!V0(f))throw new TypeError("Expected theme to be an object");for(let e of Object.keys(f))i.alias(e,f[e]);return i},i.alias("unstyle",(f)=>{if(typeof f==="string"&&f!=="")return i.ansiRegex.lastIndex=0,f.replace(i.ansiRegex,"");return""}),i.alias("noop",(f)=>f),i.none=i.clear=i.noop,i.stripColor=i.unstyle,i.symbols=Gl(),i.define=h,i};Vt.exports=Tl();Vt.exports.create=Tl});var H=m((W0)=>{var L0=Object.prototype.toString,ri=mr(),Hl=!1,Ni=new Set,Rl={yellow:"blue",cyan:"red",green:"magenta",black:"white",blue:"yellow",red:"cyan",magenta:"green",white:"black"};W0.longest=(i,r)=>{return i.reduce((t,s)=>Math.max(t,r?s[r].length:s.length),0)};W0.hasColor=(i)=>!!i&&ri.hasColor(i);var yr=W0.isObject=(i)=>{return i!==null&&typeof i==="object"&&!Array.isArray(i)};W0.nativeType=(i)=>{return L0.call(i).slice(8,-1).toLowerCase().replace(/\s/g,"")};W0.isAsyncFn=(i)=>{return W0.nativeType(i)==="asyncfunction"};W0.isPrimitive=(i)=>{return i!=null&&typeof i!=="object"&&typeof i!=="function"};W0.resolve=(i,r,...t)=>{if(typeof r==="function")return r.call(i,...t);return r};W0.scrollDown=(i=[])=>[...i.slice(1),i[0]];W0.scrollUp=(i=[])=>[i.pop(),...i];W0.reorder=(i=[])=>{let r=i.slice();return r.sort((t,s)=>{if(t.index>s.index)return 1;if(t.index<s.index)return-1;return 0}),r};W0.swap=(i,r,t)=>{let s=i.length,h=t===s?0:t<0?s-1:t,f=i[r];i[r]=i[h],i[h]=f};W0.width=(i,r=80)=>{let t=i&&i.columns?i.columns:r;if(i&&typeof i.getWindowSize==="function")t=i.getWindowSize()[0];if(process.platform==="win32")return t-1;return t};W0.height=(i,r=20)=>{let t=i&&i.rows?i.rows:r;if(i&&typeof i.getWindowSize==="function")t=i.getWindowSize()[1];return t};W0.wordWrap=(i,r={})=>{if(!i)return i;if(typeof r==="number")r={width:r};let{indent:t="",newline:s=`
`+t,width:h=80}=r,f=(s+t).match(/[^\S\n]/g)||[];h-=f.length;let e=`.{1,${h}}([\\s\\u200B]+|$)|[^\\s\\u200B]+?([\\s\\u200B]+|$)`,l=i.trim(),u=new RegExp(e,"g"),d=l.match(u)||[];if(d=d.map((n)=>n.replace(/\n$/,"")),r.padEnd)d=d.map((n)=>n.padEnd(h," "));if(r.padStart)d=d.map((n)=>n.padStart(h," "));return t+d.join(s)};W0.unmute=(i)=>{let r=i.stack.find((s)=>ri.keys.color.includes(s));if(r)return ri[r];if(i.stack.find((s)=>s.slice(2)==="bg"))return ri[r.slice(2)];return(s)=>s};W0.pascal=(i)=>i?i[0].toUpperCase()+i.slice(1):"";W0.inverse=(i)=>{if(!i||!i.stack)return i;let r=i.stack.find((s)=>ri.keys.color.includes(s));if(r){let s=ri["bg"+W0.pascal(r)];return s?s.black:i}let t=i.stack.find((s)=>s.slice(0,2)==="bg");if(t)return ri[t.slice(2).toLowerCase()]||i;return ri.none};W0.complement=(i)=>{if(!i||!i.stack)return i;let r=i.stack.find((s)=>ri.keys.color.includes(s)),t=i.stack.find((s)=>s.slice(0,2)==="bg");if(r&&!t)return ri[Rl[r]||r];if(t){let s=t.slice(2).toLowerCase(),h=Rl[s];if(!h)return i;return ri["bg"+W0.pascal(h)]||i}return ri.none};W0.meridiem=(i)=>{let r=i.getHours(),t=i.getMinutes(),s=r>=12?"pm":"am";r=r%12;let h=r===0?12:r,f=t<10?"0"+t:t;return h+":"+f+" "+s};W0.set=(i={},r="",t)=>{return r.split(".").reduce((s,h,f,e)=>{let l=e.length-1>f?s[h]||{}:t;if(!W0.isObject(l)&&f<e.length-1)l={};return s[h]=l},i)};W0.get=(i={},r="",t)=>{let s=i[r]==null?r.split(".").reduce((h,f)=>h&&h[f],i):i[r];return s==null?t:s};W0.mixin=(i,r)=>{if(!yr(i))return r;if(!yr(r))return i;for(let t of Object.keys(r)){let s=Object.getOwnPropertyDescriptor(r,t);if(hasOwnProperty.call(s,"value"))if(hasOwnProperty.call(i,t)&&yr(s.value)){let h=Object.getOwnPropertyDescriptor(i,t);if(yr(h.value)&&h.value!==s.value)i[t]=W0.merge({},i[t],r[t]);else Reflect.defineProperty(i,t,s)}else Reflect.defineProperty(i,t,s);else Reflect.defineProperty(i,t,s)}return i};W0.merge=(...i)=>{let r={};for(let t of i)W0.mixin(r,t);return r};W0.mixinEmitter=(i,r)=>{let t=r.constructor.prototype;for(let s of Object.keys(t)){let h=t[s];if(typeof h==="function")W0.define(i,s,h.bind(r));else W0.define(i,s,h)}};var Sr=(i,r)=>{if(Hl)return;if(Hl=!0,Ni.forEach((t)=>t()),i===!0)process.exit(128+r)},cl=Sr.bind(null,!0,15),al=Sr.bind(null,!0,2);W0.onExit=(i)=>{if(Ni.size===0)process.once("SIGTERM",cl),process.once("SIGINT",al),process.once("exit",Sr);return Ni.add(i),()=>{if(Ni.delete(i),Ni.size===0)process.off("SIGTERM",cl),process.off("SIGINT",al),process.off("exit",Sr)}};W0.define=(i,r,t)=>{Reflect.defineProperty(i,r,{value:t})};W0.defineExport=(i,r,t)=>{let s;Reflect.defineProperty(i,r,{enumerable:!0,configurable:!0,set(h){s=h},get(){return s?s():t()}})}});var iu=m((hC,pl)=>{pl.exports=({onlyFirst:i=!1}={})=>{let r=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(r,i?void 0:"g")}});var mi=m((fC,ru)=>{var o0=iu();ru.exports=(i)=>typeof i==="string"?i.replace(o0(),""):i});var tu=m((p0)=>{p0.ctrl={a:"first",b:"backward",c:"cancel",d:"deleteForward",e:"last",f:"forward",g:"reset",i:"tab",k:"cutForward",l:"reset",n:"newItem",m:"cancel",j:"submit",p:"search",r:"remove",s:"save",u:"undo",w:"cutLeft",x:"toggleCursor",v:"paste"};p0.shift={up:"shiftUp",down:"shiftDown",left:"shiftLeft",right:"shiftRight",tab:"prev"};p0.fn={up:"pageUp",down:"pageDown",left:"pageLeft",right:"pageRight",delete:"deleteForward"};p0.option={b:"backward",f:"forward",d:"cutRight",left:"cutLeft",up:"altUp",down:"altDown"};p0.keys={pageup:"pageUp",pagedown:"pageDown",home:"home",end:"end",cancel:"cancel",delete:"deleteForward",backspace:"delete",down:"down",enter:"submit",escape:"cancel",left:"left",space:"space",number:"number",return:"submit",right:"right",tab:"next",up:"up"}});var hu=m((lC,su)=>{su.exports=class i{_queue=[];_executing=!1;_jobRunner=null;constructor(r){this._jobRunner=r}enqueue=(...r)=>{this._queue.push(r),this._dequeue()};destroy(){this._queue.length=0,this._jobRunner=null}_dequeue(){if(this._executing||!this._queue.length)return;this._executing=!0,this._jobRunner(...this._queue.shift()),setTimeout(()=>{this._executing=!1,this._dequeue()})}}});var Et=m((uC,eu)=>{var fu=I("readline"),fy=tu(),ey=hu(),ly=/^(?:\x1b)([a-zA-Z0-9])$/,uy=/^(?:\x1b+)(O|N|\[|\[\[)(?:(\d+)(?:;(\d+))?([~^$])|(?:1;)?(\d+)?([a-zA-Z]))/,dy={OP:"f1",OQ:"f2",OR:"f3",OS:"f4","[11~":"f1","[12~":"f2","[13~":"f3","[14~":"f4","[[A":"f1","[[B":"f2","[[C":"f3","[[D":"f4","[[E":"f5","[15~":"f5","[17~":"f6","[18~":"f7","[19~":"f8","[20~":"f9","[21~":"f10","[23~":"f11","[24~":"f12","[A":"up","[B":"down","[C":"right","[D":"left","[E":"clear","[F":"end","[H":"home",OA:"up",OB:"down",OC:"right",OD:"left",OE:"clear",OF:"end",OH:"home","[1~":"home","[2~":"insert","[3~":"delete","[4~":"end","[5~":"pageup","[6~":"pagedown","[[5~":"pageup","[[6~":"pagedown","[7~":"home","[8~":"end","[a":"up","[b":"down","[c":"right","[d":"left","[e":"clear","[2$":"insert","[3$":"delete","[5$":"pageup","[6$":"pagedown","[7$":"home","[8$":"end",Oa:"up",Ob:"down",Oc:"right",Od:"left",Oe:"clear","[2^":"insert","[3^":"delete","[5^":"pageup","[6^":"pagedown","[7^":"home","[8^":"end","[Z":"tab"};function ny(i){return["[a","[b","[c","[d","[e","[2$","[3$","[5$","[6$","[7$","[8$","[Z"].includes(i)}function wy(i){return["Oa","Ob","Oc","Od","Oe","[2^","[3^","[5^","[6^","[7^","[8^"].includes(i)}var $r=(i="",r={})=>{let t,s={name:r.name,ctrl:!1,meta:!1,shift:!1,option:!1,sequence:i,raw:i,...r};if(Buffer.isBuffer(i))if(i[0]>127&&i[1]===void 0)i[0]-=128,i="\x1B"+String(i);else i=String(i);else if(i!==void 0&&typeof i!=="string")i=String(i);else if(!i)i=s.sequence||"";if(s.sequence=s.sequence||i||s.name,i==="\r")s.raw=void 0,s.name="return";else if(i===`
`)s.name="enter";else if(i==="\t")s.name="tab";else if(i==="\b"||i==="\x7F"||i==="\x1B\x7F"||i==="\x1B\b")s.name="backspace",s.meta=i.charAt(0)==="\x1B";else if(i==="\x1B"||i==="\x1B\x1B")s.name="escape",s.meta=i.length===2;else if(i===" "||i==="\x1B ")s.name="space",s.meta=i.length===2;else if(i<="\x1A")s.name=String.fromCharCode(i.charCodeAt(0)+97-1),s.ctrl=!0;else if(i.length===1&&i>="0"&&i<="9")s.name="number";else if(i.length===1&&i>="a"&&i<="z")s.name=i;else if(i.length===1&&i>="A"&&i<="Z")s.name=i.toLowerCase(),s.shift=!0;else if(t=ly.exec(i))s.meta=!0,s.shift=/^[A-Z]$/.test(t[1]);else if(t=uy.exec(i)){let h=[...i];if(h[0]==="\x1B"&&h[1]==="\x1B")s.option=!0;let f=[t[1],t[2],t[4],t[6]].filter(Boolean).join(""),e=(t[3]||t[5]||1)-1;s.ctrl=!!(e&4),s.meta=!!(e&10),s.shift=!!(e&1),s.code=f,s.name=dy[f],s.shift=ny(f)||s.shift,s.ctrl=wy(f)||s.ctrl}return s};$r.listen=(i={},r)=>{let{stdin:t}=i;if(!t||t!==process.stdin&&!t.isTTY)throw new Error("Invalid stream passed");let s=fu.createInterface({terminal:!0,input:t});fu.emitKeypressEvents(t,s);let h=new ey((l,u)=>r(l,$r(l,u),s)),f=t.isRaw;if(t.isTTY)t.setRawMode(!0);return t.on("keypress",h.enqueue),s.resume(),()=>{if(t.isTTY)t.setRawMode(f);t.removeListener("keypress",h.enqueue),h.destroy(),s.pause(),s.close()}};$r.action=(i,r,t)=>{let s={...fy,...t};if(r.ctrl)return r.action=s.ctrl[r.name],r;if(r.option&&s.option)return r.action=s.option[r.name],r;if(r.shift)return r.action=s.shift[r.name],r;return r.action=s.keys[r.name],r};eu.exports=$r});var uu=m((dC,lu)=>{lu.exports=(i)=>{i.timers=i.timers||{};let r=i.options.timers;if(!r)return;for(let t of Object.keys(r)){let s=r[t];if(typeof s==="number")s={interval:s};gy(i,t,s)}};function gy(i,r,t={}){let s=i.timers[r]={name:r,start:Date.now(),ms:0,tick:0},h=t.interval||120;s.frames=t.frames||[],s.loading=!0;let f=setInterval(()=>{s.ms=Date.now()-s.start,s.tick++,i.render()},h);return s.stop=()=>{s.loading=!1,clearInterval(f)},Reflect.defineProperty(s,"interval",{value:f}),i.once("close",()=>s.stop()),s.stop}});var wu=m((nC,nu)=>{var{define:_y,width:my}=H();class du{constructor(i){let r=i.options;_y(this,"_prompt",i),this.type=i.type,this.name=i.name,this.message="",this.header="",this.footer="",this.error="",this.hint="",this.input="",this.cursor=0,this.index=0,this.lines=0,this.tick=0,this.prompt="",this.buffer="",this.width=my(r.stdout||process.stdout),Object.assign(this,r),this.name=this.name||this.message,this.message=this.message||this.name,this.symbols=i.symbols,this.styles=i.styles,this.required=new Set,this.cancelled=!1,this.submitted=!1}clone(){let i={...this};return i.status=this.status,i.buffer=Buffer.from(i.buffer),delete i.clone,i}set color(i){this._color=i}get color(){let i=this.prompt.styles;if(this.cancelled)return i.cancelled;if(this.submitted)return i.submitted;let r=this._color||i[this.status];return typeof r==="function"?r:i.pending}set loading(i){this._loading=i}get loading(){if(typeof this._loading==="boolean")return this._loading;if(this.loadingChoices)return"choices";return!1}get status(){if(this.cancelled)return"cancelled";if(this.submitted)return"submitted";return"pending"}}nu.exports=du});var _u=m((wC,gu)=>{var Lt=H(),T=mr(),Wt={default:T.noop,noop:T.noop,set inverse(i){this._inverse=i},get inverse(){return this._inverse||Lt.inverse(this.primary)},set complement(i){this._complement=i},get complement(){return this._complement||Lt.complement(this.primary)},primary:T.cyan,success:T.green,danger:T.magenta,strong:T.bold,warning:T.yellow,muted:T.dim,disabled:T.gray,dark:T.dim.gray,underline:T.underline,set info(i){this._info=i},get info(){return this._info||this.primary},set em(i){this._em=i},get em(){return this._em||this.primary.underline},set heading(i){this._heading=i},get heading(){return this._heading||this.muted.underline},set pending(i){this._pending=i},get pending(){return this._pending||this.primary},set submitted(i){this._submitted=i},get submitted(){return this._submitted||this.success},set cancelled(i){this._cancelled=i},get cancelled(){return this._cancelled||this.danger},set typing(i){this._typing=i},get typing(){return this._typing||this.dim},set placeholder(i){this._placeholder=i},get placeholder(){return this._placeholder||this.primary.dim},set highlight(i){this._highlight=i},get highlight(){return this._highlight||this.inverse}};Wt.merge=(i={})=>{if(i.styles&&typeof i.styles.enabled==="boolean")T.enabled=i.styles.enabled;if(i.styles&&typeof i.styles.visible==="boolean")T.visible=i.styles.visible;let r=Lt.merge({},Wt,i.styles);delete r.merge;for(let t of Object.keys(T))if(!hasOwnProperty.call(r,t))Reflect.defineProperty(r,t,{get:()=>T[t]});for(let t of Object.keys(T.styles))if(!hasOwnProperty.call(r,t))Reflect.defineProperty(r,t,{get:()=>T[t]});return r};gu.exports=Wt});var yu=m((gC,mu)=>{var zt=process.platform==="win32",ni=mr(),yy=H(),Yt={...ni.symbols,upDownDoubleArrow:"\u21D5",upDownDoubleArrow2:"\u2B0D",upDownArrow:"\u2195",asterisk:"*",asterism:"\u2042",bulletWhite:"\u25E6",electricArrow:"\u2301",ellipsisLarge:"\u22EF",ellipsisSmall:"\u2026",fullBlock:"\u2588",identicalTo:"\u2261",indicator:ni.symbols.check,leftAngle:"\u2039",mark:"\u203B",minus:"\u2212",multiplication:"\xD7",obelus:"\xF7",percent:"%",pilcrow:"\xB6",pilcrow2:"\u2761",pencilUpRight:"\u2710",pencilDownRight:"\u270E",pencilRight:"\u270F",plus:"+",plusMinus:"\xB1",pointRight:"\u261E",rightAngle:"\u203A",section:"\xA7",hexagon:{off:"\u2B21",on:"\u2B22",disabled:"\u2B22"},ballot:{on:"\u2611",off:"\u2610",disabled:"\u2612"},stars:{on:"\u2605",off:"\u2606",disabled:"\u2606"},folder:{on:"\u25BC",off:"\u25B6",disabled:"\u25B6"},prefix:{pending:ni.symbols.question,submitted:ni.symbols.check,cancelled:ni.symbols.cross},separator:{pending:ni.symbols.pointerSmall,submitted:ni.symbols.middot,cancelled:ni.symbols.middot},radio:{off:zt?"( )":"\u25EF",on:zt?"(*)":"\u25C9",disabled:zt?"(|)":"\u24BE"},numbers:["\u24EA","\u2460","\u2461","\u2462","\u2463","\u2464","\u2465","\u2466","\u2467","\u2468","\u2469","\u246A","\u246B","\u246C","\u246D","\u246E","\u246F","\u2470","\u2471","\u2472","\u2473","\u3251","\u3252","\u3253","\u3254","\u3255","\u3256","\u3257","\u3258","\u3259","\u325A","\u325B","\u325C","\u325D","\u325E","\u325F","\u32B1","\u32B2","\u32B3","\u32B4","\u32B5","\u32B6","\u32B7","\u32B8","\u32B9","\u32BA","\u32BB","\u32BC","\u32BD","\u32BE","\u32BF"]};Yt.merge=(i)=>{let r=yy.merge({},ni.symbols,Yt,i.symbols);return delete r.merge,r};mu.exports=Yt});var $u=m((_C,Su)=>{var Sy=_u(),$y=yu(),Cy=H();Su.exports=(i)=>{i.options=Cy.merge({},i.options.theme,i.options),i.symbols=$y.merge(i.options),i.styles=Sy.merge(i.options)}});var Fu=m((qu,xu)=>{var Cu=process.env.TERM_PROGRAM==="Apple_Terminal",qy=mi(),Ot=H(),hi=xu.exports=qu,Zt=!1,yi=hi.code={bell:"\x07",beep:"\x07",beginning:"\x1B[G",down:"\x1B[J",esc:"\x1B[",getPosition:"\x1B[6n",hide:"\x1B[?25l",line:"\x1B[2K",lineEnd:"\x1B[K",lineStart:"\x1B[1K",restorePosition:"\x1B["+(Cu?"8":"u"),savePosition:"\x1B["+(Cu?"7":"s"),screen:"\x1B[2J",show:"\x1B[?25h",up:"\x1B[1J"},Mi=hi.cursor={get hidden(){return Zt},hide(){return Zt=!0,yi.hide},show(){return Zt=!1,yi.show},forward:(i=1)=>`\x1B[${i}C`,backward:(i=1)=>`\x1B[${i}D`,nextLine:(i=1)=>"\x1B[E".repeat(i),prevLine:(i=1)=>"\x1B[F".repeat(i),up:(i=1)=>i?`\x1B[${i}A`:"",down:(i=1)=>i?`\x1B[${i}B`:"",right:(i=1)=>i?`\x1B[${i}C`:"",left:(i=1)=>i?`\x1B[${i}D`:"",to(i,r){return r?`\x1B[${r+1};${i+1}H`:`\x1B[${i+1}G`},move(i=0,r=0){let t="";return t+=i<0?Mi.left(-i):i>0?Mi.right(i):"",t+=r<0?Mi.up(-r):r>0?Mi.down(r):"",t},strLen(i){var r=0,t=i.length,s=-1;for(var h=0;h<t;h++)if(s=i.charCodeAt(h),s>=0&&s<=128)r+=1;else r+=2;return r},restore(i={}){let{after:r,cursor:t,initial:s,input:h,prompt:f,size:e,value:l}=i;if(s=Ot.isPrimitive(s)?String(s):"",h=Ot.isPrimitive(h)?String(h):"",l=Ot.isPrimitive(l)?String(l):"",e){let u=hi.cursor.up(e)+hi.cursor.to(this.strLen(f)),d=h.length-t;if(d>0)u+=hi.cursor.left(d);return u}if(l||r){let u=!h&&!!s?-this.strLen(s):-this.strLen(h)+t;if(r)u-=this.strLen(r);if(h===""&&s&&!f.includes(s))u+=this.strLen(s);return hi.cursor.move(u)}}},Ut=hi.erase={screen:yi.screen,up:yi.up,down:yi.down,line:yi.line,lineEnd:yi.lineEnd,lineStart:yi.lineStart,lines(i){let r="";for(let t=0;t<i;t++)r+=hi.erase.line+(t<i-1?hi.cursor.up(1):"");if(i)r+=hi.code.beginning;return r}};hi.clear=(i="",r=process.stdout.columns)=>{if(!r)return Ut.line+Mi.to(0);let t=(f)=>[...qy(f)].length,s=i.split(/\r?\n/),h=0;for(let f of s)h+=1+Math.floor(Math.max(t(f)-1,0)/r);return(Ut.line+Mi.prevLine()).repeat(h-1)+Ut.line+Mi.to(0)}});var zi=m((mC,Bu)=>{var xy=I("events"),Mu=mi(),Jt=Et(),Fy=uu(),My=wu(),By=$u(),k=H(),Bi=Fu();class It extends xy{constructor(i={}){super();this.name=i.name,this.type=i.type,this.options=i,By(this),Fy(this),this.state=new My(this),this.initial=[i.initial,i.default].find((r)=>r!=null),this.stdout=i.stdout||process.stdout,this.stdin=i.stdin||process.stdin,this.scale=i.scale||1,this.term=this.options.term||process.env.TERM_PROGRAM,this.margin=jy(this.options.margin),this.setMaxListeners(0),Vy(this)}async keypress(i,r={}){this.keypressed=!0;let t=Jt.action(i,Jt(i,r),this.options.actions);this.state.keypress=t,this.emit("keypress",i,t),this.emit("state",this.state.clone());let s=this.options[t.action]||this[t.action]||this.dispatch;if(typeof s==="function")return await s.call(this,i,t);this.alert()}alert(){if(delete this.state.alert,this.options.show===!1)this.emit("alert");else this.stdout.write(Bi.code.beep)}cursorHide(){this.stdout.write(Bi.cursor.hide());let i=k.onExit(()=>this.cursorShow());this.on("close",()=>{this.cursorShow(),i()})}cursorShow(){this.stdout.write(Bi.cursor.show())}write(i){if(!i)return;if(this.stdout&&this.state.show!==!1)this.stdout.write(i);this.state.buffer+=i}clear(i=0){let r=this.state.buffer;if(this.state.buffer="",!r&&!i||this.options.show===!1)return;this.stdout.write(Bi.cursor.down(i)+Bi.clear(r,this.width))}restore(){if(this.state.closed||this.options.show===!1)return;let{prompt:i,after:r,rest:t}=this.sections(),{cursor:s,initial:h="",input:f="",value:e=""}=this,l=this.state.size=t.length,u={after:r,cursor:s,initial:h,input:f,prompt:i,size:l,value:e},d=Bi.cursor.restore(u);if(d)this.stdout.write(d)}sections(){let{buffer:i,input:r,prompt:t}=this.state;t=Mu(t);let s=Mu(i),h=s.indexOf(t),f=s.slice(0,h),l=s.slice(h).split(`
`),u=l[0],d=l[l.length-1],w=(t+(r?" "+r:"")).length,g=w<u.length?u.slice(w+1):"";return{header:f,prompt:u,after:g,rest:l.slice(1),last:d}}async submit(){if(this.state.submitted=!0,this.state.validating=!0,this.options.onSubmit)await this.options.onSubmit.call(this,this.name,this.value,this);let i=this.state.error||await this.validate(this.value,this.state);if(i!==!0){let r=`
`+this.symbols.pointer+" ";if(typeof i==="string")r+=i.trim();else r+="Invalid input";this.state.error=`
`+this.styles.danger(r),this.state.submitted=!1,await this.render(),await this.alert(),this.state.validating=!1,this.state.error=void 0;return}this.state.validating=!1,await this.render(),await this.close(),this.value=await this.result(this.value),this.emit("submit",this.value)}async cancel(i){if(this.state.cancelled=this.state.submitted=!0,await this.render(),await this.close(),typeof this.options.onCancel==="function")await this.options.onCancel.call(this,this.name,this.value,this);this.emit("cancel",await this.error(i))}async close(){this.state.closed=!0;try{let i=this.sections(),r=Math.ceil(i.prompt.length/this.width);if(i.rest)this.write(Bi.cursor.down(i.rest.length));this.write(`
`.repeat(r))}catch(i){}this.emit("close")}start(){if(!this.stop&&this.options.show!==!1)this.stop=Jt.listen(this,this.keypress.bind(this)),this.once("close",this.stop),this.emit("start",this)}async skip(){if(this.skipped=this.options.skip===!0,typeof this.options.skip==="function")this.skipped=await this.options.skip.call(this,this.name,this.value);return this.skipped}async initialize(){let{format:i,options:r,result:t}=this;if(this.format=()=>i.call(this,this.value),this.result=()=>t.call(this,this.value),typeof r.initial==="function")this.initial=await r.initial.call(this,this);if(typeof r.onRun==="function")await r.onRun.call(this,this);if(typeof r.onSubmit==="function"){let s=r.onSubmit.bind(this),h=this.submit.bind(this);delete this.options.onSubmit,this.submit=async()=>{return await s(this.name,this.value,this),h()}}await this.start(),await this.render()}render(){throw new Error("expected prompt to have a custom render method")}run(){return new Promise(async(i,r)=>{if(this.once("submit",i),this.once("cancel",r),await this.skip())return this.render=()=>{},this.submit();await this.initialize(),this.emit("run")})}async element(i,r,t){let{options:s,state:h,symbols:f,timers:e}=this,l=e&&e[i];h.timer=l;let u=s[i]||h[i]||f[i],d=r&&r[i]!=null?r[i]:await u;if(d==="")return d;let n=await this.resolve(d,h,r,t);if(!n&&r&&r[i])return this.resolve(u,h,r,t);return n}async prefix(){let i=await this.element("prefix")||this.symbols,r=this.timers&&this.timers.prefix,t=this.state;if(t.timer=r,k.isObject(i))i=i[t.status]||i.pending;if(!k.hasColor(i))return(this.styles[t.status]||this.styles.pending)(i);return i}async message(){let i=await this.element("message");if(!k.hasColor(i))return this.styles.strong(i);return i}async separator(){let i=await this.element("separator")||this.symbols,r=this.timers&&this.timers.separator,t=this.state;t.timer=r;let s=i[t.status]||i.pending||t.separator,h=await this.resolve(s,t);if(k.isObject(h))h=h[t.status]||h.pending;if(!k.hasColor(h))return this.styles.muted(h);return h}async pointer(i,r){let t=await this.element("pointer",i,r);if(typeof t==="string"&&k.hasColor(t))return t;if(t){let s=this.styles,h=this.index===r,f=h?s.primary:(u)=>u,e=await this.resolve(t[h?"on":"off"]||t,this.state),l=!k.hasColor(e)?f(e):e;return h?l:" ".repeat(e.length)}}async indicator(i,r){let t=await this.element("indicator",i,r);if(typeof t==="string"&&k.hasColor(t))return t;if(t){let s=this.styles,h=i.enabled===!0,f=h?s.success:s.dark,e=t[h?"on":"off"]||t;return!k.hasColor(e)?f(e):e}return""}body(){return null}footer(){if(this.state.status==="pending")return this.element("footer")}header(){if(this.state.status==="pending")return this.element("header")}async hint(){if(this.state.status==="pending"&&!this.isValue(this.state.input)){let i=await this.element("hint");if(!k.hasColor(i))return this.styles.muted(i);return i}}error(i){return!this.state.submitted?i||this.state.error:""}format(i){return i}result(i){return i}validate(i){if(this.options.required===!0)return this.isValue(i);return!0}isValue(i){return i!=null&&i!==""}resolve(i,...r){return k.resolve(this,i,...r)}get base(){return It.prototype}get style(){return this.styles[this.state.status]}get height(){return this.options.rows||k.height(this.stdout,25)}get width(){return this.options.columns||k.width(this.stdout,80)}get size(){return{width:this.width,height:this.height}}set cursor(i){this.state.cursor=i}get cursor(){return this.state.cursor}set input(i){this.state.input=i}get input(){return this.state.input}set value(i){this.state.value=i}get value(){let{input:i,value:r}=this.state,t=[r,i].find(this.isValue.bind(this));return this.isValue(t)?t:this.initial}static get prompt(){return(i)=>new this(i).run()}}function Vy(i){let r=(h)=>{return i[h]===void 0||typeof i[h]==="function"},t=["actions","choices","initial","margin","roles","styles","symbols","theme","timers","value"],s=["body","footer","error","header","hint","indicator","message","prefix","separator","skip"];for(let h of Object.keys(i.options)){if(t.includes(h))continue;if(/^on[A-Z]/.test(h))continue;let f=i.options[h];if(typeof f==="function"&&r(h)){if(!s.includes(h))i[h]=f.bind(i)}else if(typeof i[h]!=="function")i[h]=f}}function jy(i){if(typeof i==="number")i=[i,i,i,i];let r=[].concat(i||[]),t=(h)=>h%2===0?`
`:" ",s=[];for(let h=0;h<4;h++){let f=t(h);if(r[h])s.push(f.repeat(r[h]));else s.push("")}return s}Bu.exports=It});var Eu=m((yC,ju)=>{var Ey=H(),Vu={default(i,r){return r},checkbox(i,r){throw new Error("checkbox role is not implemented yet")},editable(i,r){throw new Error("editable role is not implemented yet")},expandable(i,r){throw new Error("expandable role is not implemented yet")},heading(i,r){return r.disabled="",r.indicator=[r.indicator," "].find((t)=>t!=null),r.message=r.message||"",r},input(i,r){throw new Error("input role is not implemented yet")},option(i,r){return Vu.default(i,r)},radio(i,r){throw new Error("radio role is not implemented yet")},separator(i,r){return r.disabled="",r.indicator=[r.indicator," "].find((t)=>t!=null),r.message=r.message||i.symbols.line.repeat(5),r},spacer(i,r){return r}};ju.exports=(i,r={})=>{let t=Ey.merge({},Vu,r.roles);return t[i]||t.default}});var Di=m((SC,Yu)=>{var Ly=mi(),Wy=zi(),zy=Eu(),Cr=H(),{reorder:Qt,scrollUp:Yy,scrollDown:Oy,isObject:Lu,swap:Zy}=Cr;class zu extends Wy{constructor(i){super(i);this.cursorHide(),this.maxSelected=i.maxSelected||1/0,this.multiple=i.multiple||!1,this.initial=i.initial||0,this.delay=i.delay||0,this.longest=0,this.num=""}async initialize(){if(typeof this.options.initial==="function")this.initial=await this.options.initial.call(this);await this.reset(!0),await super.initialize()}async reset(){let{choices:i,initial:r,autofocus:t,suggest:s}=this.options;if(this.state._choices=[],this.state.choices=[],this.choices=await Promise.all(await this.toChoices(i)),this.choices.forEach((h)=>h.enabled=!1),typeof s!=="function"&&this.selectable.length===0)throw new Error("At least one choice must be selectable");if(Lu(r))r=Object.keys(r);if(Array.isArray(r)){if(t!=null)this.index=this.findIndex(t);r.forEach((h)=>this.enable(this.find(h))),await this.render()}else{if(t!=null)r=t;if(typeof r==="string")r=this.findIndex(r);if(typeof r==="number"&&r>-1)this.index=Math.max(0,Math.min(r,this.choices.length)),this.enable(this.find(this.index))}if(this.isDisabled(this.focused))await this.down()}async toChoices(i,r){this.state.loadingChoices=!0;let t=[],s=0,h=async(f,e)=>{if(typeof f==="function")f=await f.call(this);if(f instanceof Promise)f=await f;for(let l=0;l<f.length;l++){let u=f[l]=await this.toChoice(f[l],s++,e);if(t.push(u),u.choices)await h(u.choices,u)}return t};return h(i,r).then((f)=>{return this.state.loadingChoices=!1,f})}async toChoice(i,r,t){if(typeof i==="function")i=await i.call(this,this);if(i instanceof Promise)i=await i;if(typeof i==="string")i={name:i};if(i.normalized)return i;i.normalized=!0;let s=i.value;if(i=zy(i.role,this.options)(this,i),typeof i.disabled==="string"&&!i.hint)i.hint=i.disabled,i.disabled=!0;if(i.disabled===!0&&i.hint==null)i.hint="(disabled)";if(i.index!=null)return i;if(i.name=i.name||i.key||i.title||i.value||i.message,i.message=i.message||i.name||"",i.value=[i.value,i.name].find(this.isValue.bind(this)),i.input="",i.index=r,i.cursor=0,Cr.define(i,"parent",t),i.level=t?t.level+1:1,i.indent==null)i.indent=t?t.indent+"  ":i.indent||"";if(i.path=t?t.path+"."+i.name:i.name,i.enabled=!!(this.multiple&&!this.isDisabled(i)&&(i.enabled||this.isSelected(i))),!this.isDisabled(i))this.longest=Math.max(this.longest,Ly(i.message).length);let f={...i};if(i.reset=(e=f.input,l=f.value)=>{for(let u of Object.keys(f))i[u]=f[u];i.input=e,i.value=l},s==null&&typeof i.initial==="function")i.input=await i.initial.call(this,this.state,i,r);return i}async onChoice(i,r){if(this.emit("choice",i,r,this),typeof i.onChoice==="function")await i.onChoice.call(this,this.state,i,r)}async addChoice(i,r,t){let s=await this.toChoice(i,r,t);return this.choices.push(s),this.index=this.choices.length-1,this.limit=this.choices.length,s}async newItem(i,r,t){let s={name:"New choice name?",editable:!0,newChoice:!0,...i},h=await this.addChoice(s,r,t);return h.updateChoice=()=>{delete h.newChoice,h.name=h.message=h.input,h.input="",h.cursor=0},this.render()}indent(i){if(i.indent==null)return i.level>1?"  ".repeat(i.level-1):"";return i.indent}dispatch(i,r){if(this.multiple&&this[r.name])return this[r.name]();this.alert()}focus(i,r){if(typeof r!=="boolean")r=i.enabled;if(r&&!i.enabled&&this.selected.length>=this.maxSelected)return this.alert();return this.index=i.index,i.enabled=r&&!this.isDisabled(i),i}space(){if(!this.multiple)return this.alert();if(!this.focused)return;return this.toggle(this.focused),this.render()}a(){if(this.maxSelected<this.choices.length)return this.alert();let i=this.selectable.every((r)=>r.enabled);return this.choices.forEach((r)=>r.enabled=!i),this.render()}i(){if(this.choices.length-this.selected.length>this.maxSelected)return this.alert();return this.choices.forEach((i)=>i.enabled=!i.enabled),this.render()}g(){if(!this.choices.some((r)=>!!r.parent))return this.a();let i=this.focused;return this.toggle(i.parent&&!i.choices?i.parent:i),this.render()}toggle(i,r){if(!i.enabled&&this.selected.length>=this.maxSelected)return this.alert();if(typeof r!=="boolean")r=!i.enabled;if(i.enabled=r,i.choices)i.choices.forEach((s)=>this.toggle(s,r));let t=i.parent;while(t){let s=t.choices.filter((h)=>this.isDisabled(h));t.enabled=s.every((h)=>h.enabled===!0),t=t.parent}return Wu(this,this.choices),this.emit("toggle",i,this),i}enable(i){if(this.selected.length>=this.maxSelected)return this.alert();return i.enabled=!this.isDisabled(i),i.choices&&i.choices.forEach(this.enable.bind(this)),i}disable(i){return i.enabled=!1,i.choices&&i.choices.forEach(this.disable.bind(this)),i}number(i){this.num+=i;let r=(t)=>{let s=Number(t);if(s>this.choices.length-1)return this.alert();let h=this.focused,f=this.choices.find((e)=>s===e.index);if(!f.enabled&&this.selected.length>=this.maxSelected)return this.alert();if(this.visible.indexOf(f)===-1){let e=Qt(this.choices),l=e.indexOf(f);if(h.index>l){let u=e.slice(l,l+this.limit),d=e.filter((n)=>!u.includes(n));this.choices=u.concat(d)}else{let u=l-this.limit+1;this.choices=e.slice(u).concat(e.slice(0,u))}}return this.index=this.choices.indexOf(f),this.toggle(this.focused),this.render()};return clearTimeout(this.numberTimeout),new Promise((t)=>{let s=this.choices.length,h=this.num,f=(e=!1,l)=>{if(clearTimeout(this.numberTimeout),e)l=r(h);this.num="",t(l)};if(h==="0"||h.length===1&&Number(h+"0")>s)return f(!0);if(Number(h)>s)return f(!1,this.alert());this.numberTimeout=setTimeout(()=>f(!0),this.delay)})}home(){return this.choices=Qt(this.choices),this.index=0,this.render()}end(){let i=this.choices.length-this.limit,r=Qt(this.choices);return this.choices=r.slice(i).concat(r.slice(0,i)),this.index=this.limit-1,this.render()}first(){return this.index=0,this.render()}last(){return this.index=this.visible.length-1,this.render()}prev(){if(this.visible.length<=1)return this.alert();return this.up()}next(){if(this.visible.length<=1)return this.alert();return this.down()}right(){if(this.cursor>=this.input.length)return this.alert();return this.cursor++,this.render()}left(){if(this.cursor<=0)return this.alert();return this.cursor--,this.render()}up(){let i=this.choices.length,r=this.visible.length,t=this.index;if(this.options.scroll===!1&&t===0)return this.alert();if(i>r&&t===0)return this.scrollUp();if(this.index=(t-1%i+i)%i,this.isDisabled()&&!this.allChoicesAreDisabled())return this.up();return this.render()}down(){let i=this.choices.length,r=this.visible.length,t=this.index;if(this.options.scroll===!1&&t===r-1)return this.alert();if(i>r&&t===r-1)return this.scrollDown();if(this.index=(t+1)%i,this.isDisabled()&&!this.allChoicesAreDisabled())return this.down();return this.render()}scrollUp(i=0){if(this.choices=Yy(this.choices),this.index=i,this.isDisabled())return this.up();return this.render()}scrollDown(i=this.visible.length-1){if(this.choices=Oy(this.choices),this.index=i,this.isDisabled())return this.down();return this.render()}async shiftUp(){if(this.options.sort===!0){this.sorting=!0,this.swap(this.index-1),await this.up(),this.sorting=!1;return}return this.scrollUp(this.index)}async shiftDown(){if(this.options.sort===!0){this.sorting=!0,this.swap(this.index+1),await this.down(),this.sorting=!1;return}return this.scrollDown(this.index)}pageUp(){if(this.visible.length<=1)return this.alert();if(this.limit=Math.max(this.limit-1,0),this.index=Math.min(this.limit-1,this.index),this._limit=this.limit,this.isDisabled())return this.up();return this.render()}pageDown(){if(this.visible.length>=this.choices.length)return this.alert();if(this.index=Math.max(0,this.index),this.limit=Math.min(this.limit+1,this.choices.length),this._limit=this.limit,this.isDisabled())return this.down();return this.render()}swap(i){Zy(this.choices,this.index,i)}allChoicesAreDisabled(i=this.choices){return i.every((r)=>this.isDisabled(r))}isDisabled(i=this.focused){if(i&&["disabled","collapsed","hidden","completing","readonly"].some((t)=>i[t]===!0))return!0;return i&&i.role==="heading"}isEnabled(i=this.focused){if(Array.isArray(i))return i.every((r)=>this.isEnabled(r));if(i.choices){let r=i.choices.filter((t)=>!this.isDisabled(t));return i.enabled&&r.every((t)=>this.isEnabled(t))}return i.enabled&&!this.isDisabled(i)}isChoice(i,r){return i.name===r||i.index===Number(r)}isSelected(i){if(Array.isArray(this.initial))return this.initial.some((r)=>this.isChoice(i,r));return this.isChoice(i,this.initial)}map(i=[],r="value"){return[].concat(i||[]).reduce((t,s)=>{return t[s]=this.find(s,r),t},{})}filter(i,r){let s=typeof i==="function"?i:(e,l)=>[e.name,l].includes(i),f=(this.options.multiple?this.state._choices:this.choices).filter(s);if(r)return f.map((e)=>e[r]);return f}find(i,r){if(Lu(i))return r?i[r]:i;let s=typeof i==="function"?i:(f,e)=>[f.name,e].includes(i),h=this.choices.find(s);if(h)return r?h[r]:h}findIndex(i){return this.choices.indexOf(this.find(i))}async submit(){let i=this.focused;if(!i)return this.alert();if(i.newChoice){if(!i.input)return this.alert();return i.updateChoice(),this.render()}if(this.choices.some((f)=>f.newChoice))return this.alert();let{reorder:r,sort:t}=this.options,s=this.multiple===!0,h=this.selected;if(h===void 0)return this.alert();if(Array.isArray(h)&&r!==!1&&t!==!0)h=Cr.reorder(h);return this.value=s?h.map((f)=>f.name):h.name,super.submit()}set choices(i=[]){this.state._choices=this.state._choices||[],this.state.choices=i;for(let r of i)if(!this.state._choices.some((t)=>t.name===r.name))this.state._choices.push(r);if(!this._initial&&this.options.initial){this._initial=!0;let r=this.initial;if(typeof r==="string"||typeof r==="number"){let t=this.find(r);if(t)this.initial=t.index,this.focus(t,!0)}}}get choices(){return Wu(this,this.state.choices||[])}set visible(i){this.state.visible=i}get visible(){return(this.state.visible||this.choices).slice(0,this.limit)}set limit(i){this.state.limit=i}get limit(){let{state:i,options:r,choices:t}=this,s=i.limit||this._limit||r.limit||t.length;return Math.min(s,this.height)}set value(i){super.value=i}get value(){if(typeof super.value!=="string"&&super.value===this.initial)return this.input;return super.value}set index(i){this.state.index=i}get index(){return Math.max(0,this.state?this.state.index:0)}get enabled(){return this.filter(this.isEnabled.bind(this))}get focused(){let i=this.choices[this.index];if(i&&this.state.submitted&&this.multiple!==!0)i.enabled=!0;return i}get selectable(){return this.choices.filter((i)=>!this.isDisabled(i))}get selected(){return this.multiple?this.enabled:this.focused}}function Wu(i,r){if(r instanceof Promise)return r;if(typeof r==="function"){if(Cr.isAsyncFn(r))return r;r=r.call(i,i)}for(let t of r){if(Array.isArray(t.choices)){let s=t.choices.filter((h)=>!i.isDisabled(h));t.enabled=s.every((h)=>h.enabled===!0)}if(i.isDisabled(t)===!0)delete t.enabled}return r}Yu.exports=zu});var Si=m(($C,Zu)=>{var Uy=Di(),Xt=H();class Ou extends Uy{constructor(i){super(i);this.emptyError=this.options.emptyError||"No items were selected"}async dispatch(i,r){if(this.multiple)return this[r.name]?await this[r.name](i,r):await super.dispatch(i,r);this.alert()}separator(){if(this.options.separator)return super.separator();let i=this.styles.muted(this.symbols.ellipsis);return this.state.submitted?super.separator():i}pointer(i,r){return!this.multiple||this.options.pointer?super.pointer(i,r):""}indicator(i,r){return this.multiple?super.indicator(i,r):""}choiceMessage(i,r){let t=this.resolve(i.message,this.state,i,r);if(i.role==="heading"&&!Xt.hasColor(t))t=this.styles.strong(t);return this.resolve(t,this.state,i,r)}choiceSeparator(){return":"}async renderChoice(i,r){await this.onChoice(i,r);let t=this.index===r,s=await this.pointer(i,r),h=await this.indicator(i,r)+(i.pad||""),f=await this.resolve(i.hint,this.state,i,r);if(f&&!Xt.hasColor(f))f=this.styles.muted(f);let e=this.indent(i),l=await this.choiceMessage(i,r),u=()=>[this.margin[3],e+s+h,l,this.margin[1],f].filter(Boolean).join(" ");if(i.role==="heading")return u();if(i.disabled){if(!Xt.hasColor(l))l=this.styles.disabled(l);return u()}if(t)l=this.styles.em(l);return u()}async renderChoices(){if(this.state.loading==="choices")return this.styles.warning("Loading choices");if(this.state.submitted)return"";let i=this.visible.map(async(h,f)=>await this.renderChoice(h,f)),r=await Promise.all(i);if(!r.length)r.push(this.styles.danger("No matching choices"));let t=this.margin[0]+r.join(`
`),s;if(this.options.choicesHeader)s=await this.resolve(this.options.choicesHeader,this.state);return[s,t].filter(Boolean).join(`
`)}format(){if(!this.state.submitted||this.state.cancelled)return"";if(Array.isArray(this.selected))return this.selected.map((i)=>this.styles.primary(i.name)).join(", ");return this.styles.primary(this.selected.name)}async render(){let{submitted:i,size:r}=this.state,t="",s=await this.header(),h=await this.prefix(),f=await this.separator(),e=await this.message();if(this.options.promptLine!==!1)t=[h,e,f,""].join(" "),this.state.prompt=t;let l=await this.format(),u=await this.error()||await this.hint(),d=await this.renderChoices(),n=await this.footer();if(l)t+=l;if(u&&!t.includes(u))t+=" "+u;if(i&&!l&&!d.trim()&&this.multiple&&this.emptyError!=null)t+=this.styles.danger(this.emptyError);this.clear(r),this.write([s,t,d,n].filter(Boolean).join(`
`)),this.write(this.margin[2]),this.restore()}}Zu.exports=Ou});var Iu=m((CC,Ju)=>{var Jy=Si(),Iy=(i,r)=>{let t=i?new RegExp(i,"ig"):/$^/;return(s)=>{return i?s.replace(t,(h)=>r(h)):s}};class Uu extends Jy{constructor(i){super(i);this.cursorShow()}moveCursor(i){this.state.cursor+=i}dispatch(i){return this.append(i)}space(i){return this.options.multiple?super.space(i):this.append(i)}append(i){let{cursor:r,input:t}=this.state;return this.input=t.slice(0,r)+i+t.slice(r),this.moveCursor(1),this.complete()}delete(){let{cursor:i,input:r}=this.state;if(!r)return this.alert();return this.input=r.slice(0,i-1)+r.slice(i),this.moveCursor(-1),this.complete()}deleteForward(){let{cursor:i,input:r}=this.state;if(r[i]===void 0)return this.alert();return this.input=`${r}`.slice(0,i)+`${r}`.slice(i+1),this.complete()}number(i){return this.append(i)}async complete(){this.completing=!0,this.choices=await this.suggest(this.input,this.state._choices),this.state.limit=void 0,this.index=Math.min(Math.max(this.visible.length-1,0),this.index),await this.render(),this.completing=!1}suggest(i=this.input,r=this.state._choices){if(typeof this.options.suggest==="function")return this.options.suggest.call(this,i,r);let t=i.toLowerCase();return r.filter((s)=>s.message.toLowerCase().includes(t))}pointer(){return""}format(){if(!this.focused)return this.input;if(this.options.multiple&&this.state.submitted)return this.selected.map((i)=>this.styles.primary(i.message)).join(", ");if(this.state.submitted){let i=this.value=this.input=this.focused.value;return this.styles.primary(i)}return this.input}async render(){if(this.state.status!=="pending")return super.render();let i=this.options.highlight||this.styles.complement,r=(h,f)=>{if(!h)return h;if(i.stack)return i(h);return i.call(this,h)},t=Iy(this.input,r),s=this.choices;this.choices=s.map((h)=>({...h,message:t(h.message)})),await super.render(),this.choices=s}submit(){if(this.options.multiple)this.value=this.selected.map((i)=>i.name);return super.submit()}}Ju.exports=Uu});var Dt=m((qC,Qu)=>{var Nt=H();Qu.exports=(i,r={})=>{i.cursorHide();let{input:t="",initial:s="",pos:h,showCursor:f=!0,color:e}=r,l=e||i.styles.placeholder,u=Nt.inverse(i.styles.primary),d=(C)=>u(i.styles.black(C)),n=t,w=" ",g=d(w);if(i.blink&&i.blink.off===!0)d=(C)=>C,g="";if(f&&h===0&&s===""&&t==="")return d(w);if(f&&h===0&&(t===s||t===""))return d(s[0])+l(s.slice(1));s=Nt.isPrimitive(s)?`${s}`:"",t=Nt.isPrimitive(t)?`${t}`:"";let x=s&&s.startsWith(t)&&s!==t,_=x?d(s[t.length]):g;if(h!==t.length&&f===!0)n=t.slice(0,h)+d(t[h])+t.slice(h+1),_="";if(f===!1)_="";if(x){let C=i.styles.unstyle(n+_);return n+_+l(s.slice(C.length))}return n+_}});var qr=m((xC,Nu)=>{var Qy=mi(),Xy=Si(),Ny=Dt();class Xu extends Xy{constructor(i){super({...i,multiple:!0});this.type="form",this.initial=this.options.initial,this.align=[this.options.align,"right"].find((r)=>r!=null),this.emptyError="",this.values={}}async reset(i){if(await super.reset(),i===!0)this._index=this.index;return this.index=this._index,this.values={},this.choices.forEach((r)=>r.reset&&r.reset()),this.render()}dispatch(i){return!!i&&this.append(i)}append(i){let r=this.focused;if(!r)return this.alert();let{cursor:t,input:s}=r;return r.value=r.input=s.slice(0,t)+i+s.slice(t),r.cursor++,this.render()}delete(){let i=this.focused;if(!i||i.cursor<=0)return this.alert();let{cursor:r,input:t}=i;return i.value=i.input=t.slice(0,r-1)+t.slice(r),i.cursor--,this.render()}deleteForward(){let i=this.focused;if(!i)return this.alert();let{cursor:r,input:t}=i;if(t[r]===void 0)return this.alert();let s=`${t}`.slice(0,r)+`${t}`.slice(r+1);return i.value=i.input=s,this.render()}right(){let i=this.focused;if(!i)return this.alert();if(i.cursor>=i.input.length)return this.alert();return i.cursor++,this.render()}left(){let i=this.focused;if(!i)return this.alert();if(i.cursor<=0)return this.alert();return i.cursor--,this.render()}space(i,r){return this.dispatch(i,r)}number(i,r){return this.dispatch(i,r)}next(){let i=this.focused;if(!i)return this.alert();let{initial:r,input:t}=i;if(r&&r.startsWith(t)&&t!==r)return i.value=i.input=r,i.cursor=i.value.length,this.render();return super.next()}prev(){let i=this.focused;if(!i)return this.alert();if(i.cursor===0)return super.prev();return i.value=i.input="",i.cursor=0,this.render()}separator(){return""}format(i){return!this.state.submitted?super.format(i):""}pointer(){return""}indicator(i){return i.input?"\u29BF":"\u2299"}async choiceSeparator(i,r){let t=await this.resolve(i.separator,this.state,i,r)||":";return t?" "+this.styles.disabled(t):""}async renderChoice(i,r){await this.onChoice(i,r);let{state:t,styles:s}=this,{cursor:h,initial:f="",name:e,input:l=""}=i,{muted:u,submitted:d,primary:n,danger:w}=s,g=this.index===r,x=i.validate||(()=>!0),_=await this.choiceSeparator(i,r),C=i.message;if(this.align==="right")C=C.padStart(this.longest+1," ");if(this.align==="left")C=C.padEnd(this.longest+1," ");let L=this.values[e]=l||f,M=l?"success":"dark";if(await x.call(i,L,this.state)!==!0)M="danger";let E=s[M],V=E(await this.indicator(i,r))+(i.pad||""),J=this.indent(i),O=()=>[J,V,C+_,l].filter(Boolean).join(" ");if(t.submitted)return C=Qy(C),l=d(l),O();if(i.format)l=await i.format.call(this,l,i,r);else{let j=this.styles.muted;l=Ny(this,{input:l,initial:f,pos:h,showCursor:g,color:j})}if(!this.isValue(l))l=this.styles.muted(this.symbols.ellipsis);if(i.result)this.values[e]=await i.result.call(this,L,i,r);if(g)C=n(C);if(i.error)l+=(l?" ":"")+w(i.error.trim());else if(i.hint)l+=(l?" ":"")+u(i.hint.trim());return O()}async submit(){return this.value=this.values,super.base.submit.call(this)}}Nu.exports=Xu});var Kt=m((FC,Ku)=>{var Dy=qr(),Ky=()=>{throw new Error("expected prompt to have a custom authenticate method")},Du=(i=Ky)=>{class r extends Dy{constructor(t){super(t)}async submit(){this.value=await i.call(this,this.values,this.state),super.base.submit.call(this)}static create(t){return Du(t)}}return r};Ku.exports=Du()});var bu=m((MC,Au)=>{var Py=Kt();function Ay(i,r){if(i.username===this.options.username&&i.password===this.options.password)return!0;return!1}var Pu=(i=Ay)=>{let r=[{name:"username",message:"username"},{name:"password",message:"password",format(s){if(this.options.showPassword)return s;return(this.state.submitted?this.styles.primary:this.styles.muted)(this.symbols.asterisk.repeat(s.length))}}];class t extends Py.create(i){constructor(s){super({...s,choices:r})}static create(s){return Pu(s)}}return t};Au.exports=Pu()});var xr=m((BC,Tu)=>{var by=zi(),{isPrimitive:Gy,hasColor:Ty}=H();class Gu extends by{constructor(i){super(i);this.cursorHide()}async initialize(){let i=await this.resolve(this.initial,this.state);this.input=await this.cast(i),await super.initialize()}dispatch(i){if(!this.isValue(i))return this.alert();return this.input=i,this.submit()}format(i){let{styles:r,state:t}=this;return!t.submitted?r.primary(i):r.success(i)}cast(i){return this.isTrue(i)}isTrue(i){return/^[ty1]/i.test(i)}isFalse(i){return/^[fn0]/i.test(i)}isValue(i){return Gy(i)&&(this.isTrue(i)||this.isFalse(i))}async hint(){if(this.state.status==="pending"){let i=await this.element("hint");if(!Ty(i))return this.styles.muted(i);return i}}async render(){let{input:i,size:r}=this.state,t=await this.prefix(),s=await this.separator(),h=await this.message(),f=this.styles.muted(this.default),e=[t,h,f,s].filter(Boolean).join(" ");this.state.prompt=e;let l=await this.header(),u=this.value=this.cast(i),d=await this.format(u),n=await this.error()||await this.hint(),w=await this.footer();if(n&&!e.includes(n))d+=" "+n;e+=" "+d,this.clear(r),this.write([l,e,w].filter(Boolean).join(`
`)),this.restore()}set value(i){super.value=i}get value(){return this.cast(super.value)}}Tu.exports=Gu});var cu=m((VC,Ru)=>{var Hy=xr();class Hu extends Hy{constructor(i){super(i);this.default=this.options.default||(this.initial?"(Y/n)":"(y/N)")}}Ru.exports=Hu});var vu=m((jC,ku)=>{var Ry=Si(),cy=qr(),Yi=cy.prototype;class au extends Ry{constructor(i){super({...i,multiple:!0});this.align=[this.options.align,"left"].find((r)=>r!=null),this.emptyError="",this.values={}}dispatch(i,r){let t=this.focused,s=t.parent||{};if(!t.editable&&!s.editable){if(i==="a"||i==="i")return super[i]()}return Yi.dispatch.call(this,i,r)}append(i,r){return Yi.append.call(this,i,r)}delete(i,r){return Yi.delete.call(this,i,r)}space(i){return this.focused.editable?this.append(i):super.space()}number(i){return this.focused.editable?this.append(i):super.number(i)}next(){return this.focused.editable?Yi.next.call(this):super.next()}prev(){return this.focused.editable?Yi.prev.call(this):super.prev()}async indicator(i,r){let t=i.indicator||"",s=i.editable?t:super.indicator(i,r);return await this.resolve(s,this.state,i,r)||""}indent(i){return i.role==="heading"?"":i.editable?" ":"  "}async renderChoice(i,r){if(i.indent="",i.editable)return Yi.renderChoice.call(this,i,r);return super.renderChoice(i,r)}error(){return""}footer(){return this.state.error}async validate(){let i=!0;for(let r of this.choices){if(typeof r.validate!=="function")continue;if(r.role==="heading")continue;let t=r.parent?this.value[r.parent.name]:this.value;if(r.editable)t=r.value===r.name?r.initial||"":r.value;else if(!this.isDisabled(r))t=r.enabled===!0;if(i=await r.validate(t,this.state),i!==!0)break}if(i!==!0)this.state.error=typeof i==="string"?i:"Invalid Input";return i}submit(){if(this.focused.newChoice===!0)return super.submit();if(this.choices.some((i)=>i.newChoice))return this.alert();this.value={};for(let i of this.choices){let r=i.parent?this.value[i.parent.name]:this.value;if(i.role==="heading"){this.value[i.name]={};continue}if(i.editable)r[i.name]=i.value===i.name?i.initial||"":i.value;else if(!this.isDisabled(i))r[i.name]=i.enabled===!0}return this.base.submit.call(this)}}ku.exports=au});var Vi=m((EC,pu)=>{var ay=zi(),ky=Et(),vy=Dt(),{isPrimitive:oy}=H();class ou extends ay{constructor(i){super(i);if(this.initial=oy(this.initial)?String(this.initial):"",this.initial)this.cursorHide();this.state.prevCursor=0,this.state.clipboard=[],this.keypressTimeout=this.options.keypressTimeout!==void 0?this.options.keypressTimeout:null}async keypress(i,r=i?ky(i,{}):{}){let t=Date.now(),s=t-this.lastKeypress;this.lastKeypress=t;let h=r.name==="return"||r.name==="enter",f=this.state.prevKeypress,e;if(this.state.prevKeypress=r,this.keypressTimeout!=null&&h){if(s<this.keypressTimeout)return this.submit();this.state.multilineBuffer=this.state.multilineBuffer||"",this.state.multilineBuffer+=i,e=!0,f=null}if(e||this.options.multiline&&h){if(!f||f.name!=="return")return this.append(`
`,r)}return super.keypress(i,r)}moveCursor(i){this.cursor+=i}reset(){return this.input=this.value="",this.cursor=0,this.render()}dispatch(i,r){if(!i||r.ctrl||r.code)return this.alert();this.append(i)}append(i){let{cursor:r,input:t}=this.state;this.input=`${t}`.slice(0,r)+i+`${t}`.slice(r),this.moveCursor(String(i).length),this.render()}insert(i){this.append(i)}delete(){let{cursor:i,input:r}=this.state;if(i<=0)return this.alert();this.input=`${r}`.slice(0,i-1)+`${r}`.slice(i),this.moveCursor(-1),this.render()}deleteForward(){let{cursor:i,input:r}=this.state;if(r[i]===void 0)return this.alert();this.input=`${r}`.slice(0,i)+`${r}`.slice(i+1),this.render()}cutForward(){let i=this.cursor;if(this.input.length<=i)return this.alert();this.state.clipboard.push(this.input.slice(i)),this.input=this.input.slice(0,i),this.render()}cutLeft(){let i=this.cursor;if(i===0)return this.alert();let r=this.input.slice(0,i),t=this.input.slice(i),s=r.split(" ");this.state.clipboard.push(s.pop()),this.input=s.join(" "),this.cursor=this.input.length,this.input+=t,this.render()}paste(){if(!this.state.clipboard.length)return this.alert();this.insert(this.state.clipboard.pop()),this.render()}toggleCursor(){if(this.state.prevCursor)this.cursor=this.state.prevCursor,this.state.prevCursor=0;else this.state.prevCursor=this.cursor,this.cursor=0;this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.input.length-1,this.render()}next(){let i=this.initial!=null?String(this.initial):"";if(!i||!i.startsWith(this.input))return this.alert();this.input=this.initial,this.cursor=this.initial.length,this.render()}prev(){if(!this.input)return this.alert();this.reset()}backward(){return this.left()}forward(){return this.right()}right(){if(this.cursor>=this.input.length)return this.alert();return this.moveCursor(1),this.render()}left(){if(this.cursor<=0)return this.alert();return this.moveCursor(-1),this.render()}isValue(i){return!!i}async format(i=this.value){let r=await this.resolve(this.initial,this.state);if(!this.state.submitted)return vy(this,{input:i,initial:r,pos:this.cursor});return this.styles.submitted(i||r)}async render(){let i=this.state.size,r=await this.prefix(),t=await this.separator(),s=await this.message(),h=[r,s,t].filter(Boolean).join(" ");this.state.prompt=h;let f=await this.header(),e=await this.format(),l=await this.error()||await this.hint(),u=await this.footer();if(l&&!e.includes(l))e+=" "+l;h+=" "+e,this.clear(i),this.write([f,h,u].filter(Boolean).join(`
`)),this.restore()}}pu.exports=ou});var rd=m((LC,id)=>{var py=(i)=>i.filter((r,t)=>i.lastIndexOf(r)===t),Fr=(i)=>py(i).filter(Boolean);id.exports=(i,r={},t="")=>{let{past:s=[],present:h=""}=r,f,e;switch(i){case"prev":case"undo":return f=s.slice(0,s.length-1),e=s[s.length-1]||"",{past:Fr([t,...f]),present:e};case"next":case"redo":return f=s.slice(1),e=s[0]||"",{past:Fr([...f,t]),present:e};case"save":return{past:Fr([...s,t]),present:""};case"remove":if(e=Fr(s.filter((l)=>l!==t)),h="",e.length)h=e.pop();return{past:e,present:h};default:throw new Error(`Invalid action: "${i}"`)}}});var Pt=m((WC,hd)=>{var iS=Vi(),td=rd();class sd extends iS{constructor(i){super(i);let r=this.options.history;if(r&&r.store){let t=r.values||this.initial;this.autosave=!!r.autosave,this.store=r.store,this.data=this.store.get("values")||{past:[],present:t},this.initial=this.data.present||this.data.past[this.data.past.length-1]}}completion(i){if(!this.store)return this.alert();if(this.data=td(i,this.data,this.input),!this.data.present)return this.alert();return this.input=this.data.present,this.cursor=this.input.length,this.render()}altUp(){return this.completion("prev")}altDown(){return this.completion("next")}prev(){return this.save(),super.prev()}save(){if(!this.store)return;this.data=td("save",this.data,this.input),this.store.set("values",this.data)}submit(){if(this.store&&this.autosave===!0)this.save();return super.submit()}}hd.exports=sd});var ld=m((zC,ed)=>{var rS=Vi();class fd extends rS{format(){return""}}ed.exports=fd});var nd=m((YC,dd)=>{var tS=Vi();class ud extends tS{constructor(i={}){super(i);this.sep=this.options.separator||/, */,this.initial=i.initial||""}split(i=this.value){return i?String(i).split(this.sep):[]}format(){let i=this.state.submitted?this.styles.primary:(r)=>r;return this.list.map(i).join(", ")}async submit(i){let r=this.state.error||await this.validate(this.list,this.state);if(r!==!0)return this.state.error=r,super.submit();return this.value=this.list,super.submit()}get list(){return this.split()}}dd.exports=ud});var _d=m((OC,gd)=>{var sS=Si();class wd extends sS{constructor(i){super({...i,multiple:!0})}}gd.exports=wd});var At=m((ZC,yd)=>{var hS=Vi();class md extends hS{constructor(i={}){super({style:"number",...i});this.min=this.isValue(i.min)?this.toNumber(i.min):-1/0,this.max=this.isValue(i.max)?this.toNumber(i.max):1/0,this.delay=i.delay!=null?i.delay:1000,this.float=i.float!==!1,this.round=i.round===!0||i.float===!1,this.major=i.major||10,this.minor=i.minor||1,this.initial=i.initial!=null?i.initial:"",this.input=String(this.initial),this.cursor=this.input.length,this.cursorShow()}append(i){if(!/[-+.]/.test(i)||i==="."&&this.input.includes("."))return this.alert("invalid number");return super.append(i)}number(i){return super.append(i)}next(){if(this.input&&this.input!==this.initial)return this.alert();if(!this.isValue(this.initial))return this.alert();return this.input=this.initial,this.cursor=String(this.initial).length,this.render()}up(i){let r=i||this.minor,t=this.toNumber(this.input);if(t>this.max+r)return this.alert();return this.input=`${t+r}`,this.render()}down(i){let r=i||this.minor,t=this.toNumber(this.input);if(t<this.min-r)return this.alert();return this.input=`${t-r}`,this.render()}shiftDown(){return this.down(this.major)}shiftUp(){return this.up(this.major)}format(i=this.input){if(typeof this.options.format==="function")return this.options.format.call(this,i);return this.styles.info(i)}toNumber(i=""){return this.float?+i:Math.round(+i)}isValue(i){return/^[-+]?[0-9]+((\.)|(\.[0-9]+))?$/.test(i)}submit(){let i=[this.input,this.initial].find((r)=>this.isValue(r));return this.value=this.toNumber(i||0),super.submit()}}yd.exports=md});var Cd=m((UC,$d)=>{var fS=Vi();class Sd extends fS{constructor(i){super(i);this.cursorShow()}format(i=this.input){if(!this.keypressed)return"";return(this.state.submitted?this.styles.primary:this.styles.muted)(this.symbols.asterisk.repeat(i.length))}}$d.exports=Sd});var Md=m((JC,Fd)=>{var eS=mi(),lS=Di(),qd=H();class xd extends lS{constructor(i={}){super(i);this.widths=[].concat(i.messageWidth||50),this.align=[].concat(i.align||"left"),this.linebreak=i.linebreak||!1,this.edgeLength=i.edgeLength||3,this.newline=i.newline||`
   `;let r=i.startNumber||1;if(typeof this.scale==="number")this.scaleKey=!1,this.scale=Array(this.scale).fill(0).map((t,s)=>({name:s+r}))}async reset(){return this.tableized=!1,await super.reset(),this.render()}tableize(){if(this.tableized===!0)return;this.tableized=!0;let i=0;for(let r of this.choices){i=Math.max(i,r.message.length),r.scaleIndex=r.initial||2,r.scale=[];for(let t=0;t<this.scale.length;t++)r.scale.push({index:t})}this.widths[0]=Math.min(this.widths[0],i+3)}async dispatch(i,r){if(this.multiple)return this[r.name]?await this[r.name](i,r):await super.dispatch(i,r);this.alert()}heading(i,r,t){return this.styles.strong(i)}separator(){return this.styles.muted(this.symbols.ellipsis)}right(){let i=this.focused;if(i.scaleIndex>=this.scale.length-1)return this.alert();return i.scaleIndex++,this.render()}left(){let i=this.focused;if(i.scaleIndex<=0)return this.alert();return i.scaleIndex--,this.render()}indent(){return""}format(){if(this.state.submitted)return this.choices.map((r)=>this.styles.info(r.index)).join(", ");return""}pointer(){return""}renderScaleKey(){if(this.scaleKey===!1)return"";if(this.state.submitted)return"";return["",...this.scale.map((t)=>`   ${t.name} - ${t.message}`)].map((t)=>this.styles.muted(t)).join(`
`)}renderScaleHeading(i){let r=this.scale.map((l)=>l.name);if(typeof this.options.renderScaleHeading==="function")r=this.options.renderScaleHeading.call(this,i);let t=this.scaleLength-r.join("").length,s=Math.round(t/(r.length-1)),f=r.map((l)=>this.styles.strong(l)).join(" ".repeat(s)),e=" ".repeat(this.widths[0]);return this.margin[3]+e+this.margin[1]+f}scaleIndicator(i,r,t){if(typeof this.options.scaleIndicator==="function")return this.options.scaleIndicator.call(this,i,r,t);let s=i.scaleIndex===r.index;if(r.disabled)return this.styles.hint(this.symbols.radio.disabled);if(s)return this.styles.success(this.symbols.radio.on);return this.symbols.radio.off}renderScale(i,r){let t=i.scale.map((h)=>this.scaleIndicator(i,h,r)),s=this.term==="Hyper"?"":" ";return t.join(s+this.symbols.line.repeat(this.edgeLength))}async renderChoice(i,r){await this.onChoice(i,r);let t=this.index===r,s=await this.pointer(i,r),h=await i.hint;if(h&&!qd.hasColor(h))h=this.styles.muted(h);let f=(x)=>this.margin[3]+x.replace(/\s+$/,"").padEnd(this.widths[0]," "),e=this.newline,l=this.indent(i),u=await this.resolve(i.message,this.state,i,r),d=await this.renderScale(i,r),n=this.margin[1]+this.margin[3];this.scaleLength=eS(d).length,this.widths[0]=Math.min(this.widths[0],this.width-this.scaleLength-n.length);let g=qd.wordWrap(u,{width:this.widths[0],newline:e}).split(`
`).map((x)=>f(x)+this.margin[1]);if(t)d=this.styles.info(d),g=g.map((x)=>this.styles.info(x));if(g[0]+=d,this.linebreak)g.push("");return[l+s,g.join(`
`)].filter(Boolean)}async renderChoices(){if(this.state.submitted)return"";this.tableize();let i=this.visible.map(async(s,h)=>await this.renderChoice(s,h)),r=await Promise.all(i),t=await this.renderScaleHeading();return this.margin[0]+[t,...r.map((s)=>s.join(" "))].join(`
`)}async render(){let{submitted:i,size:r}=this.state,t=await this.prefix(),s=await this.separator(),h=await this.message(),f="";if(this.options.promptLine!==!1)f=[t,h,s,""].join(" "),this.state.prompt=f;let e=await this.header(),l=await this.format(),u=await this.renderScaleKey(),d=await this.error()||await this.hint(),n=await this.renderChoices(),w=await this.footer(),g=this.emptyError;if(l)f+=l;if(d&&!f.includes(d))f+=" "+d;if(i&&!l&&!n.trim()&&this.multiple&&g!=null)f+=this.styles.danger(g);if(this.clear(r),this.write([e,f,u,n,w].filter(Boolean).join(`
`)),!this.state.submitted)this.write(this.margin[2]);this.restore()}submit(){this.value={};for(let i of this.choices)this.value[i.name]=i.scaleIndex;return this.base.submit.call(this)}}Fd.exports=xd});var Ed=m((IC,jd)=>{var Bd=mi(),uS=(i="")=>{return typeof i==="string"?i.replace(/^['"]|['"]$/g,""):""};class Vd{constructor(i){this.name=i.key,this.field=i.field||{},this.value=uS(i.initial||this.field.initial||""),this.message=i.message||this.name,this.cursor=0,this.input="",this.lines=[]}}var dS=async(i={},r={},t=(s)=>s)=>{let s=new Set,h=i.fields||[],f=i.template,e=[],l=[],u=[],d=1;if(typeof f==="function")f=await f();let n=-1,w=()=>f[++n],g=()=>f[n+1],x=(_)=>{_.line=d,e.push(_)};x({type:"bos",value:""});while(n<f.length-1){let _=w();if(/^[^\S\n ]$/.test(_)){x({type:"text",value:_});continue}if(_===`
`){x({type:"newline",value:_}),d++;continue}if(_==="\\"){_+=w(),x({type:"text",value:_});continue}if((_==="$"||_==="#"||_==="{")&&g()==="{"){let L=w();_+=L;let M={type:"template",open:_,inner:"",close:"",value:_},E;while(E=w()){if(E==="}"){if(g()==="}")E+=w();M.value+=E,M.close=E;break}if(E===":")M.initial="",M.key=M.inner;else if(M.initial!==void 0)M.initial+=E;M.value+=E,M.inner+=E}if(M.template=M.open+(M.initial||M.inner)+M.close,M.key=M.key||M.inner,hasOwnProperty.call(r,M.key))M.initial=r[M.key];M=t(M),x(M),u.push(M.key),s.add(M.key);let V=l.find((J)=>J.name===M.key);if(M.field=h.find((J)=>J.name===M.key),!V)V=new Vd(M),l.push(V);V.lines.push(M.line-1);continue}let C=e[e.length-1];if(C.type==="text"&&C.line===d)C.value+=_;else x({type:"text",value:_})}return x({type:"eos",value:""}),{input:f,tabstops:e,unique:s,keys:u,items:l}};jd.exports=async(i)=>{let r=i.options,t=new Set(r.required===!0?[]:r.required||[]),s={...r.values,...r.initial},{tabstops:h,items:f,keys:e}=await dS(r,s),l=bt("result",i,r),u=bt("format",i,r),d=bt("validate",i,r,!0),n=i.isValue.bind(i);return async(w={},g=!1)=>{let x=0;w.required=t,w.items=f,w.keys=e,w.output="";let _=async(E,V,J,O)=>{let j=await d(E,V,J,O);if(j===!1)return"Invalid field "+J.name;return j};for(let E of h){let{value:V,key:J}=E;if(E.type!=="template"){if(V)w.output+=V;continue}if(E.type==="template"){let O=f.find((Q)=>Q.name===J);if(r.required===!0)w.required.add(O.name);let j=[O.input,w.values[O.value],O.value,V].find(n),F=(O.field||{}).message||E.inner;if(g){let Q=await _(w.values[J],w,O,x);if(Q&&typeof Q==="string"||Q===!1){w.invalid.set(J,Q);continue}w.invalid.delete(J);let $=await l(w.values[J],w,O,x);w.output+=Bd($);continue}O.placeholder=!1;let Z=V;if(V=await u(V,w,O,x),j!==V)w.values[J]=j,V=i.styles.typing(j),w.missing.delete(F);else if(w.values[J]=void 0,j=`<${F}>`,V=i.styles.primary(j),O.placeholder=!0,w.required.has(J))w.missing.add(F);if(w.missing.has(F)&&w.validating)V=i.styles.warning(j);if(w.invalid.has(J)&&w.validating)V=i.styles.danger(j);if(x===w.index)if(Z!==V)V=i.styles.underline(V);else V=i.styles.heading(Bd(V));x++}if(V)w.output+=V}let C=w.output.split(`
`).map((E)=>" "+E),L=f.length,M=0;for(let E of f){if(w.invalid.has(E.name))E.lines.forEach((V)=>{if(C[V][0]!==" ")return;C[V]=w.styles.danger(w.symbols.bullet)+C[V].slice(1)});if(i.isValue(w.values[E.name]))M++}return w.completed=(M/L*100).toFixed(0),w.output=C.join(`
`),w.output}};function bt(i,r,t,s){return(h,f,e,l)=>{if(typeof e.field[i]==="function")return e.field[i].call(r,h,f,e,l);return[s,h].find((u)=>r.isValue(u))}}});var zd=m((QC,Wd)=>{var nS=mi(),wS=Ed(),gS=zi();class Ld extends gS{constructor(i){super(i);this.cursorHide(),this.reset(!0)}async initialize(){this.interpolate=await wS(this),await super.initialize()}async reset(i){if(this.state.keys=[],this.state.invalid=new Map,this.state.missing=new Set,this.state.completed=0,this.state.values={},i!==!0)await this.initialize(),await this.render()}moveCursor(i){let r=this.getItem();this.cursor+=i,r.cursor+=i}dispatch(i,r){if(!r.code&&!r.ctrl&&i!=null&&this.getItem()){this.append(i,r);return}this.alert()}append(i,r){let t=this.getItem(),s=t.input.slice(0,this.cursor),h=t.input.slice(this.cursor);this.input=t.input=`${s}${i}${h}`,this.moveCursor(1),this.render()}delete(){let i=this.getItem();if(this.cursor<=0||!i.input)return this.alert();let r=i.input.slice(this.cursor),t=i.input.slice(0,this.cursor-1);this.input=i.input=`${t}${r}`,this.moveCursor(-1),this.render()}increment(i){return i>=this.state.keys.length-1?0:i+1}decrement(i){return i<=0?this.state.keys.length-1:i-1}first(){this.state.index=0,this.render()}last(){this.state.index=this.state.keys.length-1,this.render()}right(){if(this.cursor>=this.input.length)return this.alert();this.moveCursor(1),this.render()}left(){if(this.cursor<=0)return this.alert();this.moveCursor(-1),this.render()}prev(){this.state.index=this.decrement(this.state.index),this.getItem(),this.render()}next(){this.state.index=this.increment(this.state.index),this.getItem(),this.render()}up(){this.prev()}down(){this.next()}format(i){let r=this.state.completed<100?this.styles.warning:this.styles.success;if(this.state.submitted===!0&&this.state.completed!==100)r=this.styles.danger;return r(`${this.state.completed}% completed`)}async render(){let{index:i,keys:r=[],submitted:t,size:s}=this.state,h=[this.options.newline,`
`].find((M)=>M!=null),f=await this.prefix(),e=await this.separator(),l=await this.message(),u=[f,l,e].filter(Boolean).join(" ");this.state.prompt=u;let d=await this.header(),n=await this.error()||"",w=await this.hint()||"",g=t?"":await this.interpolate(this.state),x=this.state.key=r[i]||"",_=await this.format(x),C=await this.footer();if(_)u+=" "+_;if(w&&!_&&this.state.completed===0)u+=" "+w;this.clear(s);let L=[d,u,g,C,n.trim()];this.write(L.filter(Boolean).join(h)),this.restore()}getItem(i){let{items:r,keys:t,index:s}=this.state,h=r.find((f)=>f.name===t[s]);if(h&&h.input!=null)this.input=h.input,this.cursor=h.cursor;return h}async submit(){if(typeof this.interpolate!=="function")await this.initialize();await this.interpolate(this.state,!0);let{invalid:i,missing:r,output:t,values:s}=this.state;if(i.size){let e="";for(let[l,u]of i)e+=`Invalid ${l}: ${u}
`;return this.state.error=e,super.submit()}if(r.size)return this.state.error="Required: "+[...r.keys()].join(", "),super.submit();let f=nS(t).split(`
`).map((e)=>e.slice(1)).join(`
`);return this.value={values:s,result:f},super.submit()}}Wd.exports=Ld});var Zd=m((XC,Od)=>{var _S=Si();class Yd extends _S{constructor(i){super({...i,reorder:!1,sort:!0,multiple:!0});this.state.hint=[this.options.hint,"(Use <shift>+<up/down> to sort)"].find(this.isValue.bind(this))}indicator(){return""}async renderChoice(i,r){let t=await super.renderChoice(i,r),s=this.symbols.identicalTo+" ",h=this.index===r&&this.sorting?this.styles.muted(s):"  ";if(this.options.drag===!1)h="";if(this.options.numbered===!0)return h+`${r+1} - `+t;return h+t}get selected(){return this.choices}submit(){return this.value=this.choices.map((i)=>i.value),super.submit()}}Od.exports=Yd});var Id=m((NC,Jd)=>{var mS=Di();class Ud extends mS{constructor(i={}){super(i);if(this.emptyError=i.emptyError||"No items were selected",this.term=process.env.TERM_PROGRAM,!this.options.header){let r=["","4 - Strongly Agree","3 - Agree","2 - Neutral","1 - Disagree","0 - Strongly Disagree",""];r=r.map((t)=>this.styles.muted(t)),this.state.header=r.join(`
   `)}}async toChoices(...i){if(this.createdScales)return!1;this.createdScales=!0;let r=await super.toChoices(...i);for(let t of r)t.scale=yS(5,this.options),t.scaleIdx=2;return r}dispatch(){this.alert()}space(){let i=this.focused,r=i.scale[i.scaleIdx],t=r.selected;return i.scale.forEach((s)=>s.selected=!1),r.selected=!t,this.render()}indicator(){return""}pointer(){return""}separator(){return this.styles.muted(this.symbols.ellipsis)}right(){let i=this.focused;if(i.scaleIdx>=i.scale.length-1)return this.alert();return i.scaleIdx++,this.render()}left(){let i=this.focused;if(i.scaleIdx<=0)return this.alert();return i.scaleIdx--,this.render()}indent(){return"   "}async renderChoice(i,r){await this.onChoice(i,r);let t=this.index===r,s=this.term==="Hyper",h=!s?8:9,f=!s?" ":"",e=this.symbols.line.repeat(h),l=" ".repeat(h+(s?0:1)),u=(E)=>(E?this.styles.success("\u25C9"):"\u25EF")+f,d=r+1+".",n=t?this.styles.heading:this.styles.noop,w=await this.resolve(i.message,this.state,i,r),g=this.indent(i),x=g+i.scale.map((E,V)=>u(V===i.scaleIdx)).join(e),_=(E)=>E===i.scaleIdx?n(E):E,C=g+i.scale.map((E,V)=>_(V)).join(l),L=()=>[d,w].filter(Boolean).join(" "),M=()=>[L(),x,C," "].filter(Boolean).join(`
`);if(t)x=this.styles.cyan(x),C=this.styles.cyan(C);return M()}async renderChoices(){if(this.state.submitted)return"";let i=this.visible.map(async(t,s)=>await this.renderChoice(t,s)),r=await Promise.all(i);if(!r.length)r.push(this.styles.danger("No matching choices"));return r.join(`
`)}format(){if(this.state.submitted)return this.choices.map((r)=>this.styles.info(r.scaleIdx)).join(", ");return""}async render(){let{submitted:i,size:r}=this.state,t=await this.prefix(),s=await this.separator(),h=await this.message(),f=[t,h,s].filter(Boolean).join(" ");this.state.prompt=f;let e=await this.header(),l=await this.format(),u=await this.error()||await this.hint(),d=await this.renderChoices(),n=await this.footer();if(l||!u)f+=" "+l;if(u&&!f.includes(u))f+=" "+u;if(i&&!l&&!d&&this.multiple&&this.type!=="form")f+=this.styles.danger(this.emptyError);this.clear(r),this.write([f,e,d,n].filter(Boolean).join(`
`)),this.restore()}submit(){this.value={};for(let i of this.choices)this.value[i.name]=i.scaleIdx;return this.base.submit.call(this)}}function yS(i,r={}){if(Array.isArray(r.scale))return r.scale.map((s)=>({...s}));let t=[];for(let s=1;s<i+1;s++)t.push({i:s,selected:!1});return t}Jd.exports=Ud});var Nd=m((DC,Xd)=>{var SS=xr();class Qd extends SS{async initialize(){await super.initialize(),this.value=this.initial=this.resolve(this.options.initial),this.disabled=this.options.disabled||"no",this.enabled=this.options.enabled||"yes",await this.render()}reset(){this.value=this.initial,this.render()}delete(){this.alert()}toggle(){this.value=!this.value,this.render()}enable(){if(this.value===!0)return this.alert();this.value=!0,this.render()}disable(){if(this.value===!1)return this.alert();this.value=!1,this.render()}up(){this.toggle()}down(){this.toggle()}right(){this.toggle()}left(){this.toggle()}next(){this.toggle()}prev(){this.toggle()}dispatch(i="",r){switch(i.toLowerCase()){case" ":return this.toggle();case"1":case"y":case"t":return this.enable();case"0":case"n":case"f":return this.disable();default:return this.alert()}}format(){let i=(t)=>this.styles.primary.underline(t);return[this.value?this.disabled:i(this.disabled),this.value?i(this.enabled):this.enabled].join(this.styles.muted(" / "))}async render(){let{size:i}=this.state,r=await this.header(),t=await this.prefix(),s=await this.separator(),h=await this.message(),f=await this.format(),e=await this.error()||await this.hint(),l=await this.footer(),u=[t,h,s,f].join(" ");if(this.state.prompt=u,e&&!u.includes(e))u+=" "+e;this.clear(i),this.write([r,u,l].filter(Boolean).join(`
`)),this.write(this.margin[2]),this.restore()}}Xd.exports=Qd});var Pd=m((KC,Kd)=>{var $S=Si();class Dd extends $S{constructor(i){super(i);if(typeof this.options.correctChoice!=="number"||this.options.correctChoice<0)throw new Error("Please specify the index of the correct answer from the list of choices")}async toChoices(i,r){let t=await super.toChoices(i,r);if(t.length<2)throw new Error("Please give at least two choices to the user");if(this.options.correctChoice>t.length)throw new Error("Please specify the index of the correct answer from the list of choices");return t}check(i){return i.index===this.options.correctChoice}async result(i){return{selectedAnswer:i,correctAnswer:this.options.choices[this.options.correctChoice].value,correct:await this.check(this.state)}}}Kd.exports=Dd});var bd=m((Gt)=>{var Ad=H(),G=(i,r)=>{Ad.defineExport(Gt,i,r),Ad.defineExport(Gt,i.toLowerCase(),r)};G("AutoComplete",()=>Iu());G("BasicAuth",()=>bu());G("Confirm",()=>cu());G("Editable",()=>vu());G("Form",()=>qr());G("Input",()=>Pt());G("Invisible",()=>ld());G("List",()=>nd());G("MultiSelect",()=>_d());G("Numeral",()=>At());G("Password",()=>Cd());G("Scale",()=>Md());G("Select",()=>Si());G("Snippet",()=>zd());G("Sort",()=>Zd());G("Survey",()=>Id());G("Text",()=>Pt());G("Toggle",()=>Nd());G("Quiz",()=>Pd())});var Td=m((AC,Gd)=>{Gd.exports={ArrayPrompt:Di(),AuthPrompt:Kt(),BooleanPrompt:xr(),NumberPrompt:At(),StringPrompt:Vi()}});var cd=m((bC,Rd)=>{var Hd=I("assert"),Ht=I("events"),$i=H();class ui extends Ht{constructor(i,r){super();this.options=$i.merge({},i),this.answers={...r}}register(i,r){if($i.isObject(i)){for(let s of Object.keys(i))this.register(s,i[s]);return this}Hd.equal(typeof r,"function","expected a function");let t=i.toLowerCase();if(r.prototype instanceof this.Prompt)this.prompts[t]=r;else this.prompts[t]=r(this.Prompt,this);return this}async prompt(i=[]){for(let r of[].concat(i))try{if(typeof r==="function")r=await r.call(this);await this.ask($i.merge({},this.options,r))}catch(t){return Promise.reject(t)}return this.answers}async ask(i){if(typeof i==="function")i=await i.call(this);let r=$i.merge({},this.options,i),{type:t,name:s}=i,{set:h,get:f}=$i;if(typeof t==="function")t=await t.call(this,i,this.answers);if(!t)return this.answers[s];if(t==="number")t="numeral";Hd(this.prompts[t],`Prompt "${t}" is not registered`);let e=new this.prompts[t](r),l=f(this.answers,s);if(e.state.answers=this.answers,e.enquirer=this,s)e.on("submit",(d)=>{this.emit("answer",s,d,e),h(this.answers,s,d)});let u=e.emit.bind(e);if(e.emit=(...d)=>{return this.emit.call(this,...d),u(...d)},this.emit("prompt",e,this),r.autofill&&l!=null){if(e.value=e.input=l,r.autofill==="show")await e.submit()}else l=e.value=await e.run();return l}use(i){return i.call(this,this),this}set Prompt(i){this._Prompt=i}get Prompt(){return this._Prompt||this.constructor.Prompt}get prompts(){return this.constructor.prompts}static set Prompt(i){this._Prompt=i}static get Prompt(){return this._Prompt||zi()}static get prompts(){return bd()}static get types(){return Td()}static get prompt(){let i=(r,...t)=>{let s=new this(...t),h=s.emit.bind(s);return s.emit=(...f)=>{return i.emit(...f),h(...f)},s.prompt(r)};return $i.mixinEmitter(i,new Ht),i}}$i.mixinEmitter(ui,new Ht);var Tt=ui.prompts;for(let i of Object.keys(Tt)){let r=i.toLowerCase(),t=(s)=>new Tt[i](s).run();if(ui.prompt[r]=t,ui[r]=t,!ui[i])Reflect.defineProperty(ui,i,{get:()=>Tt[i]})}var Ki=(i)=>{$i.defineExport(ui,i,()=>ui.types[i])};Ki("ArrayPrompt");Ki("AuthPrompt");Ki("BooleanPrompt");Ki("NumberPrompt");Ki("StringPrompt");Rd.exports=ui});import{resolve as xS}from"path";import{EventEmitter as nn}from"events";function jr(i){return i==null?[]:Array.isArray(i)?i:[i]}function wn(i,r,t,s){var h,f=i[r],e=~s.string.indexOf(r)?t==null||t===!0?"":String(t):typeof t==="boolean"?t:~s.boolean.indexOf(r)?t==="false"?!1:t==="true"||(i._.push((h=+t,h*0===0)?h:t),!!t):(h=+t,h*0===0)?h:t;i[r]=f==null?e:Array.isArray(f)?f.concat(e):[f,e]}function gn(i,r){i=i||[],r=r||{};var t,s,h,f,e,l={_:[]},u=0,d=0,n=0,w=i.length;let g=r.alias!==void 0,x=r.unknown!==void 0,_=r.default!==void 0;if(r.alias=r.alias||{},r.string=jr(r.string),r.boolean=jr(r.boolean),g)for(t in r.alias){s=r.alias[t]=jr(r.alias[t]);for(u=0;u<s.length;u++)(r.alias[s[u]]=s.concat(t)).splice(u,1)}for(u=r.boolean.length;u-- >0;){s=r.alias[r.boolean[u]]||[];for(d=s.length;d-- >0;)r.boolean.push(s[d])}for(u=r.string.length;u-- >0;){s=r.alias[r.string[u]]||[];for(d=s.length;d-- >0;)r.string.push(s[d])}if(_){for(t in r.default)if(f=typeof r.default[t],s=r.alias[t]=r.alias[t]||[],r[f]!==void 0){r[f].push(t);for(u=0;u<s.length;u++)r[f].push(s[u])}}let C=x?Object.keys(r.alias):[];for(u=0;u<w;u++){if(h=i[u],h==="--"){l._=l._.concat(i.slice(++u));break}for(d=0;d<h.length;d++)if(h.charCodeAt(d)!==45)break;if(d===0)l._.push(h);else if(h.substring(d,d+3)==="no-"){if(f=h.substring(d+3),x&&!~C.indexOf(f))return r.unknown(h);l[f]=!1}else{for(n=d+1;n<h.length;n++)if(h.charCodeAt(n)===61)break;f=h.substring(d,n),e=h.substring(++n)||(u+1===w||(""+i[u+1]).charCodeAt(0)===45||i[++u]),s=d===2?[f]:f;for(n=0;n<s.length;n++){if(f=s[n],x&&!~C.indexOf(f))return r.unknown("-".repeat(d)+f);wn(l,f,n+1<s.length||e,r)}}}if(_){for(t in r.default)if(l[t]===void 0)l[t]=r.default[t]}if(g)for(t in l){s=r.alias[t]||[];while(s.length>0)l[s.shift()]=l[t]}return l}var kt=(i)=>i.replace(/[<[].+/,"").trim(),_n=(i)=>{let r=/<([^>]+)>/g,t=/\[([^\]]+)\]/g,s=[],h=(l)=>{let u=!1,d=l[1];if(d.startsWith("..."))d=d.slice(3),u=!0;return{required:l[0].startsWith("<"),value:d,variadic:u}},f;while(f=r.exec(i))s.push(h(f));let e;while(e=t.exec(i))s.push(h(e));return s},mn=(i)=>{let r={alias:{},boolean:[]};for(let[t,s]of i.entries()){if(s.names.length>1)r.alias[s.names[0]]=s.names.slice(1);if(s.isBoolean)if(s.negated){if(!i.some((f,e)=>{return e!==t&&f.names.some((l)=>s.names.includes(l))&&typeof f.required==="boolean"}))r.boolean.push(s.names[0])}else r.boolean.push(s.names[0])}return r},ct=(i)=>{return i.sort((r,t)=>{return r.length>t.length?-1:1})[0]},at=(i,r)=>{return i.length>=r?i:`${i}${" ".repeat(r-i.length)}`},yn=(i)=>{return i.replace(/([a-z])-([a-z])/g,(r,t,s)=>{return t+s.toUpperCase()})},Sn=(i,r,t)=>{let s=0,h=r.length,f=i,e;for(;s<h;++s)e=f[r[s]],f=f[r[s]]=s===h-1?t:e!=null?e:!!~r[s+1].indexOf(".")||!(+r[s+1]>-1)?{}:[]},$n=(i,r)=>{for(let t of Object.keys(r)){let s=r[t];if(s.shouldTransform){if(i[t]=Array.prototype.concat.call([],i[t]),typeof s.transformFunction==="function")i[t]=i[t].map(s.transformFunction)}}},Cn=(i)=>{let r=/([^\\\/]+)$/.exec(i);return r?r[1]:""},vt=(i)=>{return i.split(".").map((r,t)=>{return t===0?yn(r):r}).join(".")};class Hi extends Error{constructor(i){super(i);if(this.name=this.constructor.name,typeof Error.captureStackTrace==="function")Error.captureStackTrace(this,this.constructor);else this.stack=new Error(i).stack}}class ot{constructor(i,r,t){if(this.rawName=i,this.description=r,this.config=Object.assign({},t),i=i.replace(/\.\*/g,""),this.negated=!1,this.names=kt(i).split(",").map((s)=>{let h=s.trim().replace(/^-{1,2}/,"");if(h.startsWith("no-"))this.negated=!0,h=h.replace(/^no-/,"");return vt(h)}).sort((s,h)=>s.length>h.length?1:-1),this.name=this.names[this.names.length-1],this.negated&&this.config.default==null)this.config.default=!0;if(i.includes("<"))this.required=!0;else if(i.includes("["))this.required=!1;else this.isBoolean=!0}}var qn=process.argv,xn=`${process.platform}-${process.arch} node-${process.version}`;class Er{constructor(i,r,t={},s){this.rawName=i,this.description=r,this.config=t,this.cli=s,this.options=[],this.aliasNames=[],this.name=kt(i),this.args=_n(i),this.examples=[]}usage(i){return this.usageText=i,this}allowUnknownOptions(){return this.config.allowUnknownOptions=!0,this}ignoreOptionDefaultValue(){return this.config.ignoreOptionDefaultValue=!0,this}version(i,r="-v, --version"){return this.versionNumber=i,this.option(r,"Display version number"),this}example(i){return this.examples.push(i),this}option(i,r,t){let s=new ot(i,r,t);return this.options.push(s),this}alias(i){return this.aliasNames.push(i),this}action(i){return this.commandAction=i,this}isMatched(i){return this.name===i||this.aliasNames.includes(i)}get isDefaultCommand(){return this.name===""||this.aliasNames.includes("!")}get isGlobalCommand(){return this instanceof Lr}hasOption(i){return i=i.split(".")[0],this.options.find((r)=>{return r.names.includes(i)})}outputHelp(){let{name:i,commands:r}=this.cli,{versionNumber:t,options:s,helpCallback:h}=this.cli.globalCommand,f=[{body:`${i}${t?`/${t}`:""}`}];if(f.push({title:"Usage",body:`  $ ${i} ${this.usageText||this.rawName}`}),(this.isGlobalCommand||this.isDefaultCommand)&&r.length>0){let u=ct(r.map((d)=>d.rawName));f.push({title:"Commands",body:r.map((d)=>{return`  ${at(d.rawName,u.length)}  ${d.description}`}).join(`
`)}),f.push({title:"For more info, run any command with the `--help` flag",body:r.map((d)=>`  $ ${i}${d.name===""?"":` ${d.name}`} --help`).join(`
`)})}let l=this.isGlobalCommand?s:[...this.options,...s||[]];if(!this.isGlobalCommand&&!this.isDefaultCommand)l=l.filter((u)=>u.name!=="version");if(l.length>0){let u=ct(l.map((d)=>d.rawName));f.push({title:"Options",body:l.map((d)=>{return`  ${at(d.rawName,u.length)}  ${d.description} ${d.config.default===void 0?"":`(default: ${d.config.default})`}`}).join(`
`)})}if(this.examples.length>0)f.push({title:"Examples",body:this.examples.map((u)=>{if(typeof u==="function")return u(i);return u}).join(`
`)});if(h)f=h(f)||f;console.log(f.map((u)=>{return u.title?`${u.title}:
${u.body}`:u.body}).join(`

`))}outputVersion(){let{name:i}=this.cli,{versionNumber:r}=this.cli.globalCommand;if(r)console.log(`${i}/${r} ${xn}`)}checkRequiredArgs(){let i=this.args.filter((r)=>r.required).length;if(this.cli.args.length<i)throw new Hi(`missing required args for command \`${this.rawName}\``)}checkUnknownOptions(){let{options:i,globalCommand:r}=this.cli;if(!this.config.allowUnknownOptions){for(let t of Object.keys(i))if(t!=="--"&&!this.hasOption(t)&&!r.hasOption(t))throw new Hi(`Unknown option \`${t.length>1?`--${t}`:`-${t}`}\``)}}checkOptionValue(){let{options:i,globalCommand:r}=this.cli,t=[...r.options,...this.options];for(let s of t){let h=i[s.name.split(".")[0]];if(s.required){let f=t.some((e)=>e.negated&&e.names.includes(s.name));if(h===!0||h===!1&&!f)throw new Hi(`option \`${s.rawName}\` value is missing`)}}}}class Lr extends Er{constructor(i){super("@@global@@","",{},i)}}var Ti=Object.assign;class pt extends nn{constructor(i=""){super();this.name=i,this.commands=[],this.rawArgs=[],this.args=[],this.options={},this.globalCommand=new Lr(this),this.globalCommand.usage("<command> [options]")}usage(i){return this.globalCommand.usage(i),this}command(i,r,t){let s=new Er(i,r||"",t,this);return s.globalCommand=this.globalCommand,this.commands.push(s),s}option(i,r,t){return this.globalCommand.option(i,r,t),this}help(i){return this.globalCommand.option("-h, --help","Display this message"),this.globalCommand.helpCallback=i,this.showHelpOnExit=!0,this}version(i,r="-v, --version"){return this.globalCommand.version(i,r),this.showVersionOnExit=!0,this}example(i){return this.globalCommand.example(i),this}outputHelp(){if(this.matchedCommand)this.matchedCommand.outputHelp();else this.globalCommand.outputHelp()}outputVersion(){this.globalCommand.outputVersion()}setParsedInfo({args:i,options:r},t,s){if(this.args=i,this.options=r,t)this.matchedCommand=t;if(s)this.matchedCommandName=s;return this}unsetMatchedCommand(){this.matchedCommand=void 0,this.matchedCommandName=void 0}parse(i=qn,{run:r=!0}={}){if(this.rawArgs=i,!this.name)this.name=i[1]?Cn(i[1]):"cli";let t=!0;for(let h of this.commands){let f=this.mri(i.slice(2),h),e=f.args[0];if(h.isMatched(e)){t=!1;let l=Ti(Ti({},f),{args:f.args.slice(1)});this.setParsedInfo(l,h,e),this.emit(`command:${e}`,h)}}if(t){for(let h of this.commands)if(h.name===""){t=!1;let f=this.mri(i.slice(2),h);this.setParsedInfo(f,h),this.emit("command:!",h)}}if(t){let h=this.mri(i.slice(2));this.setParsedInfo(h)}if(this.options.help&&this.showHelpOnExit)this.outputHelp(),r=!1,this.unsetMatchedCommand();if(this.options.version&&this.showVersionOnExit&&this.matchedCommandName==null)this.outputVersion(),r=!1,this.unsetMatchedCommand();let s={args:this.args,options:this.options};if(r)this.runMatchedCommand();if(!this.matchedCommand&&this.args[0])this.emit("command:*");return s}mri(i,r){let t=[...this.globalCommand.options,...r?r.options:[]],s=mn(t),h=[],f=i.indexOf("--");if(f>-1)h=i.slice(f+1),i=i.slice(0,f);let e=gn(i,s);e=Object.keys(e).reduce((w,g)=>{return Ti(Ti({},w),{[vt(g)]:e[g]})},{_:[]});let l=e._,u={"--":h},d=r&&r.config.ignoreOptionDefaultValue?r.config.ignoreOptionDefaultValue:this.globalCommand.config.ignoreOptionDefaultValue,n=Object.create(null);for(let w of t){if(!d&&w.config.default!==void 0)for(let g of w.names)u[g]=w.config.default;if(Array.isArray(w.config.type)){if(n[w.name]===void 0)n[w.name]=Object.create(null),n[w.name].shouldTransform=!0,n[w.name].transformFunction=w.config.type[0]}}for(let w of Object.keys(e))if(w!=="_"){let g=w.split(".");Sn(u,g,e[w]),$n(u,n)}return{args:l,options:u}}runMatchedCommand(){let{args:i,options:r,matchedCommand:t}=this;if(!t||!t.commandAction)return;t.checkUnknownOptions(),t.checkOptionValue(),t.checkRequiredArgs();let s=[];return t.args.forEach((h,f)=>{if(h.variadic)s.push(i.slice(f));else s.push(i[f])}),s.push(r),t.commandAction.apply(this,s)}}var is=(i="")=>new pt(i);var sn=Oi(zr(),1);var wi=Oi(zr(),1);import{writeFile as Vn}from"fs/promises";import{join as jn}from"path";function En(){let i=["happy","quick","bright","calm","brave","clever","kind","wise","proud","cool"],r=["dogs","cats","trees","stars","waves","birds","lions","bears","clouds","rocks"],t=["run","jump","fly","swim","dance","sing","play","grow","shine","bloom"],s=i[Math.floor(Math.random()*i.length)],h=r[Math.floor(Math.random()*r.length)],f=t[Math.floor(Math.random()*t.length)];return`${s}-${h}-${f}`}function Ln(i){return`---
${i.packages.map((t)=>`"${t}": ${i.versionType}`).join(`
`)}
---

${i.category}: ${i.summary}
`}async function ss(i,r,t=".changeset"){let s=`${En()}.md`,h=jn(i,t,s),f=Ln(r);return await Vn(h,f,"utf-8"),h}import{existsSync as Jl}from"fs";import{readFile as Ul}from"fs/promises";import{join as Ft}from"path";async function C0(i){try{let r=Ft(i,"package.json");if(!Jl(r))return;let t=await Ul(r,"utf-8"),s=JSON.parse(t);if(!s.workspaces||!Array.isArray(s.workspaces))return;let{glob:h}=await Promise.resolve().then(() => Oi(xt(),1)),f=await h("**/package.json",{cwd:i,ignore:["**/node_modules/**","**/dist/**","**/bin/**"]});for(let e of f){let l=Ft(i,e),u=await Ul(l,"utf-8"),d=JSON.parse(u);if(d.name&&d.name.startsWith("@"))return d.name.split("/")[0]}return}catch{return}}async function q0(i){let t=Ft(i,".changeset","config.json");if(Jl(t))return".changeset";return".changeset"}async function Il(i){let[r,t]=await Promise.all([q0(i),C0(i)]);return{changesetDir:r,packageScope:t}}var{$:Mt}=globalThis.Bun;async function Ql(){return(await Mt`git status --porcelain`.text()).trim().split(`
`).filter(Boolean).map((t)=>t.slice(3))}async function Xl(i,r){await Mt`git add ${i}`,await Mt`git commit -m ${r}`}var Nl=Oi(xt(),1);import{readFile as x0}from"fs/promises";import{join as F0}from"path";async function Dl(i,r){let t=await Nl.glob("**/package.json",{cwd:i,ignore:["**/node_modules/**","**/dist/**","**/bin/**"]}),s=[];for(let h of t){let f=F0(i,h),e=await x0(f,"utf-8"),l=JSON.parse(e);if(l.name)if(r){if(l.name.startsWith(`${r}/`))s.push({name:l.name,path:h.replace("/package.json","")})}else s.push({name:l.name,path:h.replace("/package.json","")})}return s}function Kl(i,r){let t=new Set;for(let s of i)for(let h of r)if(s.startsWith(h.path))t.add(h.name);return Array.from(t).sort((s,h)=>s.localeCompare(h))}var ad=Oi(cd(),1),{Select:Mr,MultiSelect:CS,Input:qS}=ad.default;async function kd(i,r){if(r.length===0)console.log(`
\u5909\u66F4\u3055\u308C\u305F\u30D5\u30A1\u30A4\u30EB\u304C\u691C\u51FA\u3055\u308C\u307E\u305B\u3093\u3067\u3057\u305F\u3002`),console.log(`\u3059\u3079\u3066\u306E\u30D1\u30C3\u30B1\u30FC\u30B8\u304B\u3089\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044\u3002
`);else{console.log(`
\u4EE5\u4E0B\u306E\u30D1\u30C3\u30B1\u30FC\u30B8\u306B\u5909\u66F4\u304C\u691C\u51FA\u3055\u308C\u307E\u3057\u305F:`);for(let s of r)console.log(`  - ${s}`);console.log("")}return await new CS({name:"packages",message:"changeset\u306B\u542B\u3081\u308B\u30D1\u30C3\u30B1\u30FC\u30B8\u3092\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044\uFF08\u30B9\u30DA\u30FC\u30B9\u3067\u9078\u629E\u3001Enter\u3067\u78BA\u5B9A\uFF09",choices:i,initial:r}).run()}async function vd(){return await new Mr({name:"versionType",message:"\u30D0\u30FC\u30B8\u30E7\u30F3\u30A2\u30C3\u30D7\u306E\u7A2E\u985E\u3092\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044",choices:[{name:"patch",message:"patch - \u30D0\u30B0\u4FEE\u6B63\u3001\u30C9\u30AD\u30E5\u30E1\u30F3\u30C8\u66F4\u65B0"},{name:"minor",message:"minor - \u65B0\u6A5F\u80FD\u8FFD\u52A0\uFF08\u5F8C\u65B9\u4E92\u63DB\u6027\u3042\u308A\uFF09"},{name:"major",message:"major - \u7834\u58CA\u7684\u5909\u66F4"}]}).run()}async function od(){return await new Mr({name:"category",message:"\u5909\u66F4\u306E\u30AB\u30C6\u30B4\u30EA\u3092\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044",choices:[{name:"feat",message:"feat - \u65B0\u6A5F\u80FD\u306E\u8FFD\u52A0"},{name:"fix",message:"fix - \u30D0\u30B0\u306E\u4FEE\u6B63"},{name:"docs",message:"docs - \u30C9\u30AD\u30E5\u30E1\u30F3\u30C8\u306E\u307F\u306E\u5909\u66F4"},{name:"style",message:"style - \u30B3\u30FC\u30C9\u306E\u52D5\u4F5C\u306B\u5F71\u97FF\u3057\u306A\u3044\u5909\u66F4"},{name:"refactor",message:"refactor - \u30B3\u30FC\u30C9\u306E\u30EA\u30D5\u30A1\u30AF\u30BF\u30EA\u30F3\u30B0"},{name:"perf",message:"perf - \u30D1\u30D5\u30A9\u30FC\u30DE\u30F3\u30B9\u6539\u5584"},{name:"test",message:"test - \u30C6\u30B9\u30C8\u306E\u8FFD\u52A0\u3084\u4FEE\u6B63"},{name:"build",message:"build - \u30D3\u30EB\u30C9\u30B7\u30B9\u30C6\u30E0\u306E\u5909\u66F4"},{name:"ci",message:"ci - CI\u8A2D\u5B9A\u306E\u5909\u66F4"},{name:"chore",message:"chore - \u305D\u306E\u4ED6\u306E\u5909\u66F4"},{name:"revert",message:"revert - \u4EE5\u524D\u306E\u30B3\u30DF\u30C3\u30C8\u306E\u53D6\u308A\u6D88\u3057"},{name:"improvement",message:"improvement - \u65E2\u5B58\u6A5F\u80FD\u306E\u6539\u5584"},{name:"security",message:"security - \u30BB\u30AD\u30E5\u30EA\u30C6\u30A3\u95A2\u9023\u306E\u4FEE\u6B63"}]}).run()}async function pd(){let t=await new Mr({name:"template",message:"\u5909\u66F4\u5185\u5BB9\u306E\u30B5\u30DE\u30EA\u30FC\u3092\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044",choices:["\u65B0\u6A5F\u80FD\u3092\u8FFD\u52A0","\u30D0\u30B0\u3092\u4FEE\u6B63","\u30C9\u30AD\u30E5\u30E1\u30F3\u30C8\u3092\u66F4\u65B0","\u30D1\u30D5\u30A9\u30FC\u30DE\u30F3\u30B9\u3092\u6539\u5584","\u4F9D\u5B58\u95A2\u4FC2\u3092\u66F4\u65B0","\u30EA\u30D5\u30A1\u30AF\u30BF\u30EA\u30F3\u30B0\u3092\u5B9F\u65BD","\u30BB\u30AD\u30E5\u30EA\u30C6\u30A3\u3092\u5F37\u5316","\u30C6\u30B9\u30C8\u3092\u8FFD\u52A0","\u30D3\u30EB\u30C9\u8A2D\u5B9A\u3092\u5909\u66F4","CI\u8A2D\u5B9A\u3092\u66F4\u65B0","\u30AB\u30B9\u30BF\u30E0\u5165\u529B..."]}).run();if(t==="\u30AB\u30B9\u30BF\u30E0\u5165\u529B...")return await new qS({name:"summary",message:"\u5909\u66F4\u5185\u5BB9\u306E\u30B5\u30DE\u30EA\u30FC\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044"}).run();return t}async function rn(i,r,t,s){return console.log(`
=== Changeset \u78BA\u8A8D ===`),console.log(`\u30D1\u30C3\u30B1\u30FC\u30B8: ${i.join(", ")}`),console.log(`\u30D0\u30FC\u30B8\u30E7\u30F3: ${r}`),console.log(`\u30AB\u30C6\u30B4\u30EA: ${t}`),console.log(`\u30B5\u30DE\u30EA\u30FC: ${s}`),console.log(`==================
`),await new Mr({name:"confirm",message:"\u3053\u306E\u5185\u5BB9\u3067changeset\u3092\u4F5C\u6210\u3057\u307E\u3059\u304B\uFF1F",choices:["\u306F\u3044","\u3044\u3044\u3048"]}).run()==="\u306F\u3044"}async function tn(i){console.log(wi.default.cyan(`
\uD83D\uDCDD Changeset \u4F5C\u6210\u30C4\u30FC\u30EB
`));try{let r=await Il(i);if(r.packageScope)console.log(wi.default.dim(`\u30D1\u30C3\u30B1\u30FC\u30B8\u30B9\u30B3\u30FC\u30D7: ${r.packageScope}`));console.log(wi.default.dim(`Changeset\u30C7\u30A3\u30EC\u30AF\u30C8\u30EA: ${r.changesetDir}
`));let t=await Ql(),s=await Dl(i,r.packageScope),h=s.map((_)=>_.name),f=Kl(t,s),e=await kd(h,f);if(e.length===0)console.log(wi.default.red(`
\u274C \u30D1\u30C3\u30B1\u30FC\u30B8\u304C\u9078\u629E\u3055\u308C\u3066\u3044\u307E\u305B\u3093\u3002`)),process.exit(1);let l=await vd(),u=await od(),d=await pd();if(!await rn(e,l,u,d))console.log(wi.default.yellow(`
\u26A0\uFE0F  \u30AD\u30E3\u30F3\u30BB\u30EB\u3055\u308C\u307E\u3057\u305F\u3002`)),process.exit(0);let g=await ss(i,{packages:e,versionType:l,category:u,summary:d},r.changesetDir);console.log(wi.default.green(`
\u2705 Changeset\u30D5\u30A1\u30A4\u30EB\u3092\u4F5C\u6210\u3057\u307E\u3057\u305F: ${g}`));let x=`changeset: ${d}`;await Xl(g,x),console.log(wi.default.green(`\u2705 \u30B3\u30DF\u30C3\u30C8\u3057\u307E\u3057\u305F: ${x}
`))}catch(r){if(r instanceof Error)console.error(wi.default.red(`
\u274C \u30A8\u30E9\u30FC: ${r.message}
`));process.exit(1)}}var Br=is("changeset-jp");Br.command("[root]","changeset\u3092\u4F5C\u6210\u3057\u307E\u3059\uFF08\u65E5\u672C\u8A9E\u7248\uFF09").option("--root <dir>","\u30EA\u30DD\u30B8\u30C8\u30EA\u306E\u30EB\u30FC\u30C8\u30C7\u30A3\u30EC\u30AF\u30C8\u30EA",{default:process.cwd()}).action(async(i,r)=>{let t=xS(r.root||i||process.cwd());await tn(t)});Br.help();Br.version("1.0.0");try{Br.parse()}catch(i){if(i instanceof Error)console.error(sn.default.red(`\u30A8\u30E9\u30FC: ${i.message}`));process.exit(1)}
