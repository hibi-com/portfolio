# インフラ仕様書

このディレクトリには、インフラストラクチャの**仕様**を定義したドキュメントを格納します。

## 仕様駆動開発のアプローチ

インフラの管理は以下のフローで行います：

```
仕様定義（手動） → 実装（Pulumi） → 構成図生成（自動）
   ↑                    ↑                    ↑
   本ディレクトリ      infra/            docs/architecture/
```

## ファイル一覧

| ファイル | 説明 | 管理方法 |
| -------- | ---- | -------- |
| `overview.md` | インフラ仕様書 | 手動 |

## 構成図との違い

| ドキュメント | 目的 | 管理方法 |
| ------------ | ---- | -------- |
| `docs/specs/infra/` | **仕様を定義**（要件、制約、設計判断） | 手動 |
| `docs/architecture/infra-architecture.md` | **実装を図示**（構成図、依存関係） | 将来的に自動生成 |

## 記載すべき内容

### ✅ このディレクトリに書くべきもの

- インフラの要件
- 非機能要件（パフォーマンス、可用性など）
- 制約事項
- コスト試算
- 環境構成
- 設計判断の理由

### ❌ このディレクトリに書かないもの

- 実際のリソース構成図（Pulumiから自動生成）
- 現在のデプロイ状態（`pulumi stack`で確認）
- 具体的なリソース定義（`infra/`で実装）

## 自動生成の将来計画

将来的には、以下の情報をPulumiから自動生成する予定：

- ランタイム構成図
- プロビジョニング構成図
- リソース依存グラフ

## 参考

- [Architecture: インフラアーキテクチャ](../../architecture/infra-architecture.md)
- [Development: APIキー・トークン発行](../../development/api-keys-setup.md)
