---
title: ポートフォリオ管理
description: 管理者によるポートフォリオのCRUD操作
---

## ストーリー

**As a** Admin（管理者）
**I want to** ポートフォリオを作成・編集・削除したい
**So that** 実績を効果的にアピールできる

## ペルソナ

| 属性 | 値 |
| ---- | -- |
| 名前 | Admin |
| 役割 | admin |
| 技術レベル | 中級者〜上級者 |
| 主な目的 | ポートフォリオ管理 |

## 前提条件

- 管理者としてログイン済み
- 管理画面にアクセス可能

## 受け入れ条件（Acceptance Criteria）

### AC1: ポートフォリオ一覧の表示

**Given** 管理者がログインしている
**When** ポートフォリオ管理ページにアクセスする
**Then** すべてのポートフォリオが一覧表示される

### AC2: 新規ポートフォリオの作成

**Given** ポートフォリオ管理ページにいる
**When** 「新規作成」ボタンをクリックし、必要情報を入力して保存する
**Then** 新しいポートフォリオが作成される

### AC3: 画像のアップロード

**Given** ポートフォリオ作成/編集ページにいる
**When** 画像をアップロードする
**Then** 画像がR2に保存され、ポートフォリオに関連付けられる

### AC4: ポートフォリオの編集

**Given** ポートフォリオ一覧にポートフォリオが存在する
**When** 「編集」ボタンをクリックし、内容を変更して保存する
**Then** ポートフォリオが更新される

### AC5: ポートフォリオの削除

**Given** ポートフォリオ一覧にポートフォリオが存在する
**When** 「削除」ボタンをクリックし、確認する
**Then** ポートフォリオと関連画像が削除される

## シナリオ

### 正常系シナリオ

1. 管理者は管理画面にログインする
2. サイドバーから「ポートフォリオ」をクリックする
3. ポートフォリオ一覧が表示される
4. 「新規作成」ボタンをクリックする
5. タイトル、会社名、期間、概要、説明を入力する
6. 画像をアップロードする
7. 「保存」ボタンをクリックする
8. ポートフォリオが作成され、一覧に戻る

### 異常系シナリオ

1. 必須フィールドが空の場合、バリデーションエラー
2. 画像形式が不正な場合、エラーメッセージ
3. 画像サイズが大きすぎる場合、エラーメッセージ

## UI/UX要件

### 画面構成

```text
┌─────────────────────────────────────────────┐
│ Header (Navigation)                          │
├──────────┬──────────────────────────────────┤
│          │ ポートフォリオ      [新規作成]    │
│ Sidebar  ├──────────────────────────────────┤
│          │ ┌─────┐ ┌─────┐ ┌─────┐         │
│          │ │Card1│ │Card2│ │Card3│         │
│          │ └─────┘ └─────┘ └─────┘         │
│          │                                   │
└──────────┴───────────────────────────────────┘
```

### 必要な要素

| 要素 | 種類 | 説明 |
| ---- | ---- | ---- |
| 新規作成ボタン | button | 作成画面へ遷移 |
| ポートフォリオカード | card | サムネイル付きカード |
| 画像アップローダー | dropzone | ドラッグ&ドロップ対応 |
| 編集ボタン | button | 編集画面へ遷移 |
| 削除ボタン | button | 削除確認ダイアログ |

## テスト

### E2Eテスト

- ファイル: `apps/admin/e2e/large/admin/manage-portfolios.large.spec.ts`
- 対応するAC: AC1, AC2, AC3, AC4, AC5

### テストシナリオ

| シナリオ | AC | 自動化 |
| -------- | -- | ------ |
| 一覧表示 | AC1 | Yes |
| 新規作成 | AC2 | Yes |
| 画像アップロード | AC3 | Yes |
| 編集 | AC4 | Yes |
| 削除 | AC5 | Yes |

## 関連

- シーケンス図: `docs/sequence/admin/portfolios/`
- API仕様: `docs/specs/api/portfolio.md`
- 画面: `apps/admin/app/routes/portfolios/`
