---
title: ブログ記事管理
description: 管理者によるブログ記事のCRUD操作
---

## ストーリー

**As a** Admin（管理者）
**I want to** ブログ記事を作成・編集・削除したい
**So that** ポートフォリオサイトのコンテンツを管理できる

## ペルソナ

| 属性 | 値 |
| ---- | -- |
| 名前 | Admin |
| 役割 | admin |
| 技術レベル | 中級者〜上級者 |
| 主な目的 | コンテンツ管理 |

## 前提条件

- 管理者としてログイン済み
- 管理画面にアクセス可能

## 受け入れ条件（Acceptance Criteria）

### AC1: 記事一覧の表示

**Given** 管理者がログインしている
**When** 記事管理ページにアクセスする
**Then** すべての記事が一覧表示される

### AC2: 新規記事の作成

**Given** 記事管理ページにいる
**When** 「新規作成」ボタンをクリックし、必要情報を入力して保存する
**Then** 新しい記事が作成され、一覧に表示される

### AC3: 記事の編集

**Given** 記事一覧に記事が存在する
**When** 記事の「編集」ボタンをクリックし、内容を変更して保存する
**Then** 記事が更新され、変更内容が反映される

### AC4: 記事の削除

**Given** 記事一覧に記事が存在する
**When** 記事の「削除」ボタンをクリックし、確認ダイアログで承認する
**Then** 記事が削除され、一覧から消える

### AC5: 下書き保存

**Given** 記事作成/編集ページにいる
**When** 「下書き保存」ボタンをクリックする
**Then** 記事が下書きとして保存され、公開されない

## シナリオ

### 正常系シナリオ

1. 管理者は管理画面にログインする
2. サイドバーから「記事管理」をクリックする
3. 記事一覧が表示される
4. 「新規作成」ボタンをクリックする
5. タイトル、スラッグ、本文、タグを入力する
6. 「公開」ボタンをクリックする
7. 記事が作成され、一覧に戻る

### 代替シナリオ

1. 下書き保存: 手順6で「下書き保存」をクリック
2. プレビュー: 手順5の後「プレビュー」をクリック

### 異常系シナリオ

1. 必須フィールドが空の場合、バリデーションエラーが表示される
2. スラッグが重複している場合、エラーメッセージが表示される

## UI/UX要件

### 画面構成

```text
┌─────────────────────────────────────────────┐
│ Header (Navigation)                          │
├──────────┬──────────────────────────────────┤
│          │ 記事管理           [新規作成]     │
│ Sidebar  ├──────────────────────────────────┤
│          │ ┌────────────────────────────┐   │
│          │ │ タイトル │ 状態 │ 日付 │操作│   │
│          │ ├────────────────────────────┤   │
│          │ │ 記事1    │ 公開 │ ...  │編集│   │
│          │ │ 記事2    │ 下書 │ ...  │編集│   │
│          │ └────────────────────────────┘   │
│          │                                   │
└──────────┴───────────────────────────────────┘
```

### 必要な要素

| 要素 | 種類 | 説明 |
| ---- | ---- | ---- |
| 新規作成ボタン | button | 記事作成画面へ遷移 |
| 記事テーブル | table | 記事一覧を表示 |
| 編集ボタン | button | 記事編集画面へ遷移 |
| 削除ボタン | button | 削除確認ダイアログを表示 |
| ステータスバッジ | badge | 公開/下書きを表示 |

### インタラクション

| アクション | 結果 |
| ---------- | ---- |
| 新規作成クリック | 記事作成画面へ遷移 |
| 編集クリック | 記事編集画面へ遷移 |
| 削除クリック | 確認ダイアログを表示 |
| 削除確認 | 記事を削除し一覧を更新 |

## 非機能要件

### パフォーマンス

| 項目 | 基準 |
| ---- | ---- |
| ページ読み込み | < 3秒 |
| 記事保存 | < 2秒 |

### アクセシビリティ

- キーボード操作対応
- スクリーンリーダー対応
- フォームラベルの適切な設定

## テスト

### E2Eテスト

- ファイル: `apps/admin/e2e/manage-posts.spec.ts`
- 対応するAC: AC1, AC2, AC3, AC4, AC5

### テストシナリオ

| シナリオ | AC | 自動化 |
| -------- | -- | ------ |
| 記事一覧表示 | AC1 | Yes |
| 新規記事作成 | AC2 | Yes |
| 記事編集 | AC3 | Yes |
| 記事削除 | AC4 | Yes |
| 下書き保存 | AC5 | Yes |
| バリデーションエラー | - | Yes |

## 関連

- シーケンス図: `docs/sequence/admin/posts/`
- API仕様: `docs/specs/api/post.md`
- 画面: `apps/admin/app/routes/posts/`
