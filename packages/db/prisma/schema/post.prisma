model Post {
    id          String   @id @default(uuid())
    title       String
    slug        String   @unique
    date        DateTime
    description String?
    content     String
    contentRaw  String?  @map("content_raw")
    imageTemp   String   @map("image_temp")
    sticky      Boolean  @default(false)
    intro       String?
    createdAt   DateTime @default(now()) @map("created_at")
    updatedAt   DateTime @updatedAt @map("updated_at")

    tags PostTag[]
    images PostImage[]

    @@map("posts")
}

model Tag {
    id   String @id @default(uuid())
    name String @unique

    posts PostTag[]

    @@map("tags")
}

model PostTag {
    postId String @map("post_id")
    tagId  String @map("tag_id")

    post Post @relation(fields: [postId], references: [id], onDelete: Cascade)
    tag  Tag  @relation(fields: [tagId], references: [id], onDelete: Cascade)

    @@id([postId, tagId])
    @@map("post_tags")
}

model PostImage {
    id     String @id @default(uuid())
    postId String @map("post_id")
    url    String

    post Post @relation(fields: [postId], references: [id], onDelete: Cascade)

    @@map("post_images")
}
